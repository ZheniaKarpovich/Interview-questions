## [Main title](../README.md)
# DB/SQL

## –û–≥–ª–∞–≤–ª–µ–Ω–∏–µ

- [1. –ß—Ç–æ —Ç–∞–∫–æ–µ SQL –∏ –¥–ª—è —á–µ–≥–æ –æ–Ω –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è?](#1-—á—Ç–æ-—Ç–∞–∫–æ–µ-sql-–∏-–¥–ª—è-—á–µ–≥–æ-–æ–Ω-–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)
- [2. –†–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É SQL –∏ NoSQL –±–∞–∑–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö](#2-—Ä–∞–∑–Ω–∏—Ü–∞-–º–µ–∂–¥—É-sql-–∏-nosql-–±–∞–∑–∞–º–∏-–¥–∞–Ω–Ω—ã—Ö)
- [3. –ö–∞–∫–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –º–æ–∂–Ω–æ –≤—ã–ø–æ–ª–Ω—è—Ç—å —Å –ø–æ–º–æ—â—å—é SQL, –¥–ª—è —á–µ–≥–æ –æ–Ω–∏ –Ω—É–∂–Ω—ã –∏ –∏—Ö –ø–æ—Ä—è–¥–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è?](#3-–∫–∞–∫–∏–µ-–æ–ø–µ—Ä–∞—Ü–∏–∏-–º–æ–∂–Ω–æ-–≤—ã–ø–æ–ª–Ω—è—Ç—å-—Å-–ø–æ–º–æ—â—å—é-sql-–¥–ª—è-—á–µ–≥–æ-–æ–Ω–∏-–Ω—É–∂–Ω—ã-–∏-–∏—Ö-–ø–æ—Ä—è–¥–æ–∫-–≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è)
- [4. –ö–∞–∫–∏–µ —Ç–∏–ø—ã JOIN-–æ–≤ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –∏ –≤ —á–µ–º –∏—Ö –æ—Ç–ª–∏—á–∏—è ?](#4-–∫–∞–∫–∏–µ-—Ç–∏–ø—ã-join-–æ–≤-—Å—É—â–µ—Å—Ç–≤—É—é—Ç-–∏-–≤-—á–µ–º-–∏—Ö-–æ—Ç–ª–∏—á–∏—è-)
- [5. –ß—Ç–æ —Ç–∞–∫–æ–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Ç–∞–±–ª–∏—Ü –≤ SQL –∏ –∫–∞–∫–∏–µ –æ–Ω–∏ –±—ã–≤–∞—é—Ç ?](#5-—á—Ç–æ-—Ç–∞–∫–æ–µ-–∞–ª–≥–æ—Ä–∏—Ç–º—ã-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è-—Ç–∞–±–ª–∏—Ü-–≤-sql-–∏-–∫–∞–∫–∏–µ-–æ–Ω–∏-–±—ã–≤–∞—é—Ç-)
- [6. –ß—Ç–æ —Ç–∞–∫–æ–µ Hash Join (—Ö—ç—à-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ)?](#6-—á—Ç–æ-—Ç–∞–∫–æ–µ-hash-join-—Ö—ç—à-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ)
- [7. –ß—Ç–æ —Ç–∞–∫–æ–µ –ø–µ—Ä–≤–∏—á–Ω—ã–π –∫–ª—é—á (Primary Key) –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö?](#7-—á—Ç–æ-—Ç–∞–∫–æ–µ-–ø–µ—Ä–≤–∏—á–Ω—ã–π-–∫–ª—é—á-primary-key-–≤-–±–∞–∑–µ-–¥–∞–Ω–Ω—ã—Ö)
- [8. –ß—Ç–æ —Ç–∞–∫–æ–µ –≤–Ω–µ—à–Ω–∏–π –∫–ª—é—á (Foreign Key) –∏ –∫–∞–∫ –æ–Ω –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è?](#8-—á—Ç–æ-—Ç–∞–∫–æ–µ-–≤–Ω–µ—à–Ω–∏–π-–∫–ª—é—á-foreign-key-–∏-–∫–∞–∫-–æ–Ω-–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)
- [9. –í —á–µ–º —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É PRIMARY KEY –∏ UNIQUE –∫–ª—é—á–æ–º?](#9-–≤-—á–µ–º-—Ä–∞–∑–Ω–∏—Ü–∞-–º–µ–∂–¥—É-primary-key-–∏-unique-–∫–ª—é—á–æ–º)
- [10. –ö–∞–∫–∏–µ –≤–∏–¥—ã —Å–≤—è–∑–µ–π –º–µ–∂–¥—É —Ç–∞–±–ª–∏—Ü–∞–º–∏ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –∏ –∫–∞–∫ –æ–Ω–∏ —Ä–µ–∞–ª–∏–∑—É—é—Ç—Å—è?](#10-–∫–∞–∫–∏–µ-–≤–∏–¥—ã-—Å–≤—è–∑–µ–π-–º–µ–∂–¥—É-—Ç–∞–±–ª–∏—Ü–∞–º–∏-—Å—É—â–µ—Å—Ç–≤—É—é—Ç-–∏-–∫–∞–∫-–æ–Ω–∏-—Ä–µ–∞–ª–∏–∑—É—é—Ç—Å—è)
- [11. –ß—Ç–æ —Ç–∞–∫–æ–µ –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è? –û–±—ä—è—Å–Ω–∏—Ç–µ —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏](#11-—á—Ç–æ-—Ç–∞–∫–æ–µ-–Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è-–æ–±—ä—è—Å–Ω–∏—Ç–µ-—Å-–ø—Ä–∏–º–µ—Ä–∞–º–∏)
- [12. –ß—Ç–æ —Ç–∞–∫–æ–µ –¥–µ–Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –∏ –∫–æ–≥–¥–∞ –µ—ë –∏—Å–ø–æ–ª—å–∑—É—é—Ç?](#12-—á—Ç–æ-—Ç–∞–∫–æ–µ-–¥–µ–Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è-–∏-–∫–æ–≥–¥–∞-–µ—ë-–∏—Å–ø–æ–ª—å–∑—É—é—Ç)
- [13. –ß—Ç–æ —Ç–∞–∫–æ–µ –∏–Ω–¥–µ–∫—Å—ã –∏ –∫–∞–∫ –æ–Ω–∏ —É–ª—É—á—à–∞—é—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∑–∞–ø—Ä–æ—Å–æ–≤?](#13-—á—Ç–æ-—Ç–∞–∫–æ–µ-–∏–Ω–¥–µ–∫—Å—ã-–∏-–∫–∞–∫-–æ–Ω–∏-—É–ª—É—á—à–∞—é—Ç-–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å-–∑–∞–ø—Ä–æ—Å–æ–≤)
- [14. –ß—Ç–æ —Ç–∞–∫–æ–µ PL/SQL?](#14-—á—Ç–æ-—Ç–∞–∫–æ–µ-plsql)
- [15. –ö–∞–∫–∞—è —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É –ø—Ä–æ—Ü–µ–¥—É—Ä–Ω—ã–º –∏ –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω—ã–º –ø–æ–¥—Ö–æ–¥–æ–º –≤ SQL?](#15-–∫–∞–∫–∞—è-—Ä–∞–∑–Ω–∏—Ü–∞-–º–µ–∂–¥—É-–ø—Ä–æ—Ü–µ–¥—É—Ä–Ω—ã–º-–∏-–¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω—ã–º-–ø–æ–¥—Ö–æ–¥–æ–º-–≤-sql)
- [16. –û–±—ä—è—Å–Ω–∏—Ç–µ —Å–≤–æ–π—Å—Ç–≤–∞ ACID –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö](#16-–æ–±—ä—è—Å–Ω–∏—Ç–µ-—Å–≤–æ–π—Å—Ç–≤–∞-acid-–≤-–∫–æ–Ω—Ç–µ–∫—Å—Ç–µ-–±–∞–∑-–¥–∞–Ω–Ω—ã—Ö)
- [17. –ß—Ç–æ —Ç–∞–∫–æ–µ —É—Ä–æ–≤–µ–Ω—å –∏–∑–æ–ª—è—Ü–∏–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ (Transaction Isolation Levels)? –ö–∞–∫–∏–µ –≤–∏–¥—ã –±—ã–≤–∞—é—Ç –∏ –∫–∞–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã –æ–Ω–∏ —Ä–µ—à–∞—é—Ç ?](#17-—á—Ç–æ-—Ç–∞–∫–æ–µ-—É—Ä–æ–≤–µ–Ω—å-–∏–∑–æ–ª—è—Ü–∏–∏-—Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏-transaction-isolation-levels-–∫–∞–∫–∏–µ-–≤–∏–¥—ã-–±—ã–≤–∞—é—Ç-–∏-–∫–∞–∫–∏–µ-–ø—Ä–æ–±–ª–µ–º—ã-–æ–Ω–∏-—Ä–µ—à–∞—é—Ç-)
- [18. –û–±—ä—è—Å–Ω–∏—Ç–µ –ª–æ–≥–∏—á–µ—Å–∫—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É PostgreSQL](#18-–æ–±—ä—è—Å–Ω–∏—Ç–µ-–ª–æ–≥–∏—á–µ—Å–∫—É—é-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É-postgresql)
- [19. –û–ø–∏—à–∏ —Ñ–∏–∑–∏—á–µ—Å–∫—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É PostgreSQL](#19-–æ–ø–∏—à–∏-—Ñ–∏–∑–∏—á–µ—Å–∫—É—é-—Å—Ç—Ä—É–∫—Ç—É—Ä—É-postgresql)
- [20. –û–±—ä—è—Å–Ω–∏—Ç–µ MVCC –≤ PostgreSQL](#20-–æ–±—ä—è—Å–Ω–∏—Ç–µ-mvcc-–≤-postgresql)
- [21. –ß—Ç–æ —Ç–∞–∫–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ –ø—Ä–∏–º–µ—Ä–µ PostgreSQL?](#21-—á—Ç–æ-—Ç–∞–∫–æ–µ-–º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ-–Ω–∞-–ø—Ä–∏–º–µ—Ä–µ-postgresql)
- [22. –ß—Ç–æ —Ç–∞–∫–æ–µ —à–∞—Ä–¥–∏—Ä–æ–≤–∞–Ω–∏–µ?](#22-—á—Ç–æ-—Ç–∞–∫–æ–µ-—à–∞—Ä–¥–∏—Ä–æ–≤–∞–Ω–∏–µ)
- [23. –ß—Ç–æ —Ç–∞–∫–æ–µ —Ä–µ–ø–ª–∏–∫–∞—Ü–∏—è?](#23-—á—Ç–æ-—Ç–∞–∫–æ–µ-—Ä–µ–ø–ª–∏–∫–∞—Ü–∏—è)
- [24. –ß—Ç–æ —Ç–∞–∫–æ–µ –ø–∞—Ä—Ç–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ SQL?](#24-—á—Ç–æ-—Ç–∞–∫–æ–µ-–ø–∞—Ä—Ç–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ-–≤-sql)
- [25. –ß—Ç–æ —Ç–∞–∫–æ–µ —Ç—Ä–∏–≥–≥–µ—Ä?](#25-—á—Ç–æ-—Ç–∞–∫–æ–µ-—Ç—Ä–∏–≥–≥–µ—Ä)
- [26. –í —á–µ–º —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É —Ç—Ä–∏–≥–≥–µ—Ä–æ–º –∏ –ø—Ä–æ—Ü–µ–¥—É—Ä–æ–π/—Ñ—É–Ω–∫—Ü–∏–µ–π?](#26-–≤-—á–µ–º-—Ä–∞–∑–Ω–∏—Ü–∞-–º–µ–∂–¥—É-—Ç—Ä–∏–≥–≥–µ—Ä–æ–º-–∏-–ø—Ä–æ—Ü–µ–¥—É—Ä–æ–π—Ñ—É–Ω–∫—Ü–∏–µ–π)
- [27. –ß—Ç–æ —Ç–∞–∫–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è (views) –∏ –∫–∞–∫–æ–≤—ã –∏—Ö –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞? –ö–∞–∫ –æ–Ω–∏ –º–æ–≥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ OLAP-—Å–∏—Å—Ç–µ–º?](#27-—á—Ç–æ-—Ç–∞–∫–æ–µ-–ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è-views-–∏-–∫–∞–∫–æ–≤—ã-–∏—Ö-–ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞-–∫–∞–∫-–æ–Ω–∏-–º–æ–≥—É—Ç-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è-–≤-–∫–æ–Ω—Ç–µ–∫—Å—Ç–µ-olap-—Å–∏—Å—Ç–µ–º)
- [28. –ß—Ç–æ —Ç–∞–∫–æ–µ —ç—Å–∫–∞–ª–∞—Ü–∏—è –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫ (lock escalation)?](#28-—á—Ç–æ-—Ç–∞–∫–æ–µ-—ç—Å–∫–∞–ª–∞—Ü–∏—è-–±–ª–æ–∫–∏—Ä–æ–≤–æ–∫-lock-escalation)
- [29. –ß—Ç–æ —Ç–∞–∫–æ–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è (constraints) –≤ SQL?](#29-—á—Ç–æ-—Ç–∞–∫–æ–µ-–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è-constraints-–≤-sql)
- [30. –ö–∞–∫–∏–µ –≤–∏–¥—ã –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫ –±—ã–≤–∞—é—Ç?](#30-–∫–∞–∫–∏–µ-–≤–∏–¥—ã-–±–ª–æ–∫–∏—Ä–æ–≤–æ–∫-–±—ã–≤–∞—é—Ç)
- [31. –ß—Ç–æ —Ç–∞–∫–æ–µ –≤–∑–∞–∏–º–Ω–∞—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ (deadlock)?](#31-—á—Ç–æ-—Ç–∞–∫–æ–µ-–≤–∑–∞–∏–º–Ω–∞—è-–±–ª–æ–∫–∏—Ä–æ–≤–∫–∞-deadlock)
- [32. –ß—Ç–æ —Ç–∞–∫–æ–µ —Ä–æ–ª–∏ (roles)?](#32-—á—Ç–æ-—Ç–∞–∫–æ–µ-—Ä–æ–ª–∏-roles)
- [33. –ß—Ç–æ —Ç–∞–∫–æ–µ –æ–∫–æ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –≤ SQL –∏ –∑–∞—á–µ–º –æ–Ω–∏ –Ω—É–∂–Ω—ã?](#33-—á—Ç–æ-—Ç–∞–∫–æ–µ-–æ–∫–æ–Ω–Ω—ã–µ-—Ñ—É–Ω–∫—Ü–∏–∏-–≤-sql-–∏-–∑–∞—á–µ–º-–æ–Ω–∏-–Ω—É–∂–Ω—ã)
- [34. –ß–µ–º –æ—Ç–ª–∏—á–∞—é—Ç—Å—è –∞–≥—Ä–µ–≥–∞—Ç–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –æ—Ç –æ–∫–æ–Ω–Ω—ã—Ö?](#34-—á–µ–º-–æ—Ç–ª–∏—á–∞—é—Ç—Å—è-–∞–≥—Ä–µ–≥–∞—Ç–Ω—ã–µ-—Ñ—É–Ω–∫—Ü–∏–∏-–æ—Ç-–æ–∫–æ–Ω–Ω—ã—Ö)
- [35. –ß—Ç–æ —Ç–∞–∫–æ–µ PARTITION BY –∏ ORDER BY –≤ –æ–∫–æ–Ω–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏—è—Ö?](#35-—á—Ç–æ-—Ç–∞–∫–æ–µ-partition-by-–∏-order-by-–≤-–æ–∫–æ–Ω–Ω—ã—Ö-—Ñ—É–Ω–∫—Ü–∏—è—Ö)
- [36. –ß–µ–º –æ—Ç–ª–∏—á–∞—é—Ç—Å—è ROW_NUMBER(), RANK() –∏ DENSE_RANK()?](#36-—á–µ–º-–æ—Ç–ª–∏—á–∞—é—Ç—Å—è-row_number-rank-–∏-dense_rank)
- [37. –î–ª—è —á–µ–≥–æ –Ω—É–∂–Ω—ã LAG() –∏ LEAD()?](#37-–¥–ª—è-—á–µ–≥–æ-–Ω—É–∂–Ω—ã-lag-–∏-lead)
- [39. –ú–æ–∂–Ω–æ –ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–∫–æ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –≤ WHERE?](#39-–º–æ–∂–Ω–æ-–ª–∏-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å-–æ–∫–æ–Ω–Ω—ã–µ-—Ñ—É–Ω–∫—Ü–∏–∏-–≤-where)
- [40. –ß—Ç–æ —Ç–∞–∫–æ–µ QUALIFY?](#40-—á—Ç–æ-—Ç–∞–∫–æ–µ-qualify)
- [41. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è SQL-–∑–∞–ø—Ä–æ—Å–æ–≤: EXPLAIN –∏ EXPLAIN ANALYZE](#41-–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è-sql-–∑–∞–ø—Ä–æ—Å–æ–≤-explain-–∏-explain-analyze)
- [42. –ß—Ç–æ —Ç–∞–∫–æ–µ BASE-–ø–æ–¥—Ö–æ–¥ –≤ –±–∞–∑–∞—Ö –¥–∞–Ω–Ω—ã—Ö?](#42-—á—Ç–æ-—Ç–∞–∫–æ–µ-base-–ø–æ–¥—Ö–æ–¥-–≤-–±–∞–∑–∞—Ö-–¥–∞–Ω–Ω—ã—Ö)
- [43. –í —á–µ–º –æ—Ç–ª–∏—á–∏–µ BASE –∏ ACID –ø–æ–¥—Ö–æ–¥–æ–≤?](#43-–≤-—á–µ–º-–æ—Ç–ª–∏—á–∏–µ-BASE-–∏-ACID-–ø–æ–¥—Ö–æ–¥–æ–≤)
- [44. –£ –≤–∞—Å –µ—Å—Ç—å —Ç–∞–±–ª–∏—Ü–∞ –ª–æ–≥–æ–≤ —Å –º–∏–ª–ª–∏–∞—Ä–¥–∞–º–∏ —Å—Ç—Ä–æ–∫. –ö–∞–∫ –≤—ã –±—É–¥–µ—Ç–µ —É—Å–∫–æ—Ä—è—Ç—å –ø–æ–∏—Å–∫ –ø–æ –¥–∞—Ç–µ –∏ `user_id`?](#44-—É-–≤–∞—Å-–µ—Å—Ç—å-—Ç–∞–±–ª–∏—Ü–∞-–ª–æ–≥–æ–≤-—Å-–º–∏–ª–ª–∏–∞—Ä–¥–∞–º–∏-—Å—Ç—Ä–æ–∫-–∫–∞–∫-–≤—ã-–±—É–¥–µ—Ç–µ-—É—Å–∫–æ—Ä—è—Ç—å-–ø–æ–∏—Å–∫-–ø–æ-–¥–∞—Ç–µ-–∏-user_id)

## 1. –ß—Ç–æ —Ç–∞–∫–æ–µ SQL –∏ –¥–ª—è —á–µ–≥–æ –æ–Ω –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è?

**SQL** (Structured Query Language ‚Äî —è–∑—ã–∫ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤) ‚Äî —ç—Ç–æ –ø—Ä–µ–¥–º–µ—Ç–Ω–æ-–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω—ã–π —è–∑—ã–∫ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è, –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã–π –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ä–µ–ª—è—Ü–∏–æ–Ω–Ω—ã–º–∏ –±–∞–∑–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö.  
–û–Ω —è–≤–ª—è–µ—Ç—Å—è –æ—Å–Ω–æ–≤–Ω—ã–º —è–∑—ã–∫–æ–º –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ç–∞–∫–∏—Ö –∑–∞–¥–∞—á, –∫–∞–∫:
- –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö,
- –∏–∑–º–µ–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö,
- –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö.

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã SQL

- **DDL (Data Definition Language)** ‚Äî —è–∑—ã–∫ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ–ø–∏—Å–∞–Ω–∏—è –∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö.
- **DML (Data Manipulation Language)** ‚Äî —è–∑—ã–∫ –º–∞–Ω–∏–ø—É–ª–∏—Ä–æ–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã–º–∏. –û—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ, –∏–∑–º–µ–Ω–µ–Ω–∏–µ –∏ —É–¥–∞–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –≤ –±–∞–∑–µ.
- **DCL (Data Control Language)** ‚Äî —è–∑—ã–∫ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–æ–º. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–∞–≤–∞–º–∏ –∏ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è–º–∏ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö.
- **TCL (Transaction Control Language)** ‚Äî —è–∑—ã–∫ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏. –†–µ–≥—É–ª–∏—Ä—É–µ—Ç —Ä–∞–±–æ—Ç—É —Å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Ñ–∏–∫—Å–∞—Ü–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π `COMMIT` –∏–ª–∏ –∏—Ö –æ—Ç–∫–∞—Ç `ROLLBACK`). 

## 2. –†–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É SQL –∏ NoSQL –±–∞–∑–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö

SQL –∏ NoSQL –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –ø—Ä–µ–¥–ª–∞–≥–∞—é—Ç —Ä–∞–∑–Ω—ã–µ –ø–∞—Ä–∞–¥–∏–≥–º—ã, –∫–∞–∂–¥–∞—è –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–∞ –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã—Ö —Ç–∏–ø–æ–≤ –¥–∞–Ω–Ω—ã—Ö –∏ —Å–ø–æ—Å–æ–±–æ–≤ –∏—Ö –æ–±—Ä–∞–±–æ—Ç–∫–∏.

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ä–∞–∑–ª–∏—á–∏—è

- **SQL**: –ü—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω—ã –≤ –ø–µ—Ä–≤—É—é –æ—á–µ—Ä–µ–¥—å –¥–ª—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö (–∏ —á–∞—Å—Ç–∏—á–Ω–æ –ø–æ–ª—É—Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö) –¥–∞–Ω–Ω—ã—Ö, –∫–æ—Ç–æ—Ä—ã–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç –∑–∞—Ä–∞–Ω–µ–µ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–π —Å—Ö–µ–º–µ.
- **NoSQL**: –ü–æ–¥—Ö–æ–¥—è—Ç –¥–ª—è –Ω–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∏–ª–∏ –ø–æ–ª—É—Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ —ç–≤–æ–ª—é—Ü–∏–æ–Ω–∏—Ä—É—é—Ç, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—è –≥–∏–±–∫–æ—Å—Ç—å –≤ —Å—Ö–µ–º–∞—Ö.

- **SQL**: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —è–∑—ã–∫ SQL (Structured Query Language) –¥–ª—è –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∏ –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö.
- **NoSQL**: –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Ä–∞–∑–ª–∏—á–Ω—ã–µ API (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –¥–ª—è –¥–æ–∫—É–º–µ–Ω—Ç–æ-–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∏ –∫–ª—é—á-–∑–Ω–∞—á–µ–Ω–∏–µ —Ö—Ä–∞–Ω–∏–ª–∏—â); –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —è–∑—ã–∫–æ–≤ –∑–∞–ø—Ä–æ—Å–æ–≤ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏.

- **SQL**: –û–±—ã—á–Ω–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –ø—Ä–∏–Ω—Ü–∏–ø–∞–º **ACID** (–∞—Ç–æ–º–∞—Ä–Ω–æ—Å—Ç—å, —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å, –∏–∑–æ–ª—è—Ü–∏—è, –¥–æ–ª–≥–æ–≤–µ—á–Ω–æ—Å—Ç—å), —á—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö.
- **NoSQL**: –ß–∞—Å—Ç–æ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω—ã –¥–ª—è –≤—ã—Å–æ–∫–æ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∏ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–≥–æ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è, –∏–Ω–æ–≥–¥–∞ –≤ —É—â–µ—Ä–± —Å—Ç—Ä–æ–≥–æ–π —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç–∏.

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ç–∏–ø—ã NoSQL –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö

- **–î–æ–∫—É–º–µ–Ω—Ç–æ-–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞**
    - –ü—Ä–∏–º–µ—Ä—ã: MongoDB, Couchbase
    - –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏: –∫–∞–∂–¥–∞—è –∑–∞–ø–∏—Å—å ‚Äî —ç—Ç–æ —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω—ã–π –¥–æ–∫—É–º–µ–Ω—Ç (–æ–±—ã—á–Ω–æ JSON). –°–≤—è–∑–∏ —Ä–µ–∞–ª–∏–∑—É—é—Ç—Å—è —á–µ—Ä–µ–∑ –≤–ª–æ–∂–µ–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã –∏–ª–∏ —Å—Å—ã–ª–∫–∏.
    - –ü—Ä–∏–º–µ—Ä: –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∏ –µ–≥–æ –ø–æ—Å—Ç—ã –≤ –±–ª–æ–≥–µ –º–æ–≥—É—Ç —Ö—Ä–∞–Ω–∏—Ç—å—Å—è –≤ –æ–¥–Ω–æ–º –¥–æ–∫—É–º–µ–Ω—Ç–µ –∏–ª–∏ –±—ã—Ç—å —Å–≤—è–∑–∞–Ω—ã —á–µ—Ä–µ–∑ —Å—Å—ã–ª–∫–∏.

- **–ö–ª—é—á-–∑–Ω–∞—á–µ–Ω–∏–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞**
    - –ü—Ä–∏–º–µ—Ä—ã: Redis, Amazon DynamoDB
    - –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏: –¥–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –≤–∏–¥–µ —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –∫–ª—é—á–µ–π –∏ –∑–Ω–∞—á–µ–Ω–∏–π. –ù–µ—Ç –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–π —Å—Ö–µ–º—ã.
    - –ü—Ä–∏–º–µ—Ä: —Ç–æ–≤–∞—Ä—ã –≤ –∫–æ—Ä–∑–∏–Ω–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω–∞, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

- **–®–∏—Ä–æ–∫–æ—Å—Ç–æ–ª–±—Ü–æ–≤—ã–µ –±–∞–∑—ã (Column Families)**
    - –ü—Ä–∏–º–µ—Ä—ã: Apache Cassandra, HBase
    - –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏: –¥–∞–Ω–Ω—ã–µ –≥—Ä—É–ø–ø–∏—Ä—É—é—Ç—Å—è –≤ —Å–µ–º–µ–π—Å—Ç–≤–∞ —Å—Ç–æ–ª–±—Ü–æ–≤, –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã–µ —Ç–∞–±–ª–∏—Ü–∞–º, –Ω–æ —Å –≥–∏–±–∫–æ–π —Å—Ö–µ–º–æ–π.
    - –ü—Ä–∏–º–µ—Ä: –ø—Ä–æ—Ñ–∏–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –≥–¥–µ —É –æ–¥–Ω–∏—Ö –º–æ–≥—É—Ç –±—ã—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –∞—Ç—Ä–∏–±—É—Ç—ã.

- **–ì—Ä–∞—Ñ–æ–≤—ã–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö**
    - –ü—Ä–∏–º–µ—Ä—ã: Neo4j, JanusGraph
    - –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏: –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω—ã –¥–ª—è –¥–∞–Ω–Ω—ã—Ö —Å–æ —Å–ª–æ–∂–Ω—ã–º–∏ —Å–≤—è–∑—è–º–∏. –°—É—â–Ω–æ—Å—Ç–∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω—ã –∫–∞–∫ —É–∑–ª—ã, –∞ —Å–≤—è–∑–∏ ‚Äî –∫–∞–∫ —Ä—ë–±—Ä–∞.
    - –ü—Ä–∏–º–µ—Ä: —Å–æ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–µ—Ç–∏ —Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º —Å–≤—è–∑—è–º–∏ ¬´–¥—Ä—É–∂–±—ã¬ª.

### –û—Ç–ª–∏—á–∏—è –≤ –º–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏–∏ –¥–∞–Ω–Ω—ã—Ö

- **SQL**: –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –¥–ª—è –º–∏–Ω–∏–º–∏–∑–∞—Ü–∏–∏ –∏–∑–±—ã—Ç–æ—á–Ω–æ—Å—Ç–∏ –∏ –∞–Ω–æ–º–∞–ª–∏–π –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏.
- **NoSQL**: –¥–µ–Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è ‚Äî –¥–∞–Ω–Ω—ã–µ —É–ø–∞–∫–æ–≤—ã–≤–∞—é—Ç—Å—è –≤–º–µ—Å—Ç–µ, —á—Ç–æ–±—ã —Å–æ–∫—Ä–∞—Ç–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤.

### –ì–µ–Ω–µ—Ä–∞—Ü–∏—è ID

- **SQL**: —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∞–≤—Ç–æ–∏–Ω–∫—Ä–µ–º–µ–Ω—Ç–Ω–æ–µ —É–Ω–∏–∫–∞–ª—å–Ω–æ–µ ID.
- **NoSQL**: —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã –º–æ–≥—É—Ç –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –≤–Ω–µ—à–Ω–∏–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏ –∏–ª–∏ –Ω–∞ —É—Ä–æ–≤–Ω–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞.

### –†–∞–±–æ—Ç–∞ —Å –æ—Ç–Ω–æ—à–µ–Ω–∏—è–º–∏ –¥–∞–Ω–Ω—ã—Ö

- **SQL**: —Å–≤—è–∑–∏ —Ä–µ–∞–ª–∏–∑—É—é—Ç—Å—è —á–µ—Ä–µ–∑ –∫–ª—é—á–∏ (–ø–µ—Ä–≤–∏—á–Ω—ã–µ –∏ –≤–Ω–µ—à–Ω–∏–µ).
- **NoSQL**: —Å–≤—è–∑–∏ –º–æ–≥—É—Ç –±—ã—Ç—å —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã —á–µ—Ä–µ–∑ –≤–ª–æ–∂–µ–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã, —Å—Å—ã–ª–∫–∏ –∏–ª–∏ –≥—Ä–∞—Ñ–æ–≤—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã.

### –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π

- **SQL**: —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ ‚Äî —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è —á–∞—Å—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞.
- **NoSQL**: –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏.

### –£—Ä–æ–≤–Ω–∏ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö

- **SQL**: –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —Å—Ç—Ä–æ–≥—É—é —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å.
- **NoSQL**: –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç —Ä–∞–∑–Ω—ã–µ –º–æ–¥–µ–ª–∏ ‚Äî –æ—Ç —Å—Ç—Ä–æ–≥–æ–π –¥–æ eventual consistency (—Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç–∏ –≤ –∫–æ–Ω–µ—á–Ω–æ–º —Å—á—ë—Ç–µ).

### –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å

- **SQL**: –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–∞—è (–º–æ—â–Ω–æ—Å—Ç—å –æ–¥–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è).
- **NoSQL**: –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–∞—è (—Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –Ω–∞–≥—Ä—É–∑–∫–∏ –Ω–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–æ —Å–µ—Ä–≤–µ—Ä–æ–≤).

### –ì–∏–±–∫–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö

- **SQL**: —Å—Ç—Ä–æ–≥–∞—è —Å—Ö–µ–º–∞, —Ç—Ä—É–¥–Ω–æ –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å –∫ –º–µ–Ω—è—é—â–∏–º—Å—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞–º –¥–∞–Ω–Ω—ã—Ö.
- **NoSQL**: –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ö–µ–º—ã, —á—Ç–æ –¥–∞—ë—Ç –≤—ã—Å–æ–∫—É—é –≥–∏–±–∫–æ—Å—Ç—å.

### –¶–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

- **SQL**: —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç—Å—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º–∏ –∏ —Å—Ç—Ä–æ–≥–∏–º–∏ —Ç–∏–ø–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö.
- **NoSQL**: –±–æ–ª—å—à–µ –ø–æ–ª–∞–≥–∞–µ—Ç—Å—è –Ω–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å—é –∏ –ø—Ä–æ–≤–µ—Ä–∫–æ–π –¥–∞–Ω–Ω—ã—Ö.  

## 3. –ö–∞–∫–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –º–æ–∂–Ω–æ –≤—ã–ø–æ–ª–Ω—è—Ç—å —Å –ø–æ–º–æ—â—å—é SQL, –¥–ª—è —á–µ–≥–æ –æ–Ω–∏ –Ω—É–∂–Ω—ã –∏ –∏—Ö –ø–æ—Ä—è–¥–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è?

–í SQL –∫–æ–º–∞–Ω–¥—ã –¥–µ–ª—è—Ç—Å—è –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–π.

### DDL (Data Definition Language) ‚Äî —è–∑—ã–∫ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ–ø–∏—Å–∞–Ω–∏—è –∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –æ–±—ä–µ–∫—Ç–æ–≤ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö.

- **CREATE** ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–æ–≤ (—Ç–∞–±–ª–∏—Ü—ã, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è, —Å—Ö–µ–º—ã –∏ —Ç.–¥.)
- **ALTER** ‚Äî –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –æ–±—ä–µ–∫—Ç–æ–≤
- **DROP** ‚Äî —É–¥–∞–ª–µ–Ω–∏–µ –æ–±—ä–µ–∫—Ç–æ–≤
- **TRUNCATE** ‚Äî –æ—á–∏—Å—Ç–∫–∞ —Ç–∞–±–ª–∏—Ü—ã (–±—ã—Å—Ç—Ä–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –≤—Å–µ—Ö —Å—Ç—Ä–æ–∫ –±–µ–∑ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –æ—Ç–∫–∞—Ç–∞)
- **RENAME** ‚Äî –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞

> ‚ö° –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å: DDL-–∫–æ–º–∞–Ω–¥—ã —Ñ–∏–∫—Å–∏—Ä—É—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ (**auto-commit**) –∏ –Ω–µ –º–æ–≥—É—Ç –±—ã—Ç—å –æ—Ç–∫–∞—Ç–∞–Ω—ã.

### DML (Data Manipulation Language) ‚Äî —è–∑—ã–∫ –º–∞–Ω–∏–ø—É–ª—è—Ü–∏–∏ –¥–∞–Ω–Ω—ã–º–∏
–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –¥–∞–Ω–Ω—ã–º–∏ –≤ —Ç–∞–±–ª–∏—Ü–∞—Ö.

- **SELECT** ‚Äî —á—Ç–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
- **INSERT** ‚Äî –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å—Ç—Ä–æ–∫
- **UPDATE** ‚Äî –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç—Ä–æ–∫
- **DELETE** ‚Äî —É–¥–∞–ª–µ–Ω–∏–µ —Å—Ç—Ä–æ–∫

> ‚ö° –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å: DML-–∫–æ–º–∞–Ω–¥—ã –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –∏ –º–æ–≥—É—Ç –±—ã—Ç—å –æ—Ç–º–µ–Ω–µ–Ω—ã (**ROLLBACK**).

#### –û—Å–Ω–æ–≤–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤ SELECT-–∑–∞–ø—Ä–æ—Å–µ
- **SELECT** ‚Äî –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Å—Ç–æ–ª–±—Ü—ã –∏–ª–∏ –≤—ã—Ä–∞–∂–µ–Ω–∏—è –¥–ª—è –≤—ã–≤–æ–¥–∞
- **FROM** ‚Äî –∑–∞–¥–∞—ë—Ç –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö (—Ç–∞–±–ª–∏—Ü—ã, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è)
- **JOIN** ‚Äî –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ —Ä–∞–∑–Ω—ã—Ö —Ç–∞–±–ª–∏—Ü
- **WHERE** ‚Äî —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç —Å—Ç—Ä–æ–∫–∏ –¥–æ –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏
- **GROUP BY** ‚Äî –≥—Ä—É–ø–ø–∏—Ä—É–µ—Ç —Å—Ç—Ä–æ–∫–∏ –≤ –∞–≥—Ä–µ–≥–∞—Ç—ã
- **HAVING** ‚Äî —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç —Å–≥—Ä—É–ø–ø–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
- **ORDER BY** ‚Äî —Å–æ—Ä—Ç–∏—Ä—É–µ—Ç –≤—ã–≤–æ–¥
- **LIMIT** ‚Äî –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã—Ö —Å—Ç—Ä–æ–∫

#### –õ–æ–≥–∏—á–µ—Å–∫–∏–π –ø–æ—Ä—è–¥–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–∞
–•–æ—Ç—è –ø–∏—à–µ–º –º—ã –∫–æ–º–∞–Ω–¥—ã –≤ –æ–¥–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ, –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –æ–Ω–∏ —Ç–∞–∫: FROM ‚Üí JOIN ‚Üí WHERE ‚Üí GROUP BY ‚Üí HAVING ‚Üí SELECT ‚Üí ORDER BY ‚Üí LIMIT

> –≠—Ç–æ –æ–±—ä—è—Å–Ω—è–µ—Ç, –Ω–∞–ø—Ä–∏–º–µ—Ä, –ø–æ—á–µ–º—É –Ω–µ–ª—å–∑—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∞–ª–∏–∞—Å—ã –∏–∑ `SELECT` –≤ `WHERE`.

### DCL (Data Control Language) ‚Äî —è–∑—ã–∫ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–æ–º
–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø—Ä–∞–≤–∞–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.

- **GRANT** ‚Äî –≤—ã–¥–∞—ë—Ç –ø—Ä–∞–≤–∞
- **REVOKE** ‚Äî –æ—Ç–∑—ã–≤–∞–µ—Ç –ø—Ä–∞–≤–∞

### TCL (Transaction Control Language) ‚Äî —è–∑—ã–∫ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏
–†–µ–≥—É–ª–∏—Ä—É–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π.

- **COMMIT** ‚Äî –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
- **ROLLBACK** ‚Äî –æ—Ç–∫–∞—Ç–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
- **SAVEPOINT** ‚Äî —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ç–æ—á–∫—É —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –≤ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏

üìå **–ö—Ä–∞—Ç–∫–∏–π –∏—Ç–æ–≥:**
- DDL —É–ø—Ä–∞–≤–ª—è–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π –±–∞–∑—ã (CREATE/ALTER/DROP).
- DML —É–ø—Ä–∞–≤–ª—è–µ—Ç –¥–∞–Ω–Ω—ã–º–∏ (SELECT/INSERT/UPDATE/DELETE).
- DCL —É–ø—Ä–∞–≤–ª—è–µ—Ç –¥–æ—Å—Ç—É–ø–æ–º (GRANT/REVOKE).
- TCL —É–ø—Ä–∞–≤–ª—è–µ—Ç —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏ (COMMIT/ROLLBACK/SAVEPOINT).
- –õ–æ–≥–∏—á–µ—Å–∫–∏–π –ø–æ—Ä—è–¥–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è SELECT –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–æ–≥–æ –∏ —ç—Ç–æ –≤–∞–∂–Ω–æ –¥–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –ø–æ–Ω–∏–º–∞–Ω–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤.  

## 4. –ö–∞–∫–∏–µ —Ç–∏–ø—ã JOIN-–æ–≤ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –∏ –≤ —á–µ–º –∏—Ö –æ—Ç–ª–∏—á–∏—è ?

**JOIN** –≤ SQL –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è —Å—Ç—Ä–æ–∫ –∏–∑ –¥–≤—É—Ö –∏–ª–∏ –±–æ–ª–µ–µ —Ç–∞–±–ª–∏—Ü –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å–≤—è–∑–∞–Ω–Ω–æ–≥–æ —Å—Ç–æ–ª–±—Ü–∞ (–æ–±—ã—á–Ω–æ –∫–ª—é—á–∞).  
–ü–æ–Ω–∏–º–∞–Ω–∏–µ —Ç–∏–ø–æ–≤ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π –≤–∞–∂–Ω–æ –¥–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Å –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ –∏ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è —Å–ª—É—á–∞–π–Ω—ã—Ö –¥–µ–∫–∞—Ä—Ç–æ–≤—ã—Ö –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–π.

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ç–∏–ø—ã JOIN

- **INNER JOIN** ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Å–æ–≤–ø–∞–¥–∞—é—â–∏–µ —Å—Ç—Ä–æ–∫–∏ –≤ –æ–±–µ–∏—Ö —Ç–∞–±–ª–∏—Ü–∞—Ö.
- **LEFT JOIN** ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤—Å–µ —Å—Ç—Ä–æ–∫–∏ –∏–∑ –ª–µ–≤–æ–π —Ç–∞–±–ª–∏—Ü—ã –∏ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è –∏–∑ –ø—Ä–∞–≤–æ–π; –µ—Å–ª–∏ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π –Ω–µ—Ç, –ø–æ–¥—Å—Ç–∞–≤–ª—è—é—Ç—Å—è `NULL`.
- **RIGHT JOIN** ‚Äî –ø—Ä–æ—Ç–∏–≤–æ–ø–æ–ª–æ–∂–µ–Ω LEFT JOIN: –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤—Å–µ —Å—Ç—Ä–æ–∫–∏ –∏–∑ –ø—Ä–∞–≤–æ–π —Ç–∞–±–ª–∏—Ü—ã –∏ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è –∏–∑ –ª–µ–≤–æ–π.
- **FULL JOIN (FULL OUTER JOIN)** ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤—Å–µ —Å—Ç—Ä–æ–∫–∏ –∏–∑ –æ–±–µ–∏—Ö —Ç–∞–±–ª–∏—Ü, –ø–æ–¥—Å—Ç–∞–≤–ª—è—è `NULL` —Ç–∞–º, –≥–¥–µ –Ω–µ—Ç —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π.
- **CROSS JOIN** ‚Äî —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç –¥–µ–∫–∞—Ä—Ç–æ–≤–æ –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ (–∫–∞–∂–¥–∞—è —Å—Ç—Ä–æ–∫–∞ –∏–∑ –ø–µ—Ä–≤–æ–π —Ç–∞–±–ª–∏—Ü—ã —Å–æ–µ–¥–∏–Ω—è–µ—Ç—Å—è —Å–æ –≤—Å–µ–º–∏ —Å—Ç—Ä–æ–∫–∞–º–∏ –≤—Ç–æ—Ä–æ–π).
- **SELF JOIN** ‚Äî —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã —Å —Å–∞–º–æ–π —Å–æ–±–æ–π (—á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –∏–µ—Ä–∞—Ä—Ö–∏–π, –Ω–∞–ø—Ä–∏–º–µ—Ä ¬´—Å–æ—Ç—Ä—É–¥–Ω–∏–∫ ‚Üí –º–µ–Ω–µ–¥–∂–µ—Ä¬ª).

### –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Ç–∏–ø–æ–≤ JOIN

![SQL JOINS](../images/sql-joins.png)

## 5. –ß—Ç–æ —Ç–∞–∫–æ–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Ç–∞–±–ª–∏—Ü –≤ SQL –∏ –∫–∞–∫–∏–µ –æ–Ω–∏ –±—ã–≤–∞—é—Ç ?

–ö–æ–≥–¥–∞ –º—ã –ø–∏—à–µ–º `JOIN`, –°–£–ë–î –¥–æ–ª–∂–Ω–∞ –≤—ã–±—Ä–∞—Ç—å **–∞–ª–≥–æ—Ä–∏—Ç–º —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è**.  
–û—Å–Ω–æ–≤–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã:

### Nested Loop Join (–≤–ª–æ–∂–µ–Ω–Ω—ã–µ —Ü–∏–∫–ª—ã)
- –ü—Ä–æ—Å—Ç–µ–π—à–∏–π –∞–ª–≥–æ—Ä–∏—Ç–º: –¥–ª—è –∫–∞–∂–¥–æ–π —Å—Ç—Ä–æ–∫–∏ –∏–∑ –ø–µ—Ä–≤–æ–π —Ç–∞–±–ª–∏—Ü—ã –∏—â–µ–º —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ –≤–æ –≤—Ç–æ—Ä–æ–π.
- –†–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ ¬´–¥–≤–æ–π–Ω–æ–π —Ü–∏–∫–ª¬ª.

**–ö–æ–≥–¥–∞ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–µ–Ω:**
- –ú–∞–ª–µ–Ω—å–∫–∏–µ —Ç–∞–±–ª–∏—Ü—ã.
- –ï—Å—Ç—å –∏–Ω–¥–µ–∫—Å –ø–æ –∫–ª—é—á—É —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è (—Ç–æ–≥–¥–∞ –≤–Ω—É—Ç—Ä–µ–Ω–Ω—è—è —Ç–∞–±–ª–∏—Ü–∞ –±—ã—Å—Ç—Ä–æ –∏—â–µ—Ç—Å—è).

**–ú–∏–Ω—É—Å—ã:**
- –û—á–µ–Ω—å –º–µ–¥–ª–µ–Ω–Ω—ã–π –Ω–∞ –±–æ–ª—å—à–∏—Ö –¥–∞–Ω–Ω—ã—Ö (O(N*M)).

### Merge Join (—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Å–ª–∏—è–Ω–∏–µ–º)
- –û–±–µ —Ç–∞–±–ª–∏—Ü—ã —Å–æ—Ä—Ç–∏—Ä—É—é—Ç—Å—è –ø–æ –∫–ª—é—á—É —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è.
- –ó–∞—Ç–µ–º –°–£–ë–î ¬´–∏–¥—ë—Ç¬ª –ø–æ –¥–≤—É–º —Å–ø–∏—Å–∫–∞–º, —Å—Ä–∞–≤–Ω–∏–≤–∞—è —Å—Ç—Ä–æ–∫–∏.

**–ö–æ–≥–¥–∞ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–µ–Ω:**
- –¢–∞–±–ª–∏—Ü—ã —É–∂–µ –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø–æ –∏–Ω–¥–µ–∫—Å—É).
- –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –±–æ–ª—å—à–∏—Ö –æ–±—ä—ë–º–æ–≤ –¥–∞–Ω–Ω—ã—Ö.

**–ú–∏–Ω—É—Å—ã:**
- –¢—Ä–µ–±—É–µ—Ç —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏, –µ—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ –Ω–µ —É–ø–æ—Ä—è–¥–æ—á–µ–Ω—ã.

### Hash Join (—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —á–µ—Ä–µ–∑ —Ö—ç—à-—Ç–∞–±–ª–∏—Ü—É)
- –°—Ç—Ä–æ–∏—Ç—Å—è **—Ö—ç—à-—Ç–∞–±–ª–∏—Ü–∞** –¥–ª—è –º–µ–Ω—å—à–µ–π —Ç–∞–±–ª–∏—Ü—ã –ø–æ –∫–ª—é—á—É —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è.
- –î–ª—è —Å—Ç—Ä–æ–∫ –∏–∑ –≤—Ç–æ—Ä–æ–π —Ç–∞–±–ª–∏—Ü—ã –∏—â—É—Ç—Å—è —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è —á–µ—Ä–µ–∑ —Ö—ç—à.

**–ö–æ–≥–¥–∞ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–µ–Ω:**
- –ë–æ–ª—å—à–∏–µ —Ç–∞–±–ª–∏—Ü—ã –±–µ–∑ –∏–Ω–¥–µ–∫—Å–æ–≤.
- –°–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –ø–æ —É—Å–ª–æ–≤–∏—é —Ä–∞–≤–µ–Ω—Å—Ç–≤–∞ (`=`).

**–ú–∏–Ω—É—Å—ã:**
- –¢—Ä–µ–±—É–µ—Ç –ø–∞–º—è—Ç–∏ –¥–ª—è —Ö—ç—à-—Ç–∞–±–ª–∏—Ü—ã.
- –ü—Ä–∏ –æ—á–µ–Ω—å –±–æ–ª—å—à–∏—Ö —Ç–∞–±–ª–∏—Ü–∞—Ö –º–æ–∂–µ—Ç —Å–±—Ä–∞—Å—ã–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –Ω–∞ –¥–∏—Å–∫ (Hash Join spill).

### Adaptive Join (–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –≤—ã–±–æ—Ä, –≤ SQL Server, Oracle)
- –°–£–ë–î –Ω–∞—á–∏–Ω–∞–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ, –∞ –ø–æ—Ç–æ–º **–º–µ–Ω—è–µ—Ç –∞–ª–≥–æ—Ä–∏—Ç–º –Ω–∞ –ª–µ—Ç—É**, –µ—Å–ª–∏ –æ—Ü–µ–Ω–∫–∞ –∫–∞—Ä–¥–∏–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ (—á–∏—Å–ª–æ —Å—Ç—Ä–æ–∫) –æ–∫–∞–∑–∞–ª–∞—Å—å –Ω–µ–≤–µ—Ä–Ω–æ–π.

### –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤

| –ê–ª–≥–æ—Ä–∏—Ç–º        | –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è              | –°–ª–æ–∂–Ω–æ—Å—Ç—å      | –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è                |
|-----------------|---------------------------|----------------|---------------------------|
| Nested Loop     | –ú–∞–ª–µ–Ω—å–∫–∏–µ —Ç–∞–±–ª–∏—Ü—ã, –∏–Ω–¥–µ–∫—Å | O(N*M)         | –ò–Ω–¥–µ–∫—Å –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è      |
| Merge Join      | –û—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ    | O(N+M)         | –ù—É–∂–Ω–∞ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞          |
| Hash Join       | –ë–æ–ª—å—à–∏–µ –Ω–µ–æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ | O(N+M)         | –ü–∞–º—è—Ç—å –ø–æ–¥ —Ö—ç—à-—Ç–∞–±–ª–∏—Ü—É    |
| Adaptive Join   | –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è  | –ó–∞–≤–∏—Å–∏—Ç –æ—Ç –°–£–ë–î| –ù—É–∂–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –≤ –¥–≤–∏–∂–∫–µ  |


#### –ò—Ç–æ–≥
- **Nested Loop** ‚Äî –ø—Ä–æ—Å—Ç, –Ω–æ –º–µ–¥–ª–µ–Ω–Ω—ã–π –±–µ–∑ –∏–Ω–¥–µ–∫—Å–∞.
- **Merge Join** ‚Äî —Ö–æ—Ä–æ—à –ø—Ä–∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö.
- **Hash Join** ‚Äî —Å–∞–º—ã–π —á–∞—Å—Ç—ã–π –≤—ã–±–æ—Ä –¥–ª—è –±–æ–ª—å—à–∏—Ö —Ç–∞–±–ª–∏—Ü.
- **Adaptive Join** ‚Äî ¬´—É–º–Ω—ã–π¬ª –≤—ã–±–æ—Ä, –µ—Å–ª–∏ –°–£–ë–î –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç.

## 6. –ß—Ç–æ —Ç–∞–∫–æ–µ Hash Join (—Ö—ç—à-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ)?

**Hash Join** ‚Äî —ç—Ç–æ –∞–ª–≥–æ—Ä–∏—Ç–º —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Ç–∞–±–ª–∏—Ü –≤ SQL, –∫–æ—Ç–æ—Ä—ã–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **—Ö—ç—à-—Ç–∞–±–ª–∏—Ü—É** –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è –ø–æ–∏—Å–∫–∞ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π –º–µ–∂–¥—É —Å—Ç—Ä–æ–∫–∞–º–∏.  
–ü—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è, –∫–æ–≥–¥–∞ –º—ã –¥–µ–ª–∞–µ–º `JOIN` –¥–≤—É—Ö —Ç–∞–±–ª–∏—Ü –ø–æ —É—Å–ª–æ–≤–∏—é —Ä–∞–≤–µ–Ω—Å—Ç–≤–∞ (`=`).

### –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç Hash Join
–ê–ª–≥–æ—Ä–∏—Ç–º –æ–±—ã—á–Ω–æ —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ –¥–≤—É—Ö —Ñ–∞–∑:

1. **Build (–ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ)**
  - –°–£–ë–î –≤—ã–±–∏—Ä–∞–µ—Ç –º–µ–Ω—å—à—É—é —Ç–∞–±–ª–∏—Ü—É (–∏–ª–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ–¥–∑–∞–ø—Ä–æ—Å–∞).
  - –°–æ–∑–¥–∞—ë—Ç –ø–æ –∫–ª—é—á—É —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è **—Ö—ç—à-—Ç–∞–±–ª–∏—Ü—É** –≤ –ø–∞–º—è—Ç–∏.
  - –í —ç—Ç–æ–π —Ö—ç—à-—Ç–∞–±–ª–∏—Ü–µ —Å—Ç—Ä–æ–∫–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –≤–∏–¥–µ –ø–∞—Ä ¬´–∫–ª—é—á ‚Üí —Å—Ç—Ä–æ–∫–∞¬ª.

2. **Probe (–ø–æ–∏—Å–∫)**
  - –°–£–ë–î –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ —á–∏—Ç–∞–µ—Ç —Å—Ç—Ä–æ–∫–∏ –∏–∑ –≤—Ç–æ—Ä–æ–π (–±–æ–ª—å—à–µ–π) —Ç–∞–±–ª–∏—Ü—ã.
  - –î–ª—è –∫–∞–∂–¥–æ–π —Å—Ç—Ä–æ–∫–∏ –≤—ã—á–∏—Å–ª—è–µ—Ç —Ö—ç—à –ø–æ –∫–ª—é—á—É —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è.
  - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, –µ—Å—Ç—å –ª–∏ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ –≤ —Ö—ç—à-—Ç–∞–±–ª–∏—Ü–µ.
  - –ï—Å–ª–∏ –µ—Å—Ç—å ‚Äî —Å—Ç—Ä–æ–∫–∏ —Å–æ–µ–¥–∏–Ω—è—é—Ç—Å—è –∏ –ø–æ–ø–∞–¥–∞—é—Ç –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç.

### –ü—Ä–∏–º–µ—Ä
```sql
  SELECT *
  FROM orders o
  JOIN customers c
    ON o.customer_id = c.customer_id;
```
- PostgreSQL –º–æ–∂–µ—Ç –≤—ã–±—Ä–∞—Ç—å **Hash Join**, –µ—Å–ª–∏:
  - `customers` –Ω–µ–±–æ–ª—å—à–∞—è —Ç–∞–±–ª–∏—Ü–∞ ‚Üí –¥–ª—è –Ω–µ—ë —Å—Ç—Ä–æ–∏—Ç—Å—è —Ö—ç—à-—Ç–∞–±–ª–∏—Ü–∞.
  - `orders` –±–æ–ª—å—à–∞—è —Ç–∞–±–ª–∏—Ü–∞ ‚Üí –¥–ª—è –∫–∞–∂–¥–æ–π —Å—Ç—Ä–æ–∫–∏ –∏—â–µ—Ç—Å—è —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ –ø–æ `customer_id` –≤ —Ö—ç—à–µ.

### –ö–æ–≥–¥–∞ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–µ–Ω Hash Join
- –°–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –ø–æ —É—Å–ª–æ–≤–∏—é **—Ä–∞–≤–µ–Ω—Å—Ç–≤–∞** (`=`).
- –¢–∞–±–ª–∏—Ü—ã –±–æ–ª—å—à–∏–µ, –∏ —É –Ω–∏—Ö **–Ω–µ—Ç –ø–æ–¥—Ö–æ–¥—è—â–µ–≥–æ –∏–Ω–¥–µ–∫—Å–∞**.
- –û–¥–Ω–∞ —Ç–∞–±–ª–∏—Ü–∞ —Å—É—â–µ—Å—Ç–≤–µ–Ω–Ω–æ –º–µ–Ω—å—à–µ –¥—Ä—É–≥–æ–π.

### –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –¥—Ä—É–≥–∏–º–∏ –∞–ª–≥–æ—Ä–∏—Ç–º–∞–º–∏
| –ê–ª–≥–æ—Ä–∏—Ç–º     | –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç                                  | –ö–æ–≥–¥–∞ –ª—É—á—à–µ |
|--------------|-----------------------------------------------|-------------|
| **Nested Loop** | –î–ª—è –∫–∞–∂–¥–æ–π —Å—Ç—Ä–æ–∫–∏ –ª–µ–≤–æ–π —Ç–∞–±–ª–∏—Ü—ã –∏—â–µ—Ç –≤ –ø—Ä–∞–≤–æ–π | –•–æ—Ä–æ—à–æ –¥–ª—è –º–∞–ª–µ–Ω—å–∫–∏—Ö —Ç–∞–±–ª–∏—Ü –∏–ª–∏ –ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ –∏–Ω–¥–µ–∫—Å–∞ |
| **Merge Join**  | –°–æ—Ä—Ç–∏—Ä—É–µ—Ç –æ–±–µ —Ç–∞–±–ª–∏—Ü—ã –∏ –ø—Ä–æ—Ö–æ–¥–∏—Ç –∏—Ö –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ | –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –ø—Ä–∏ –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö |
| **Hash Join**   | –°—Ç—Ä–æ–∏—Ç —Ö—ç—à-—Ç–∞–±–ª–∏—Ü—É –∏ –∏—â–µ—Ç —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è —á–µ—Ä–µ–∑ —Ö—ç—à | –û–ø—Ç–∏–º–∞–ª—å–Ω–æ –¥–ª—è –±–æ–ª—å—à–∏—Ö —Ç–∞–±–ª–∏—Ü –±–µ–∑ –∏–Ω–¥–µ–∫—Å–æ–≤ |

### –ò—Ç–æ–≥
- **Hash Join** ‚Äî —ç—Ç–æ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —á–µ—Ä–µ–∑ —Ö—ç—à-—Ç–∞–±–ª–∏—Ü—É.
- –û–±—ã—á–Ω–æ –±—ã—Å—Ç—Ä–µ–µ Nested Loop, –µ—Å–ª–∏ –¥–∞–Ω–Ω—ã—Ö –º–Ω–æ–≥–æ –∏ –∏–Ω–¥–µ–∫—Å–æ–≤ –Ω–µ—Ç.
- –ù–æ —Ç—Ä–µ–±—É–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –ø–∞–º—è—Ç–∏ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Ö—ç—à-—Ç–∞–±–ª–∏—Ü—ã.

## 7. –ß—Ç–æ —Ç–∞–∫–æ–µ –ø–µ—Ä–≤–∏—á–Ω—ã–π –∫–ª—é—á (Primary Key) –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö?

**–ü–µ—Ä–≤–∏—á–Ω—ã–π –∫–ª—é—á** ‚Äî —ç—Ç–æ —Å—Ç–æ–ª–±–µ—Ü –∏–ª–∏ –Ω–∞–±–æ—Ä —Å—Ç–æ–ª–±—Ü–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –æ–¥–Ω–æ–∑–Ω–∞—á–Ω–æ –∏–¥–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä—É—é—Ç –∫–∞–∂–¥—É—é —Å—Ç—Ä–æ–∫—É –≤ —Ç–∞–±–ª–∏—Ü–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö.

### –û—Å–Ω–æ–≤–Ω—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞:
- –ó–Ω–∞—á–µ–Ω–∏—è **–¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º–∏**.
- –ó–Ω–∞—á–µ–Ω–∏—è **–Ω–µ –º–æ–≥—É—Ç –±—ã—Ç—å NULL**.
- –í —Ç–∞–±–ª–∏—Ü–µ –º–æ–∂–µ—Ç –±—ã—Ç—å **—Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω –ø–µ—Ä–≤–∏—á–Ω—ã–π –∫–ª—é—á**, –Ω–æ –æ–Ω –º–æ–∂–µ—Ç —Å–æ—Å—Ç–æ—è—Ç—å –∏–∑ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Å—Ç–æ–ª–±—Ü–æ–≤ (**—Å–æ—Å—Ç–∞–≤–Ω–æ–π –∫–ª—é—á**).
- –ë–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –°–£–ë–î –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—é—Ç –∏–Ω–¥–µ–∫—Å –¥–ª—è –ø–µ—Ä–≤–∏—á–Ω–æ–≥–æ –∫–ª—é—á–∞, —á—Ç–æ–±—ã —É—Å–∫–æ—Ä–∏—Ç—å –ø–æ–∏—Å–∫.

### –ü—Ä–∏–º–µ—Ä

```sql
CREATE TABLE employees (
    employee_id INT PRIMARY KEY,
    name VARCHAR(100)
);
```
### –ß—Ç–æ –¥–µ–ª–∞–µ—Ç —ç—Ç–æ—Ç –∫–æ–¥?

1. –°–æ–∑–¥–∞—ë—Ç —Ç–∞–±–ª–∏—Ü—É `employees`.
2. –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Å—Ç–æ–ª–±–µ—Ü `employee_id` –∫–∞–∫ **PRIMARY KEY**.
3. –û–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å –∫–∞–∂–¥–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è `employee_id`.
4. –ó–∞–ø—Ä–µ—â–∞–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `NULL` –¥–ª—è `employee_id`.
5. –î–∞—ë—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `employee_id` –∫–∞–∫ —Å—Å—ã–ª–∫—É (–≤–Ω–µ—à–Ω–∏–π –∫–ª—é—á) –≤ –¥—Ä—É–≥–∏—Ö —Ç–∞–±–ª–∏—Ü–∞—Ö.
6. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—ë—Ç –∏–Ω–¥–µ–∫—Å –ø–æ `employee_id` –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è –ø–æ–∏—Å–∫–∞. 

## 8. –ß—Ç–æ —Ç–∞–∫–æ–µ –≤–Ω–µ—à–Ω–∏–π –∫–ª—é—á (Foreign Key) –∏ –∫–∞–∫ –æ–Ω –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è?

**–í–Ω–µ—à–Ω–∏–π –∫–ª—é—á (FOREIGN KEY)** ‚Äî —ç—Ç–æ —Å—Ç–æ–ª–±–µ—Ü –∏–ª–∏ –Ω–∞–±–æ—Ä —Å—Ç–æ–ª–±—Ü–æ–≤ –≤ –æ–¥–Ω–æ–π —Ç–∞–±–ª–∏—Ü–µ, –∫–æ—Ç–æ—Ä—ã–µ —Å—Å—ã–ª–∞—é—Ç—Å—è –Ω–∞ –ø–µ—Ä–≤–∏—á–Ω—ã–π –∫–ª—é—á –≤ –¥—Ä—É–≥–æ–π —Ç–∞–±–ª–∏—Ü–µ.

### –û—Å–Ω–æ–≤–Ω—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞:
- –í–Ω–µ—à–Ω–∏–π –∫–ª—é—á –≤—Å–µ–≥–¥–∞ —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ **PRIMARY KEY** –∏–ª–∏ **UNIQUE –∫–ª—é—á** –≤ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–π —Ç–∞–±–ª–∏—Ü–µ.
- –ï–≥–æ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ ‚Äî –æ–±–µ—Å–ø–µ—á–∏–≤–∞—Ç—å **—Å—Å—ã–ª–æ—á–Ω—É—é —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å**, —Ç–æ –µ—Å—Ç—å —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å —Å–≤—è–∑–µ–π –º–µ–∂–¥—É —Ç–∞–±–ª–∏—Ü–∞–º–∏.
- –û–Ω –Ω–µ –¥–æ–ø—É—Å–∫–∞–µ—Ç –≤—Å—Ç–∞–≤–∫—É –∑–Ω–∞—á–µ–Ω–∏–π, –∫–æ—Ç–æ—Ä—ã—Ö –Ω–µ—Ç –≤ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–π —Ç–∞–±–ª–∏—Ü–µ.
- –ú–æ–∂–µ—Ç –æ–ø—Ä–µ–¥–µ–ª—è—Ç—å –¥–µ–π—Å—Ç–≤–∏—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∏–ª–∏ —É–¥–∞–ª–µ–Ω–∏–∏ —Å—Ç—Ä–æ–∫–∏ –≤ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–π —Ç–∞–±–ª–∏—Ü–µ:
  - `ON DELETE CASCADE` ‚Äî —É–¥–∞–ª—è–µ—Ç —Å–≤—è–∑–∞–Ω–Ω—ã–µ –∑–∞–ø–∏—Å–∏.
  - `ON DELETE SET NULL` ‚Äî —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ `NULL` –≤–æ –≤–Ω–µ—à–Ω–µ–º –∫–ª—é—á–µ.
  - `RESTRICT` ‚Äî –∑–∞–ø—Ä–µ—â–∞–µ—Ç —É–¥–∞–ª–µ–Ω–∏–µ/–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ, –µ—Å–ª–∏ –µ—Å—Ç—å —Å–≤—è–∑–∞–Ω–Ω—ã–µ –∑–∞–ø–∏—Å–∏.

### –ü—Ä–∏–º–µ—Ä

```sql
CREATE TABLE employees (
    employee_id INT PRIMARY KEY,
    department_id INT,
    FOREIGN KEY (department_id) REFERENCES departments(department_id)
);
```

## 9. –í —á–µ–º —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É PRIMARY KEY –∏ UNIQUE –∫–ª—é—á–æ–º?

### PRIMARY KEY
- –û–¥–Ω–æ–∑–Ω–∞—á–Ω–æ –∏–¥–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä—É–µ—Ç –∫–∞–∂–¥—É—é —Å—Ç—Ä–æ–∫—É –≤ —Ç–∞–±–ª–∏—Ü–µ.
- –ú–æ–∂–µ—Ç —Å–æ—Å—Ç–æ—è—Ç—å –∏–∑ **–æ–¥–Ω–æ–≥–æ –∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Å—Ç–æ–ª–±—Ü–æ–≤** (—Å–æ—Å—Ç–∞–≤–Ω–æ–π –∫–ª—é—á).
- –í —Ç–∞–±–ª–∏—Ü–µ –º–æ–∂–µ—Ç –±—ã—Ç—å **—Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω PRIMARY KEY**.
- –ó–Ω–∞—á–µ–Ω–∏—è **–Ω–µ –º–æ–≥—É—Ç –±—ã—Ç—å NULL**.
- –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—ë—Ç—Å—è –∏–Ω–¥–µ–∫—Å.

### UNIQUE –∫–ª—é—á
- –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –∑–Ω–∞—á–µ–Ω–∏—è –≤ —Å—Ç–æ–ª–±—Ü–µ (–∏–ª–∏ –Ω–∞–±–æ—Ä–µ —Å—Ç–æ–ª–±—Ü–æ–≤) –±—É–¥—É—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã.
- –í —Ç–∞–±–ª–∏—Ü–µ –º–æ–∂–µ—Ç –±—ã—Ç—å **–Ω–µ—Å–∫–æ–ª—å–∫–æ UNIQUE –∫–ª—é—á–µ–π**.
- –í –æ—Ç–ª–∏—á–∏–µ –æ—Ç PRIMARY KEY, –¥–æ–ø—É—Å–∫–∞–µ—Ç **–æ–¥–Ω–æ –∑–Ω–∞—á–µ–Ω–∏–µ NULL** (–ø–æ–≤–µ–¥–µ–Ω–∏–µ –º–æ–∂–µ—Ç –æ—Ç–ª–∏—á–∞—Ç—å—Å—è –≤ —Ä–∞–∑–Ω—ã—Ö –°–£–ë–î).
- –¢–æ–∂–µ —Å–æ–∑–¥–∞—ë—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–Ω–¥–µ–∫—Å, –Ω–æ –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —è–≤–ª—è–µ—Ç—Å—è ¬´–æ—Å–Ω–æ–≤–Ω—ã–º –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–º¬ª —Ç–∞–±–ª–∏—Ü—ã.

### –ö—Ä–∞—Ç–∫–æ
- `PRIMARY KEY` ‚Äî –≥–ª–∞–≤–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Å—Ç—Ä–æ–∫–∏, –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω –¥–ª—è —Ç–∞–±–ª–∏—Ü—ã –∏ –≤—Å–µ–≥–¥–∞ **NOT NULL + UNIQUE**.
- `UNIQUE` ‚Äî –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –¥—É–±–ª–∏–∫–∞—Ç–æ–≤ –≤ –¥—Ä—É–≥–∏—Ö —Å—Ç–æ–ª–±—Ü–∞—Ö, –Ω–æ –¥–æ–ø—É—Å–∫–∞–µ—Ç `NULL` (–≤ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–µ –°–£–ë–î).

### –ü—Ä–∏–º–µ—Ä

```sql
CREATE TABLE users (
    user_id INT PRIMARY KEY,
    email VARCHAR(255) UNIQUE,
    phone VARCHAR(20) UNIQUE
);
```

## 10. –ö–∞–∫–∏–µ –≤–∏–¥—ã —Å–≤—è–∑–µ–π –º–µ–∂–¥—É —Ç–∞–±–ª–∏—Ü–∞–º–∏ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –∏ –∫–∞–∫ –æ–Ω–∏ —Ä–µ–∞–ª–∏–∑—É—é—Ç—Å—è?

–í —Ä–µ–ª—è—Ü–∏–æ–Ω–Ω—ã—Ö –±–∞–∑–∞—Ö –¥–∞–Ω–Ω—ã—Ö —Å—É—â–µ—Å—Ç–≤—É—é—Ç —Ç—Ä–∏ –æ—Å–Ω–æ–≤–Ω—ã—Ö —Ç–∏–ø–∞ —Å–≤—è–∑–µ–π –º–µ–∂–¥—É —Ç–∞–±–ª–∏—Ü–∞–º–∏: **1:1 (–æ–¥–∏–Ω –∫ –æ–¥–Ω–æ–º—É)**, **1:M (–æ–¥–∏–Ω –∫–æ –º–Ω–æ–≥–∏–º)** –∏ **M:N (–º–Ω–æ–≥–∏–µ –∫–æ –º–Ω–æ–≥–∏–º)**.

### –°–≤—è–∑—å 1:1 (One-to-One)

**–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ:** –∫–∞–∂–¥–æ–π –∑–∞–ø–∏—Å–∏ –≤ –ø–µ—Ä–≤–æ–π —Ç–∞–±–ª–∏—Ü–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –Ω–µ –±–æ–ª–µ–µ –æ–¥–Ω–æ–π –∑–∞–ø–∏—Å–∏ –≤–æ –≤—Ç–æ—Ä–æ–π, –∏ –Ω–∞–æ–±–æ—Ä–æ—Ç.

**–ü—Ä–∏–º–µ—Ä:**
- –¢–∞–±–ª–∏—Ü–∞ `users` ‚Äî –æ—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è—Ö.
- –¢–∞–±–ª–∏—Ü–∞ `user_profiles` ‚Äî –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø–∞—Å–ø–æ—Ä—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ).

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**  
–í–æ –≤—Ç–æ—Ä–æ–π —Ç–∞–±–ª–∏—Ü–µ (`user_profiles`) —Å–æ–∑–¥–∞—ë—Ç—Å—è –≤–Ω–µ—à–Ω–∏–π –∫–ª—é—á (`FOREIGN KEY`), –∫–æ—Ç–æ—Ä—ã–π —Ç–∞–∫–∂–µ —è–≤–ª—è–µ—Ç—Å—è `PRIMARY KEY`.  
–≠—Ç–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ —É –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –±—É–¥–µ—Ç –Ω–µ –±–æ–ª–µ–µ –æ–¥–Ω–æ–≥–æ –ø—Ä–æ—Ñ–∏–ª—è.

```sql
CREATE TABLE users (  
  user_id INT PRIMARY KEY,  
  name VARCHAR(100)  
);

CREATE TABLE user_profiles (  
  user_id INT PRIMARY KEY,  
  address VARCHAR(200),  
  FOREIGN KEY (user_id) REFERENCES users(user_id)  
);
```

### –°–≤—è–∑—å 1:M (One-to-Many)

**–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ:** –∫–∞–∂–¥–æ–π –∑–∞–ø–∏—Å–∏ –≤ –ø–µ—Ä–≤–æ–π —Ç–∞–±–ª–∏—Ü–µ –º–æ–∂–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å –º–Ω–æ–≥–æ –∑–∞–ø–∏—Å–µ–π –≤–æ –≤—Ç–æ—Ä–æ–π, –Ω–æ –∫–∞–∂–¥–∞—è –∑–∞–ø–∏—Å—å –≤–æ –≤—Ç–æ—Ä–æ–π —Ç–∞–±–ª–∏—Ü–µ –æ—Ç–Ω–æ—Å–∏—Ç—Å—è —Ç–æ–ª—å–∫–æ –∫ –æ–¥–Ω–æ–π –∑–∞–ø–∏—Å–∏ –≤ –ø–µ—Ä–≤–æ–π.

**–ü—Ä–∏–º–µ—Ä:**
- –¢–∞–±–ª–∏—Ü–∞ `departments` ‚Äî —Å–ø–∏—Å–æ–∫ –æ—Ç–¥–µ–ª–æ–≤.
- –¢–∞–±–ª–∏—Ü–∞ `employees` ‚Äî —Å–ø–∏—Å–æ–∫ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤.

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**  
–í–æ –≤—Ç–æ—Ä–æ–π —Ç–∞–±–ª–∏—Ü–µ (`employees`) —Å–æ–∑–¥–∞—ë—Ç—Å—è –≤–Ω–µ—à–Ω–∏–π –∫–ª—é—á, –∫–æ—Ç–æ—Ä—ã–π —Å—Å—ã–ª–∞–µ—Ç—Å—è –Ω–∞ –ø–µ—Ä–≤–∏—á–Ω—ã–π –∫–ª—é—á –ø–µ—Ä–≤–æ–π —Ç–∞–±–ª–∏—Ü—ã (`departments`).

```sql
CREATE TABLE departments (  
  department_id INT PRIMARY KEY,  
  department_name VARCHAR(100)  
);

CREATE TABLE employees (  
  employee_id INT PRIMARY KEY,  
  name VARCHAR(100),  
  department_id INT,  
  FOREIGN KEY (department_id) REFERENCES departments(department_id)  
);
```

### –°–≤—è–∑—å M:N (Many-to-Many)

**–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ:** –∫–∞–∂–¥–æ–π –∑–∞–ø–∏—Å–∏ –≤ –ø–µ—Ä–≤–æ–π —Ç–∞–±–ª–∏—Ü–µ –º–æ–∂–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å –º–Ω–æ–≥–æ –∑–∞–ø–∏—Å–µ–π –≤–æ –≤—Ç–æ—Ä–æ–π, –∏ –Ω–∞–æ–±–æ—Ä–æ—Ç.

**–ü—Ä–∏–º–µ—Ä:**
- –¢–∞–±–ª–∏—Ü–∞ `students` ‚Äî —Å—Ç—É–¥–µ–Ω—Ç—ã.
- –¢–∞–±–ª–∏—Ü–∞ `courses` ‚Äî –∫—É—Ä—Å—ã.
- –û–¥–∏–Ω —Å—Ç—É–¥–µ–Ω—Ç –º–æ–∂–µ—Ç –ø–æ—Å–µ—â–∞—Ç—å –º–Ω–æ–≥–æ –∫—É—Ä—Å–æ–≤, –∏ –æ–¥–∏–Ω –∫—É—Ä—Å –º–æ–∂–µ—Ç –ø–æ—Å–µ—â–∞—Ç—å—Å—è –º–Ω–æ–≥–∏–º–∏ —Å—Ç—É–¥–µ–Ω—Ç–∞–º–∏.

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**  
–°–æ–∑–¥–∞—ë—Ç—Å—è —Ç—Ä–µ—Ç—å—è —Ç–∞–±–ª–∏—Ü–∞ (–ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω–∞—è –∏–ª–∏ —Å–≤—è–∑—É—é—â–∞—è), –∫–æ—Ç–æ—Ä–∞—è —Ö—Ä–∞–Ω–∏—Ç –ø–∞—Ä—ã –∫–ª—é—á–µ–π.

```sql
CREATE TABLE students (  
  student_id INT PRIMARY KEY,  
  name VARCHAR(100)  
);

CREATE TABLE courses (  
  course_id INT PRIMARY KEY,  
  course_name VARCHAR(100)  
);

CREATE TABLE student_courses (  
  student_id INT,  
  course_id INT,  
  PRIMARY KEY (student_id, course_id),  
  FOREIGN KEY (student_id) REFERENCES students(student_id),  
  FOREIGN KEY (course_id) REFERENCES courses(course_id)  
);
```

–¢–∞–±–ª–∏—Ü–∞ `student_courses` —Å–≤—è–∑—ã–≤–∞–µ—Ç —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ –∏ –∫—É—Ä—Å—ã, —Ä–µ–∞–ª–∏–∑—É—è —Å–≤—è–∑—å ¬´–º–Ω–æ–≥–∏–µ –∫–æ –º–Ω–æ–≥–∏–º¬ª.

## 11. –ß—Ç–æ —Ç–∞–∫–æ–µ –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è? –û–±—ä—è—Å–Ω–∏—Ç–µ —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏

**–ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è** ‚Äî —ç—Ç–æ –º–µ—Ç–æ–¥ –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö, –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–π –Ω–∞ —É–ø–æ—Ä—è–¥–æ—á–µ–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Ç–∞–±–ª–∏—Ü —Å —Ü–µ–ª—å—é —É–º–µ–Ω—å—à–µ–Ω–∏—è –∏–∑–±—ã—Ç–æ—á–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö –∏ –ø–æ–≤—ã—à–µ–Ω–∏—è –∏—Ö —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏.  
–ü—Ä–æ—Ü–µ—Å—Å –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø–æ—ç—Ç–∞–ø–Ω–æ –∏ —Ä–∞–∑–¥–µ–ª—ë–Ω –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ –Ω–æ—Ä–º–∞–ª—å–Ω—ã—Ö —Ñ–æ—Ä–º (1NF, 2NF, 3NF, BCNF, 4NF), –∫–∞–∂–¥–∞—è –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö –∏–º–µ–µ—Ç —Å–≤–æ–∏ –ø—Ä–∞–≤–∏–ª–∞.

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ü–µ–ª–∏:

1. **–£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –∏–∑–±—ã—Ç–æ—á–Ω–æ—Å—Ç–∏ (redundancy)**  
   –ï—Å–ª–∏ –æ–¥–Ω–∏ –∏ —Ç–µ –∂–µ –¥–∞–Ω–Ω—ã–µ –¥—É–±–ª–∏—Ä—É—é—Ç—Å—è –≤ —Ä–∞–∑–Ω—ã—Ö –º–µ—Å—Ç–∞—Ö, —ç—Ç–æ –≤–µ–¥—ë—Ç –∫ –±–æ–ª—å—à–æ–º—É —Ä–∞–∑–º–µ—Ä—É –ë–î, —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ —Å–æ–ø—Ä–æ–≤–æ–∂–¥–µ–Ω–∏—è –∏ –ø—Ä–æ—Ç–∏–≤–æ—Ä–µ—á–∏–≤—ã–º –∑–Ω–∞—á–µ–Ω–∏—è–º.  
   –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è —É—Å—Ç—Ä–∞–Ω—è–µ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ: –∫–∞–∂–¥–æ–µ –ª–æ–≥–∏—á–µ—Å–∫–æ–µ ¬´–∑–Ω–∞–Ω–∏–µ¬ª —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ.
   –ö—Ä–æ–º–µ —Ç–æ–≥–æ, –∏–∑–±—ã—Ç–æ—á–Ω–æ—Å—Ç—å –Ω–∞–ø—Ä—è–º—É—é –≤—ã–∑—ã–≤–∞–µ—Ç **–∞–Ω–æ–º–∞–ª–∏–∏**:
  - *–ê–Ω–æ–º–∞–ª–∏—è –≤—Å—Ç–∞–≤–∫–∏* ‚Äî –Ω–µ–ª—å–∑—è –¥–æ–±–∞–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –±–µ–∑ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, –Ω–æ–≤–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞ –±–µ–∑ –∑–∞–∫–∞–∑–∞).
  - *–ê–Ω–æ–º–∞–ª–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è* ‚Äî –ø—Ä–∏—Ö–æ–¥–∏—Ç—Å—è –º–µ–Ω—è—Ç—å –æ–¥–Ω–æ –∏ —Ç–æ –∂–µ –∑–Ω–∞—á–µ–Ω–∏–µ –≤ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –º–µ—Å—Ç–∞—Ö, –∏ –º–æ–∂–Ω–æ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å —á–∞—Å—Ç—å –∑–∞–ø–∏—Å–µ–π.
  - *–ê–Ω–æ–º–∞–ª–∏—è —É–¥–∞–ª–µ–Ω–∏—è* ‚Äî —É–¥–∞–ª—è—è –Ω–µ–Ω—É–∂–Ω–æ–µ, –º–æ–∂–Ω–æ —Å–ª—É—á–∞–π–Ω–æ –ø–æ—Ç–µ—Ä—è—Ç—å –ø–æ–ª–µ–∑–Ω—ã–µ —Å–≤—è–∑–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ.

2. **–ü–æ–≤—ã—à–µ–Ω–∏–µ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö (consistency)**  
   –ö–æ–≥–¥–∞ –∑–Ω–∞—á–µ–Ω–∏–µ —Ö—Ä–∞–Ω–∏—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ –æ–¥–Ω–æ–π —Ç–∞–±–ª–∏—Ü–µ, –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å ¬´—Ä–∞—Å—Å–∏–Ω—Ö—Ä–æ–Ω–∞¬ª –∏—Å—á–µ–∑–∞–µ—Ç.  
   –ù–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ –Ω–∞–∑–≤–∞–Ω–∏–µ –≥–æ—Ä–æ–¥–∞ —Ö—Ä–∞–Ω–∏—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–µ –≥–æ—Ä–æ–¥–æ–≤, —Ç–æ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –æ–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—Å—è —Å—Ä–∞–∑—É –¥–ª—è –≤—Å–µ—Ö —Å–≤—è–∑–∞–Ω–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π.

3. **–£–ø—Ä–æ—â–µ–Ω–∏–µ —Å–æ–ø—Ä–æ–≤–æ–∂–¥–µ–Ω–∏—è –∏ –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏**  
   –ï—Å–ª–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–æ–¥—á–∏–Ω—è–µ—Ç—Å—è –Ω–æ—Ä–º–∞–ª—å–Ω—ã–º —Ñ–æ—Ä–º–∞–º, –ø—Ä–æ—â–µ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ –∞—Ç—Ä–∏–±—É—Ç—ã, –∏–∑–º–µ–Ω—è—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ, —Ä–∞—Å—à–∏—Ä—è—Ç—å –º–æ–¥–µ–ª—å.  
   –ù–µ—Ç —Ä–∏—Å–∫–∞ ¬´—Å–ª–æ–º–∞—Ç—å¬ª –¥–∞–Ω–Ω—ã–µ, –æ–±–Ω–æ–≤–∏–≤ —á—Ç–æ-—Ç–æ —Ç–æ–ª—å–∫–æ –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ.

4. **–ì–∏–±–∫–æ—Å—Ç—å –∑–∞–ø—Ä–æ—Å–æ–≤**  
   SQL-–∑–∞–ø—Ä–æ—Å—ã —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è –±–æ–ª–µ–µ –ª–æ–≥–∏—á–Ω—ã–º–∏: –º—ã —Å–æ–µ–¥–∏–Ω—è–µ–º —Ç–∞–±–ª–∏—Ü—ã –ø–æ –∫–ª—é—á–∞–º, –∞ –Ω–µ –∏—â–µ–º –∑–Ω–∞—á–µ–Ω–∏—è –≤ ¬´–ø–æ–ª—è—Ö-–º–µ—à–∞–Ω–∏–Ω–∞—Ö¬ª.  
   –≠—Ç–æ —É–ø—Ä–æ—â–∞–µ—Ç –∞–Ω–∞–ª–∏—Ç–∏–∫—É –∏ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –æ—Ç—á—ë—Ç–æ–≤.

### –ü—Ä–∏–º–µ—Ä –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏ (—Å—Ü–µ–Ω–∞—Ä–∏–π ¬´Customer Invoices¬ª)

#### –ù–µ–Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ (0NF)

| ID | Name | Invoice No. | Invoice Date | Item No. | Description | Quantity | Unit Price |
|----|------|-------------|--------------|----------|-------------|----------|------------|

–í —Ç–∞–∫–æ–º –≤–∏–¥–µ –≤—Å–µ –¥–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –æ–¥–Ω–æ–π —Ç–∞–±–ª–∏—Ü–µ –±–µ–∑ —Å—Ç—Ä—É–∫—Ç—É—Ä–Ω–æ–π –ª–æ–≥–∏–∫–∏. –ó–∞–ø–∏—Å–∏ —Å–æ–¥–µ—Ä–∂–∞—Ç –∏ –¥–∞–Ω–Ω—ã–µ –æ –∫–ª–∏–µ–Ω—Ç–µ, –∏ –¥–∞–Ω–Ω—ã–µ –æ —Å—á—ë—Ç–µ, –∏ –¥–∞–Ω–Ω—ã–µ –æ —Ç–æ–≤–∞—Ä–∞—Ö. –≠—Ç–æ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –∏–∑–±—ã—Ç–æ—á–Ω–æ—Å—Ç–∏ –∏ –∞–Ω–æ–º–∞–ª–∏—è–º.

#### –ü–µ—Ä–≤–∞—è –Ω–æ—Ä–º–∞–ª—å–Ω–∞—è —Ñ–æ—Ä–º–∞ (1NF)

**–ü—Ä–∞–≤–∏–ª–æ:** –≤—Å–µ —è—á–µ–π–∫–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∞—Ç–æ–º–∞—Ä–Ω—ã–º–∏ (—Ç–æ–ª—å–∫–æ –æ–¥–Ω–æ –∑–Ω–∞—á–µ–Ω–∏–µ). –ù—É–∂–Ω–æ —Ä–∞–∑–¥–µ–ª—è—Ç—å —Å–≤—è–∑–∞–Ω–Ω—ã–µ –≥—Ä—É–ø–ø—ã –¥–∞–Ω–Ω—ã—Ö.

–í –ø—Ä–∏–º–µ—Ä–µ –≤—ã–¥–µ–ª—è–µ–º –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã:

**Customer Details Table**

| ID | Name |
|----|------|

**Invoices Table**

| Invoice No. | Customer_ID | Invoice Date |
|-------------|-------------|--------------|

**Items Table**

| Invoice No. | Item No. | Description | Quantity | Unit Price |
|-------------|----------|-------------|----------|------------|

–¢–µ–ø–µ—Ä—å –∫–∞–∂–¥–∞—è —Ç–∞–±–ª–∏—Ü–∞ –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ —Å–≤–æ—é —Å—É—â–Ω–æ—Å—Ç—å.

#### –í—Ç–æ—Ä–∞—è –Ω–æ—Ä–º–∞–ª—å–Ω–∞—è —Ñ–æ—Ä–º–∞ (2NF)

**–ü—Ä–∞–≤–∏–ª–æ:** –∫–∞–∂–¥—ã–π –Ω–µ–∫–ª—é—á–µ–≤–æ–π —Å—Ç–æ–ª–±–µ—Ü –¥–æ–ª–∂–µ–Ω –∑–∞–≤–∏—Å–µ—Ç—å –æ—Ç –≤—Å–µ–≥–æ —Å–æ—Å—Ç–∞–≤–Ω–æ–≥–æ –∫–ª—é—á–∞.

–í –ø—Ä–∏–º–µ—Ä–µ —Ç–∞–±–ª–∏—Ü–∞ `Items` —É–∂–µ —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä—è–µ—Ç 2NF, —Ç–∞–∫ –∫–∞–∫ `Description` –∏ `Unit Price` –∑–∞–≤–∏—Å—è—Ç –æ—Ç –≤—Å–µ–≥–æ –∫–ª—é—á–∞ `(Invoice No., Item No.)`.

#### –¢—Ä–µ—Ç—å—è –Ω–æ—Ä–º–∞–ª—å–Ω–∞—è —Ñ–æ—Ä–º–∞ (3NF)

**–ü—Ä–∞–≤–∏–ª–æ:** –Ω–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —Ç—Ä–∞–Ω–∑–∏—Ç–∏–≤–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π. –ù–µ–∫–ª—é—á–µ–≤—ã–µ —Å—Ç–æ–ª–±—Ü—ã –¥–æ–ª–∂–Ω—ã –∑–∞–≤–∏—Å–µ—Ç—å —Ç–æ–ª—å–∫–æ –æ—Ç –ø–µ—Ä–≤–∏—á–Ω–æ–≥–æ –∫–ª—é—á–∞.

–í –Ω–∞—à–µ–º —Å–ª—É—á–∞–µ —Ç–∞–±–ª–∏—Ü–∞ `Invoices` —É—Ç–æ—á–Ω—è–µ—Ç—Å—è —Ç–∞–∫:

**Updated Invoices Table**  

| Invoice No. | Customer_ID | Invoice Date |
|-------------|-------------|--------------|

–ó–¥–µ—Å—å `Customer_ID` ‚Äî –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –∞—Ç—Ä–∏–±—É—Ç, —Å–≤—è–∑–∞–Ω–Ω—ã–π —Å –∫–ª–∏–µ–Ω—Ç–æ–º.

### –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è

- –ë–æ–ª–µ–µ –≤—ã—Å–æ–∫–∏–µ –Ω–æ—Ä–º–∞–ª—å–Ω—ã–µ —Ñ–æ—Ä–º—ã –ø–æ–≤—ã—à–∞—é—Ç —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö, –Ω–æ –º–æ–≥—É—Ç —É—Å–ª–æ–∂–Ω—è—Ç—å —Ä–∞–±–æ—Ç—É —Å –Ω–∏–º–∏.
- –ù—É–∂–Ω–æ —É—á–∏—Ç—ã–≤–∞—Ç—å —Å–ø–µ—Ü–∏—Ñ–∏–∫—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –ø—Ä–∏ –≤—ã–±–æ—Ä–µ —Ü–µ–ª–µ–≤–æ–π –Ω–æ—Ä–º–∞–ª—å–Ω–æ–π —Ñ–æ—Ä–º—ã.

### –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –º–∏—Ä–µ

- –ë–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö —Å—Ç—Ä–µ–º–∏—Ç—Å—è —Ö–æ—Ç—è –±—ã –∫ 3NF.
- –î–ª—è –∑–∞–¥–∞—á, –≥–¥–µ –≤–∞–∂–Ω–∞ –ø–æ–ª–Ω–∞—è —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö, –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è 4NF –∏ –≤—ã—à–µ.

### –ü—Ä–∏–º–µ—Ä SQL —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ (3NF)

–°–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã –∫–ª–∏–µ–Ω—Ç–æ–≤:

```sql
CREATE TABLE Customers (  
  ID INT PRIMARY KEY,  
  Name VARCHAR(50)  
);

--–°–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã —Å—á–µ—Ç–æ–≤:

CREATE TABLE Invoices (  
  InvoiceNo INT PRIMARY KEY,  
  Customer_ID INT,  
  InvoiceDate DATE,  
  FOREIGN KEY (Customer_ID) REFERENCES Customers(ID)  
);

--–°–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã —Ç–æ–≤–∞—Ä–æ–≤:

CREATE TABLE Items (  
  InvoiceNo INT,  
  ItemNo INT,  
  Description VARCHAR(100),  
  Quantity INT,  
  UnitPrice DECIMAL(10,2),  
  PRIMARY KEY (InvoiceNo, ItemNo),  
  FOREIGN KEY (InvoiceNo) REFERENCES Invoices(InvoiceNo)  
);
```

–≠—Ç–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –≤ 3NF —Ä–∞–∑–¥–µ–ª—è–µ—Ç –∫–ª–∏–µ–Ω—Ç–æ–≤, —Å—á–µ—Ç–∞ –∏ —Ç–æ–≤–∞—Ä—ã –Ω–∞ –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã, —á—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö –∏ —É–¥–æ–±—Å—Ç–≤–æ –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ.

## 12. –ß—Ç–æ —Ç–∞–∫–æ–µ –¥–µ–Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –∏ –∫–æ–≥–¥–∞ –µ—ë –∏—Å–ø–æ–ª—å–∑—É—é—Ç?

**–î–µ–Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è** ‚Äî —ç—Ç–æ –ø—Ä–æ—Ü–µ—Å—Å –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –∑–∞ —Å—á—ë—Ç —É–º–µ–Ω—å—à–µ–Ω–∏—è —á–∏—Å–ª–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π (JOIN) –∏ —É—Å–∫–æ—Ä–µ–Ω–∏—è –≤—ã–±–æ—Ä–æ–∫, –ø—É—Ç—ë–º –ø—Ä–µ–¥–Ω–∞–º–µ—Ä–µ–Ω–Ω–æ–≥–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∏–∑–±—ã—Ç–æ—á–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö.  
–≠—Ç–æ –ø—Ä–æ—Ç–∏–≤–æ–ø–æ–ª–æ–∂–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏: –º—ã –∂–µ—Ä—Ç–≤—É–µ–º —á–∞—Å—Ç—å—é —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏ —Ä–∞–¥–∏ —Å–∫–æ—Ä–æ—Å—Ç–∏.

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ç–µ—Ö–Ω–∏–∫–∏ –¥–µ–Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏

1. **–£–ø–ª–æ—â–µ–Ω–∏–µ —Å–≤—è–∑–µ–π (Flattening Relationships)**
  - –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Ç–∞–±–ª–∏—Ü –¥–ª—è –º–∏–Ω–∏–º–∏–∑–∞—Ü–∏–∏ —á–∏—Å–ª–∞ JOIN.
  - –ü—Ä–∏–º–µ—Ä: –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ —Ç–∞–±–ª–∏—Ü `Order` –∏ `Product`, —á—Ç–æ–±—ã —É–±—Ä–∞—Ç—å —Å–≤—è–∑—å –º–Ω–æ–≥–∏–µ-–∫–æ-–º–Ω–æ–≥–∏–º.

2. **–ê–≥—Ä–µ–≥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö (Aggregating Data)**
  - –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–π —Ä–∞—Å—á—ë—Ç –∑–Ω–∞—á–µ–Ω–∏–π –¥–ª—è —Å–Ω–∏–∂–µ–Ω–∏—è –Ω–∞–≥—Ä—É–∑–∫–∏ –ø—Ä–∏ –∑–∞–ø—Ä–æ—Å–∞—Ö.
  - –ü—Ä–∏–º–µ—Ä: –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–æ–ª–æ–Ω–∫–∏ `Sales_Total` –≤ —Ç–∞–±–ª–∏—Ü—É `Order`.

3. **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∏–∑–±—ã—Ç–æ—á–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö (Adding Redundant Data)**
  - –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –¥–ª—è —É–º–µ–Ω—å—à–µ–Ω–∏—è —á–∏—Å–ª–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π.
  - –ü—Ä–∏–º–µ—Ä: —Ç–∞–±–ª–∏—Ü—ã `Customer` –∏ `Sales` –æ–±–µ —Å–æ–¥–µ—Ä–∂–∞—Ç –ø–æ–ª–µ `Country`, —Ö–æ—Ç—è –æ–Ω–æ —Å–≤—è–∑–∞–Ω–æ —á–µ—Ä–µ–∑ `Customer`.

### –¢–∏–ø–æ–≤—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è

- **–û—Ç—á—ë—Ç—ã –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ (Reporting and Analytics)**
  - –û—Ç—á—ë—Ç—ã —á–∞—Å—Ç–æ —Ç—Ä–µ–±—É—é—Ç —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π –±–æ–ª—å—à–æ–≥–æ —á–∏—Å–ª–∞ —Ç–∞–±–ª–∏—Ü.
  - –î–µ–Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è —É–ø—Ä–æ—â–∞–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∏ —É—Å–∫–æ—Ä—è–µ—Ç –≥–µ–Ω–µ—Ä–∞—Ü–∏—é –æ—Ç—á—ë—Ç–æ–≤.

- **–í—ã—Å–æ–∫–æ–Ω–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–æ–Ω–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã (High-Volume Transaction Systems)**
  - –ï—Å–ª–∏ –¥–æ–ø—É—Å—Ç–∏–º–∞ –∫—Ä–∞—Ç–∫–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è –Ω–µ—Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö, –¥–µ–Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è —É—Å–∫–æ—Ä—è–µ—Ç –æ–ø–µ—Ä–∞—Ü–∏–∏.
  - –ü—Ä–∏–º–µ—Ä: –≤ e-commerce –¥–æ–ø—É—Å–∫–∞–µ—Ç—Å—è –Ω–µ–±–æ–ª—å—à–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –æ –ø—Ä–æ–¥–∞–∂–∞—Ö —Ä–∞–¥–∏ –±–æ–ª–µ–µ –±—ã—Å—Ç—Ä–æ–≥–æ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è –∑–∞–∫–∞–∑–æ–≤.

- **–°–∏—Å—Ç–µ–º—ã —Å –ø—Ä–µ–æ–±–ª–∞–¥–∞–Ω–∏–µ–º —á—Ç–µ–Ω–∏—è (Read-Mostly Applications)**
  - –¢–∞–º, –≥–¥–µ –º–Ω–æ–≥–æ –æ–ø–µ—Ä–∞—Ü–∏–π —á—Ç–µ–Ω–∏—è –∏ –º–∞–ª–æ –∑–∞–ø–∏—Å–∏.

- **–°–∏—Å—Ç–µ–º—ã —Å –∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω—ã–º –ø–æ–∏—Å–∫–æ–º –∏ –∑–∞–ø—Ä–æ—Å–∞–º–∏ (Search- and Query-Intensive Applications)**
  - –ü–æ–∏—Å–∫–æ–≤—ã–µ –¥–≤–∏–∂–∫–∏ —á–∞—Å—Ç–æ —Ö—Ä–∞–Ω—è—Ç –¥–∞–Ω–Ω—ã–µ –≤ –¥–µ–Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–π —Ñ–æ—Ä–º–µ –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è –ø–æ–∏—Å–∫–∞.

- **–†–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã (Partitioning Data)**
  - –í NoSQL –∏–ª–∏ Hadoop –¥–∞–Ω–Ω—ã–µ —á–∞—Å—Ç–æ —Ö—Ä–∞–Ω—è—Ç—Å—è —Å –∏–∑–±—ã—Ç–æ—á–Ω–æ—Å—Ç—å—é –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–∞ –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —É–∑–ª–∞—Ö.

### –°–æ–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏ –∫–æ–º–ø—Ä–æ–º–∏—Å—Å—ã

- **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å vs. —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å**
  - –î–µ–Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è —É—Å–∫–æ—Ä—è–µ—Ç –∑–∞–ø—Ä–æ—Å—ã, –Ω–æ —Å–Ω–∏–∂–∞–µ—Ç –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö.

- **–°–ª–æ–∂–Ω–æ—Å—Ç—å –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è (Maintenance Challenges)**
  - –ò–∑–±—ã—Ç–æ—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –Ω—É–∂–Ω–æ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∏ –æ–±–Ω–æ–≤–ª—è—Ç—å.

- **–ü—Ä–æ—Å—Ç–æ—Ç–∞ —ç–∫—Å–ø–ª—É–∞—Ç–∞—Ü–∏–∏ (Operational Simplicity)**
  - –ò–Ω–æ–≥–¥–∞ –ø—Ä–æ—Å—Ç–∞—è –¥–µ–Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —É–¥–æ–±–Ω–µ–µ, —á–µ–º —Å—Ç—Ä–æ–≥–∞—è –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è.

- **–ì–∏–±–∫–æ—Å—Ç—å –∑–∞–ø—Ä–æ—Å–æ–≤ (Query Flexibility)**
  - –ù–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø—Ä–æ—â–µ –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ–¥ –Ω–æ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã –∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—Ö–µ–º—ã, –∞ –¥–µ–Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Ç—Ä–µ–±—É—é—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö —É—Å–∏–ª–∏–π –¥–ª—è –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–π.

### –ò—Ç–æ–≥

–î–µ–Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, –∫–æ–≥–¥–∞ **–≤–∞–∂–Ω–µ–µ —Å–∫–æ—Ä–æ—Å—Ç—å –¥–æ—Å—Ç—É–ø–∞ –∏ —É–ø—Ä–æ—â–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤**, —á–µ–º —Å—Ç—Ä–æ–≥–∞—è —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö.  
–û–±—ã—á–Ω–æ –æ–Ω–∞ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è:
- –≤ –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏—Ö —Å–∏—Å—Ç–µ–º–∞—Ö,
- –ø—Ä–∏ –æ—á–µ–Ω—å –±–æ–ª—å—à–∏—Ö –æ–±—ä—ë–º–∞—Ö –¥–∞–Ω–Ω—ã—Ö,
- –≤ –ø–æ–∏—Å–∫–æ–≤—ã—Ö –¥–≤–∏–∂–∫–∞—Ö,
- –≤ e-commerce –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è –æ—Ç–∫–ª–∏–∫–∞.

## 13. –ß—Ç–æ —Ç–∞–∫–æ–µ –∏–Ω–¥–µ–∫—Å—ã –∏ –∫–∞–∫ –æ–Ω–∏ —É–ª—É—á—à–∞—é—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∑–∞–ø—Ä–æ—Å–æ–≤?

**–ò–Ω–¥–µ–∫—Å** ‚Äî —ç—Ç–æ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –≤ –°–£–ë–î, –∫–æ—Ç–æ—Ä–∞—è —Ö—Ä–∞–Ω–∏—Ç –∑–Ω–∞—á–µ–Ω–∏—è —Å—Ç–æ–ª–±—Ü–∞ (–∏–ª–∏ —Å—Ç–æ–ª–±—Ü–æ–≤) –≤ –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–º/–æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–º –¥–ª—è –ø–æ–∏—Å–∫–∞ –≤–∏–¥–µ –≤–º–µ—Å—Ç–µ —Å —É–∫–∞–∑–∞—Ç–µ–ª—è–º–∏ –Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ —Å—Ç—Ä–æ–∫–∏ —Ç–∞–±–ª–∏—Ü—ã.

**–ê–Ω–∞–ª–æ–≥–∏—è:**
- –ë–µ–∑ –∏–Ω–¥–µ–∫—Å–∞: –∏—â–µ—à—å —Å–ª–æ–≤–æ –≤ –∫–Ω–∏–≥–µ, –ø–µ—Ä–µ–ª–∏—Å—Ç—ã–≤–∞—è –∫–∞–∂–¥—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É (–ø–æ–ª–Ω—ã–π –ø–µ—Ä–µ–±–æ—Ä, table scan).
- –° –∏–Ω–¥–µ–∫—Å–æ–º: —Å–º–æ—Ç—Ä–∏—à—å –≤ –∞–ª—Ñ–∞–≤–∏—Ç–Ω—ã–π —É–∫–∞–∑–∞—Ç–µ–ª—å –∏ —Å—Ä–∞–∑—É –Ω–∞—Ö–æ–¥–∏—à—å –Ω—É–∂–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É.

### –û—Å–Ω–æ–≤–Ω—ã–µ –≤–∏–¥—ã –∏–Ω–¥–µ–∫—Å–æ–≤

#### Clustered Index (–∫–ª–∞—Å—Ç–µ—Ä–Ω—ã–π)
1. **–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:** –∑–∞–¥–∞—ë—Ç —Ñ–∏–∑–∏—á–µ—Å–∫–∏–π –ø–æ—Ä—è–¥–æ–∫ —Ö—Ä–∞–Ω–µ–Ω–∏—è —Å—Ç—Ä–æ–∫ –≤ —Ç–∞–±–ª–∏—Ü–µ.
2. **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ:** —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω –Ω–∞ —Ç–∞–±–ª–∏—Ü—É.
3. **–ü—Ä–∏–º–µ—Ä:** –µ—Å–ª–∏ —Å–¥–µ–ª–∞—Ç—å `PRIMARY KEY order_id` (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤ SQL Server), –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —ç—Ç–æ –±—É–¥–µ—Ç clustered-–∏–Ω–¥–µ–∫—Å ‚Äî —Å—Ç—Ä–æ–∫–∏ —Ä–µ–∞–ª—å–Ω–æ –±—É–¥—É—Ç —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω—ã –ø–æ `order_id`.
4. **–ü–ª—é—Å:** –±—ã—Å—Ç—Ä—ã–π –ø–æ–∏—Å–∫ –∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ –∫–ª—é—á—É.
5. **–ú–∏–Ω—É—Å:** –ø—Ä–∏ –≤—Å—Ç–∞–≤–∫–µ –∑–Ω–∞—á–µ–Ω–∏–π ¬´–Ω–µ –≤ –∫–æ–Ω–µ—Ü¬ª —Å—Ç—Ä–æ–∫–∏ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ—Å—Ç–∞–≤–ª—è—Ç—å ‚Üí –º–æ–∂–µ—Ç –±—ã—Ç—å –º–µ–¥–ª–µ–Ω–Ω–æ.

#### Non-Clustered Index (–Ω–µ–∫–ª–∞—Å—Ç–µ—Ä–Ω—ã–π)
- **–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:** —Ö—Ä–∞–Ω–∏—Ç –∫–æ–ø–∏—é –∫–ª—é—á–µ–π + —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ –º–µ—Å—Ç–æ –≤ —Ç–∞–±–ª–∏—Ü–µ (Row ID –∏–ª–∏ –∫–ª–∞—Å—Ç–µ—Ä–Ω—ã–π –∫–ª—é—á).
- **–°–∫–æ–ª—å–∫–æ –º–æ–∂–Ω–æ:** —Ö–æ—Ç—å –¥–µ—Å—è—Ç–∫–∏ –Ω–∞ –æ–¥–Ω—É —Ç–∞–±–ª–∏—Ü—É.
- **–ü—Ä–∏–º–µ—Ä:**

```sql
  CREATE INDEX idx_orders_customer  
  ON orders(customer_id);
```

- **–ü–ª—é—Å:** –±—ã—Å—Ç—Ä–æ –∏—Å–∫–∞—Ç—å –ø–æ –Ω–µ–æ—Å–Ω–æ–≤–Ω—ã–º –ø–æ–ª—è–º.
- **–ú–∏–Ω—É—Å:** –ø–æ—Å–ª–µ –Ω–∞—Ö–æ–∂–¥–µ–Ω–∏—è –∫–ª—é—á–∞ –°–£–ë–î –≤—Å—ë —Ä–∞–≤–Ω–æ –∏–¥—ë—Ç –≤ —Ç–∞–±–ª–∏—Ü—É –∑–∞ –æ—Å—Ç–∞–ª—å–Ω—ã–º–∏ –ø–æ–ª—è–º–∏ (lookup).

#### Covering Index (–ø–æ–∫—Ä—ã–≤–∞—é—â–∏–π)
- **–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:** —Å–æ–¥–µ—Ä–∂–∏—Ç –≤—Å–µ –ø–æ–ª—è, –Ω—É–∂–Ω—ã–µ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞ ‚Äî –∫–ª—é—á–∏ –∏ INCLUDE-–∫–æ–ª–æ–Ω–∫–∏.
- **–ó–∞—á–µ–º:** —á—Ç–æ–±—ã –Ω–µ —Ö–æ–¥–∏—Ç—å –≤ —Ç–∞–±–ª–∏—Ü—É ‚Äî –≤—Å—ë —á–∏—Ç–∞–µ—Ç—Å—è –∏–∑ –∏–Ω–¥–µ–∫—Å–∞.
- **–ü—Ä–∏–º–µ—Ä:**
```sql
CREATE INDEX idx_orders_cover  
ON orders(customer_id, order_date)  
INCLUDE(total_amount);
```
–ó–∞–ø—Ä–æ—Å:
```sql
SELECT customer_id, order_date, total_amount  
FROM orders  
WHERE customer_id = 101;
```
–º–æ–∂–µ—Ç –≤—ã–ø–æ–ª–Ω–∏—Ç—å—Å—è –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏–∑ –∏–Ω–¥–µ–∫—Å–∞.

#### Unique Index
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å –∑–Ω–∞—á–µ–Ω–∏–π.
- **–ì–¥–µ –ø–æ—è–≤–ª—è–µ—Ç—Å—è:** —Å–æ–∑–¥–∞—ë—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ `PRIMARY KEY` –∏ `UNIQUE` –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è—Ö.

### –ö–∞–∫ –∏–Ω–¥–µ–∫—Å —É—Å—Ç—Ä–æ–µ–Ω –≤–Ω—É—Ç—Ä–∏

- –ß–∞—â–µ –≤—Å–µ–≥–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **B-tree**: –≤ —É–∑–ª–∞—Ö —Ö—Ä–∞–Ω—è—Ç—Å—è –¥–∏–∞–ø–∞–∑–æ–Ω—ã –∑–Ω–∞—á–µ–Ω–∏–π –∏ —Å—Å—ã–ª–∫–∏; –ø–æ–∏—Å–∫ ‚Äî `O(log N)` (–∞ –Ω–µ `O(N)`).
- –î–ª—è –ø–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤—ã—Ö/–≥–µ–æ–¥–∞–Ω–Ω—ã—Ö –º–æ–≥—É—Ç –ø—Ä–∏–º–µ–Ω—è—Ç—å—Å—è –¥—Ä—É–≥–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã: **hash**, **GiST**, **R-tree**.

### –ö–æ–≥–¥–∞ –∏–Ω–¥–µ–∫—Å –ø–æ–º–æ–≥–∞–µ—Ç

- –£—Å–ª–æ–≤–∏–µ –≤ `WHERE` –ø–æ –∫–æ–ª–æ–Ω–∫–µ —Å –∏–Ω–¥–µ–∫—Å–æ–º, –≤—ã–±–∏—Ä–∞—é—â–µ–µ **–º–∞–ª—É—é –¥–æ–ª—é —Å—Ç—Ä–æ–∫**.
- `JOIN` –ø–æ –∏–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –∫–æ–ª–æ–Ω–∫–∞–º.
- `ORDER BY` / `GROUP BY` –ø–æ –∏–Ω–¥–µ–∫—Å–∏—Ä—É–µ–º—ã–º —Å—Ç–æ–ª–±—Ü–∞–º.
- –ß–∞—Å—Ç—ã–µ —Ç–æ—á–µ—á–Ω—ã–µ (`=`) –∏ –¥–∏–∞–ø–∞–∑–æ–Ω–Ω—ã–µ (`BETWEEN`, `>`, `<`) –∑–∞–ø—Ä–æ—Å—ã.

### –ö–æ–≥–¥–∞ –∏–Ω–¥–µ–∫—Å –Ω–µ –ø–æ–º–æ–≥–∞–µ—Ç

- –û—á–µ–Ω—å –º–∞–ª–µ–Ω—å–∫–∞—è —Ç–∞–±–ª–∏—Ü–∞ ‚Äî –ø–æ–ª–Ω—ã–π —Å–∫–∞–Ω –±—ã—Å—Ç—Ä–µ–µ.
- –ó–∞–ø—Ä–æ—Å—ã, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã–±–∏—Ä–∞—é—Ç **>20‚Äì30%** —Å—Ç—Ä–æ–∫ ‚Äî —á—Ç–µ–Ω–∏–µ –≤—Å–µ–π —Ç–∞–±–ª–∏—Ü—ã –º–æ–∂–µ—Ç –±—ã—Ç—å –≤—ã–≥–æ–¥–Ω–µ–µ.
- –£—Å–ª–æ–≤–∏—è —Å —Ñ—É–Ω–∫—Ü–∏—è–º–∏/–≤—ã—Ä–∞–∂–µ–Ω–∏—è–º–∏ –Ω–∞ –∫–æ–ª–æ–Ω–∫–µ (–∏–Ω–¥–µ–∫—Å –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è):

```sql
    WHERE YEAR(order_date) = 2024    ‚Üê –∏–Ω–¥–µ–∫—Å –ø–æ `order_date` –Ω–µ –ø—Ä–∏–º–µ–Ω–∏—Ç—Å—è
```
- –ù–µ—Åe–ªe–∫—Ç–∏–≤–Ω—ã–µ —É—Å–ª–æ–≤–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, `WHERE gender = 'M'`, –µ—Å–ª–∏ 90% –∑–Ω–∞—á–µ–Ω–∏–π ‚Äî `'M'`).

---

### –ú–∏–Ω—É—Å—ã –∏–Ω–¥–µ–∫—Å–æ–≤

- **–ü–∞–º—è—Ç—å:** –∑–∞–Ω–∏–º–∞—é—Ç –º–µ—Å—Ç–æ –Ω–∞ –¥–∏—Å–∫–µ.
- **–ó–∞–ø–∏—Å—å:** –∑–∞–º–µ–¥–ª—è—é—Ç `INSERT/UPDATE/DELETE`, –ø–æ—Ç–æ–º—É —á—Ç–æ –∏–Ω–¥–µ–∫—Å—ã —Ç–æ–∂–µ –Ω—É–∂–Ω–æ –æ–±–Ω–æ–≤–ª—è—Ç—å.
- **–ü–æ–¥–¥–µ—Ä–∂–∫–∞:** –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Ç–∞–±–ª–∏—Ü—ã –∏–Ω–¥–µ–∫—Å—ã –Ω—É–∂–Ω–æ –ø–µ—Ä–µ—Å—Ç—Ä–∞–∏–≤–∞—Ç—å.

### –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ª–∏ –∏–Ω–¥–µ–∫—Å

**PostgreSQL (—Ç–µ–∫—Å—Ç SQL):**

```sql
  EXPLAIN ANALYZE  
  SELECT *
  FROM orders  
  WHERE customer_id = 123;
```

–°–º–æ—Ç—Ä–∏, –µ—Å—Ç—å –ª–∏ –≤ –ø–ª–∞–Ω–µ **Index Scan** (PostgreSQL) –∏–ª–∏ **Index Seek**/**Index Scan** (SQL Server).
- *Index Seek* ‚Äî –±—ã—Å—Ç—Ä—ã–π –∞–¥—Ä–µ—Å–Ω—ã–π –ø–æ–∏—Å–∫ –ø–æ –¥–µ—Ä–µ–≤—É.
- *Index Scan* ‚Äî –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–µ —á—Ç–µ–Ω–∏–µ –∏–Ω–¥–µ–∫—Å–∞ —Ü–µ–ª–∏–∫–æ–º (–ª—É—á—à–µ, —á–µ–º table scan, –Ω–æ —Ö—É–∂–µ seek).

### –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –∫–µ–π—Å

**–ü—Ä–æ–±–ª–µ–º–∞:** –≤ –æ—Ç—á—ë—Ç–µ Power BI –∑–∞–ø—Ä–æ—Å

```sql
  SELECT customer_id, SUM(amount)  
  FROM orders  
  WHERE order_date >= '2024-01-01'  
  GROUP BY customer_id;
```

—Ä–∞–±–æ—Ç–∞–ª ~2 –º–∏–Ω—É—Ç—ã.

**–†–µ—à–µ–Ω–∏–µ:** —Å–æ–∑–¥–∞–ª–∏ –ø–æ–∫—Ä—ã–≤–∞—é—â–∏–π –∏–Ω–¥–µ–∫—Å
```sql
CREATE INDEX idx_orders_perf  
ON orders(order_date, customer_id)  
INCLUDE(amount);
```

‚Äî –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Å–æ–∫—Ä–∞—Ç–∏–ª–æ—Å—å –¥–æ ~5 —Å–µ–∫—É–Ω–¥.

## 14. –ß—Ç–æ —Ç–∞–∫–æ–µ PL/SQL?

**a.** PL/SQL (Procedural Language/SQL) ‚Äî —ç—Ç–æ –ø—Ä–æ—Ü–µ–¥—É—Ä–Ω–æ–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ Oracle –¥–ª—è SQL,  
–∫–æ—Ç–æ—Ä–æ–µ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞—Ç—å SQL-–æ–ø–µ—Ä–∞—Ç–æ—Ä—ã —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è–º–∏ –ø—Ä–æ—Ü–µ–¥—É—Ä–Ω–æ–≥–æ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è.

**b. –û—Å–Ω–æ–≤–Ω—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞:**
1. **–ë–ª–æ—á–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞** ‚Äî –∫–æ–¥ –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω –≤ –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω—ã–µ, –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–µ –∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∏—Å–∫–ª—é—á–µ–Ω–∏–π.
2. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å SQL** ‚Äî –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤—Å—Ç—Ä–∞–∏–≤–∞—Ç—å DML-–æ–ø–µ—Ä–∞—Ç–æ—Ä—ã –∏ SELECT-–∑–∞–ø—Ä–æ—Å—ã –≤–Ω—É—Ç—Ä—å –ø—Ä–æ—Ü–µ–¥—É—Ä–Ω–æ–≥–æ –∫–æ–¥–∞.
3. **–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏ —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö** ‚Äî –ø–æ–¥–¥–µ—Ä–∂–∫–∞ SQL-—Ç–∏–ø–æ–≤ –¥–∞–Ω–Ω—ã—Ö –∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ–±—ä—è–≤–ª–µ–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö, –∫–æ–Ω—Å—Ç–∞–Ω—Ç –∏ –∫—É—Ä—Å–æ—Ä–æ–≤.
4. **–£–ø—Ä–∞–≤–ª—è—é—â–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã** ‚Äî –ø–æ–¥–¥–µ—Ä–∂–∫–∞ `IF-THEN-ELSE`, `CASE` –∏ —Ü–∏–∫–ª–æ–≤ (`FOR`, `WHILE`, `LOOP`).
5. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–π** ‚Äî –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –º–µ—Ö–∞–Ω–∏–∑–º –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫ —á–µ—Ä–µ–∑ –±–ª–æ–∫–∏ `EXCEPTION`.
6. **–ú–æ–¥—É–ª—å–Ω–æ—Å—Ç—å** ‚Äî –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –ø—Ä–æ—Ü–µ–¥—É—Ä, —Ñ—É–Ω–∫—Ü–∏–π, –ø–∞–∫–µ—Ç–æ–≤ –∏ —Ç—Ä–∏–≥–≥–µ—Ä–æ–≤.
7. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** ‚Äî —Å–Ω–∏–∂–µ–Ω–∏–µ —Å–µ—Ç–µ–≤–æ–≥–æ —Ç—Ä–∞—Ñ–∏–∫–∞ –∑–∞ —Å—á—ë—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ª–æ–≥–∏–∫–∏ –Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω–æ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö.

**–ü—Ä–∏–º–µ—Ä:**
```sql
  DECLARE
  v_total NUMBER;
  BEGIN
    SELECT COUNT(*) INTO v_total FROM employees;
    DBMS_OUTPUT.PUT_LINE(‚ÄôTotal employees: ‚Äô || v_total);
  EXCEPTION
  WHEN OTHERS THEN
    DBMS_OUTPUT.PUT_LINE(‚ÄòError occurred‚Äô);
  END;
```
**–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è PL/SQL:**
1. **–°–ª–æ–∂–Ω–æ—Å—Ç—å —Å–æ–ø—Ä–æ–≤–æ–∂–¥–µ–Ω–∏—è** ‚Äî —á—Ä–µ–∑–º–µ—Ä–Ω–æ–µ —Ä–∞–∑–º–µ—â–µ–Ω–∏–µ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏ –≤ –ë–î —É—Å–ª–æ–∂–Ω—è–µ—Ç –æ—Ç–ª–∞–¥–∫—É –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ.
2. **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–∞—è –ø–æ–≤—Ç–æ—Ä–Ω–∞—è –∏—Å–ø–æ–ª—å–∑—É–µ–º–æ—Å—Ç—å** ‚Äî –∫–æ–¥ PL/SQL –Ω–µ–ª—å–∑—è –Ω–∞–ø—Ä—è–º—É—é –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤–æ –≤–Ω–µ—à–Ω–∏—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö, –Ω–∞–ø–∏—Å–∞–Ω–Ω—ã—Ö –Ω–∞ –¥—Ä—É–≥–∏—Ö —è–∑—ã–∫–∞—Ö.
3. **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç –≤–µ—Ä—Å–∏–∏** ‚Äî –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–æ—Å—Ç—É–ø–Ω—ã —Ç–æ–ª—å–∫–æ –≤ –Ω–æ–≤—ã—Ö –≤–µ—Ä—Å–∏—è—Ö Oracle.
4. **–ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞ –Ω–∞ –ë–î** ‚Äî –ø–µ—Ä–µ–Ω–æ—Å —Ç—è–∂—ë–ª–æ–π –ª–æ–≥–∏–∫–∏ –≤ PL/SQL –º–æ–∂–µ—Ç –ø–µ—Ä–µ–≥—Ä—É–∑–∏—Ç—å —Å–µ—Ä–≤–µ—Ä –≤–º–µ—Å—Ç–æ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –Ω–∞–≥—Ä—É–∑–∫–∏ –Ω–∞ —É—Ä–æ–≤–µ–Ω—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π.
5. **–ù–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –Ω–∞–≤—ã–∫–æ–≤** ‚Äî –Ω–µ –≤—Å–µ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏ –≤–ª–∞–¥–µ—é—Ç PL/SQL, —á—Ç–æ –º–æ–∂–µ—Ç –æ–≥—Ä–∞–Ω–∏—á–∏—Ç—å –≥–∏–±–∫–æ—Å—Ç—å –∫–æ–º–∞–Ω–¥—ã.

**–í—ã–≤–æ–¥:**  
PL/SQL –ª—É—á—à–µ –≤—Å–µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤—ã–±–æ—Ä–æ—á–Ω–æ, —Å–æ—á–µ—Ç–∞—è –ª–æ–≥–∏–∫—É –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π.

## 15. –ö–∞–∫–∞—è —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É –ø—Ä–æ—Ü–µ–¥—É—Ä–Ω—ã–º –∏ –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω—ã–º –ø–æ–¥—Ö–æ–¥–æ–º –≤ SQL?

**Declarative SQL** ‚Äî —Ñ–æ–∫—É—Å–∏—Ä—É–µ—Ç—Å—è –Ω–∞ —Ç–æ–º, *–∫–∞–∫–æ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç* –Ω—É–∂–µ–Ω, –æ—Å—Ç–∞–≤–ª—è—è *–∫–∞–∫* –µ–≥–æ –ø–æ–ª—É—á–∏—Ç—å –Ω–∞ —É—Å–º–æ—Ç—Ä–µ–Ω–∏–µ –°–£–ë–î.
  –ù–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–æ—Å—Ç–æ–π –æ–ø–µ—Ä–∞—Ç–æ—Ä `SELECT` —É–∫–∞–∑—ã–≤–∞–µ—Ç —Ç—Ä–µ–±—É–µ–º—ã–µ –¥–∞–Ω–Ω—ã–µ, –∞ –°–£–ë–î —Å–∞–º–∞ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –ª—É—á—à–∏–π –ø–ª–∞–Ω –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è. –î–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω—ã–π SQL –ª–∞–∫–æ–Ω–∏—á–µ–Ω –∏ –æ–ø—Ç–∏–º–∏–∑–∏—Ä—É–µ—Ç—Å—è –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö, –Ω–æ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –º–∞–ª–æ –∫–æ–Ω—Ç—Ä–æ–ª—è –Ω–∞–¥ –ø–æ—Ä—è–¥–∫–æ–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è.

**Procedural SQL** ‚Äî –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç SQL —Å –ø—Ä–æ–≥—Ä–∞–º–º–Ω—ã–º–∏ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏ –¥–ª—è —è–≤–Ω–æ–≥–æ —É–∫–∞–∑–∞–Ω–∏—è, *–∫–∞–∫* –≤—ã–ø–æ–ª–Ω—è—Ç—å –æ–ø–µ—Ä–∞—Ü–∏–∏.
–í PL/SQL, –Ω–∞–ø—Ä–∏–º–µ—Ä, –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ü–∏–∫–ª—ã, —É—Å–ª–æ–≤–∏—è –∏ –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫ –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Å–ª–æ–∂–Ω–æ–π –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏.
–¢–∞–∫–æ–π –ø–æ–¥—Ö–æ–¥ –¥–∞—ë—Ç –±–æ–ª—å—à–µ –∫–æ–Ω—Ç—Ä–æ–ª—è –∏ –≥–∏–±–∫–æ—Å—Ç–∏, –Ω–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –º–Ω–æ–≥–æ—Å–ª–æ–≤–Ω—ã–º –∏ —Å–ª–æ–∂–Ω–µ–µ –≤ —Å–æ–ø—Ä–æ–≤–æ–∂–¥–µ–Ω–∏–∏.

## 16. –û–±—ä—è—Å–Ω–∏—Ç–µ —Å–≤–æ–π—Å—Ç–≤–∞ ACID –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö

–°–≤–æ–π—Å—Ç–≤–∞ **ACID** –æ–ø–∏—Å—ã–≤–∞—é—Ç –æ—Å–Ω–æ–≤–Ω—ã–µ –≥–∞—Ä–∞–Ω—Ç–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ –¥–æ–ª–∂–Ω–∞ –æ–±–µ—Å–ø–µ—á–∏–≤–∞—Ç—å —Å–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–∞–∑–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö (–°–£–ë–î) –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π. –û–Ω–∏ –≤–∫–ª—é—á–∞—é—Ç:

1. **Atomicity (–ê—Ç–æ–º–∞—Ä–Ω–æ—Å—Ç—å)**
  - –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏—è —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞–µ—Ç—Å—è –∫–∞–∫ –µ–¥–∏–Ω–æ–µ —Ü–µ–ª–æ–µ: –ª–∏–±–æ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø–æ–ª–Ω–æ—Å—Ç—å—é, –ª–∏–±–æ –Ω–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤–æ–≤—Å–µ.
  - –ï—Å–ª–∏ –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –æ—à–∏–±–∫–∞, –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –æ—Ç–∫–∞—Ç—ã–≤–∞—é—Ç—Å—è (rollback).

2. **Consistency (–°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å)**
  - –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –¥–æ–ª–∂–Ω–∞ –ø–µ—Ä–µ–≤–æ–¥–∏—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –∏–∑ –æ–¥–Ω–æ–≥–æ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è –≤ –¥—Ä—É–≥–æ–µ.
  - –í—Å–µ –ø—Ä–∞–≤–∏–ª–∞, –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∏ —Å–≤—è–∑–∏ –¥–∞–Ω–Ω—ã—Ö (constraints, triggers) —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è.

3. **Isolation (–ò–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ—Å—Ç—å)**
  - –û–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –Ω–µ –¥–æ–ª–∂–Ω–æ –ø—Ä–∏–≤–æ–¥–∏—Ç—å –∫ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞–º.
  - –†–µ–∑—É–ª—å—Ç–∞—Ç —Ä–∞–±–æ—Ç—ã –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–µ–Ω –∏—Ö –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–º—É –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—é (serializability).

4. **Durability (–ù–∞–¥—ë–∂–Ω–æ—Å—Ç—å/–î–æ–ª–≥–æ–≤–µ—á–Ω–æ—Å—Ç—å)**
  - –ü–æ—Å–ª–µ —Ñ–∏–∫—Å–∞—Ü–∏–∏ (commit) —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö –¥–∞–∂–µ –ø—Ä–∏ —Å–±–æ—è—Ö —Å–∏—Å—Ç–µ–º—ã –∏–ª–∏ –æ—Ç–∫–ª—é—á–µ–Ω–∏–∏ –ø–∏—Ç–∞–Ω–∏—è.

**–ü—Ä–∏–º–µ—Ä:**  
–ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–µ—Ä–µ–≤–æ–¥–∏—Ç –¥–µ–Ω—å–≥–∏ –º–µ–∂–¥—É —Å—á–µ—Ç–∞–º–∏:
- –ê—Ç–æ–º–∞—Ä–Ω–æ—Å—Ç—å –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –¥–µ–Ω—å–≥–∏ —Å–ø–∏—à—É—Ç—Å—è —Å –æ–¥–Ω–æ–≥–æ —Å—á—ë—Ç–∞ –∏ –∑–∞—á–∏—Å–ª—è—Ç—Å—è –Ω–∞ –¥—Ä—É–≥–æ–π, –ª–∏–±–æ –æ–ø–µ—Ä–∞—Ü–∏—è –Ω–µ –ø—Ä–æ–∏–∑–æ–π–¥—ë—Ç –≤–æ–æ–±—â–µ.
- –°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ —Å—É–º–º–∞ –Ω–∞ –æ–±–æ–∏—Ö —Å—á–µ—Ç–∞—Ö –±—É–¥–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å –ø—Ä–∞–≤–∏–ª–∞–º.
- –ò–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ—Å—Ç—å –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ –ø–µ—Ä–µ–≤–æ–¥—ã –Ω–µ ¬´–ø–µ—Ä–µ–ø—É—Ç–∞—é—Ç¬ª –¥–∞–Ω–Ω—ã–µ.
- –ù–∞–¥—ë–∂–Ω–æ—Å—Ç—å –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –ø–µ—Ä–µ–≤–æ–¥–∞ –¥–∞–Ω–Ω—ã–µ –Ω–µ –ø–æ—Ç–µ—Ä—è—é—Ç—Å—è.  

## 17. –ß—Ç–æ —Ç–∞–∫–æ–µ —É—Ä–æ–≤–µ–Ω—å –∏–∑–æ–ª—è—Ü–∏–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ (Transaction Isolation Levels)? –ö–∞–∫–∏–µ –≤–∏–¥—ã –±—ã–≤–∞—é—Ç –∏ –∫–∞–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã –æ–Ω–∏ —Ä–µ—à–∞—é—Ç ?
**–£—Ä–æ–≤–µ–Ω—å –∏–∑–æ–ª—è—Ü–∏–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏** ‚Äî —ç—Ç–æ –ø—Ä–∞–≤–∏–ª–æ, –æ–ø—Ä–µ–¥–µ–ª—è—é—â–µ–µ, –∫–∞–∫ –æ–¥–Ω–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –≤–∏–¥–∏—Ç –¥–∞–Ω–Ω—ã–µ, –∏–∑–º–µ–Ω—è–µ–º—ã–µ –¥—Ä—É–≥–∏–º–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏, –∏ –Ω–∞—Å–∫–æ–ª—å–∫–æ —Å—Ç—Ä–æ–≥–æ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∑–∞—â–∏—â–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –æ—Ç –∫–æ–Ω–∫—É—Ä–∏—Ä—É—é—â–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π.

–°—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω—ã –≤ **SQL (ANSI/ISO SQL-92)**.

### –ü—Ä–æ–±–ª–µ–º—ã, –∫–æ—Ç–æ—Ä—ã–µ —Ä–µ—à–∞–µ—Ç –∏–∑–æ–ª—è—Ü–∏—è
–ü—Ä–∏ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –º–æ–≥—É—Ç –≤–æ–∑–Ω–∏–∫–∞—Ç—å –∞–Ω–æ–º–∞–ª–∏–∏:

1. **Dirty Read (–≥—Ä—è–∑–Ω–æ–µ —á—Ç–µ–Ω–∏–µ)**
  - –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏—è —á–∏—Ç–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ, –∫–æ—Ç–æ—Ä—ã–µ –µ—â—ë –Ω–µ –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω—ã (`COMMIT`).
  - –ï—Å–ª–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è-–∏—Å—Ç–æ—á–Ω–∏–∫ –æ—Ç–∫–∞—Ç–∏—Ç—Å—è, –¥–∞–Ω–Ω—ã–µ –æ–∫–∞–∂—É—Ç—Å—è ¬´–Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏¬ª.

2. **Non-Repeatable Read (–Ω–µ–ø–æ–≤—Ç–æ—Ä—è–µ–º–æ–µ —á—Ç–µ–Ω–∏–µ)**
  - –í –æ–¥–Ω–æ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –¥–≤–∞–∂–¥—ã —á–∏—Ç–∞–µ—Ç—Å—è –æ–¥–Ω–∞ –∏ —Ç–∞ –∂–µ —Å—Ç—Ä–æ–∫–∞, –Ω–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Ä–∞–∑–Ω—ã–π, —Ç–∞–∫ –∫–∞–∫ –¥—Ä—É–≥–∞—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –∏–∑–º–µ–Ω–∏–ª–∞ –¥–∞–Ω–Ω—ã–µ.

3. **Phantom Read (—Ñ–∞–Ω—Ç–æ–º–Ω—ã–µ —á—Ç–µ–Ω–∏—è)**
  - –í –æ–¥–Ω–æ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –∑–∞–ø—Ä–æ—Å –ø–æ —É—Å–ª–æ–≤–∏—é (–Ω–∞–ø—Ä–∏–º–µ—Ä, `WHERE salary > 1000`).
  - –ü—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ –ø–æ—è–≤–ª—è—é—Ç—Å—è –Ω–æ–≤—ã–µ —Å—Ç—Ä–æ–∫–∏ (–≤—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã–µ –¥—Ä—É–≥–æ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–µ–π).

4. **Lost Update (–ø–æ—Ç–µ—Ä—è–Ω–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ)**
  - –î–≤–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ —á–∏—Ç–∞—é—Ç —Å—Ç—Ä–æ–∫—É, –º–µ–Ω—è—é—Ç –µ—ë –∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç.
  - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ–¥–Ω–æ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ ¬´–ø–µ—Ä–µ—Ç–∏—Ä–∞–µ—Ç—Å—è¬ª –¥—Ä—É–≥–æ–π.

### –£—Ä–æ–≤–Ω–∏ –∏–∑–æ–ª—è—Ü–∏–∏

1. **READ UNCOMMITTED**
  - –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –∏–∑–æ–ª—è—Ü–∏—è.
  - –†–∞–∑—Ä–µ—à–µ–Ω—ã *–≥—Ä—è–∑–Ω—ã–µ —á—Ç–µ–Ω–∏—è*.
  - –ë—ã—Å—Ç—Ä–æ, –Ω–æ –Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω–æ.
  - –ü—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è —Ä–µ–¥–∫–æ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏, –≥–¥–µ –¥–æ–ø—É—Å—Ç–∏–º—ã –Ω–µ—Ç–æ—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ).

2. **READ COMMITTED** (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤ PostgreSQL, Oracle, MS SQL)
  - –ó–∞–ø—Ä–µ—â–∞–µ—Ç *–≥—Ä—è–∑–Ω—ã–µ —á—Ç–µ–Ω–∏—è*.
  - –ù–æ –¥–æ–ø—É—Å–∫–∞–µ—Ç *–Ω–µ–ø–æ–≤—Ç–æ—Ä—è–µ–º—ã–µ —á—Ç–µ–Ω–∏—è* –∏ *—Ñ–∞–Ω—Ç–æ–º—ã*.
  - –ë–∞–ª–∞–Ω—Å –º–µ–∂–¥—É –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å—é.

3. **REPEATABLE READ** (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤ MySQL InnoDB)
  - –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –ø—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–º —á—Ç–µ–Ω–∏–∏ —Å—Ç—Ä–æ–∫ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –±—É–¥–µ—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º.
  - –ò—Å–∫–ª—é—á–∞–µ—Ç *–≥—Ä—è–∑–Ω—ã–µ* –∏ *–Ω–µ–ø–æ–≤—Ç–æ—Ä—è–µ–º—ã–µ —á—Ç–µ–Ω–∏—è*.
  - –ù–æ —Ñ–∞–Ω—Ç–æ–º—ã –º–æ–≥—É—Ç –ø–æ—è–≤–ª—è—Ç—å—Å—è (–≤ PostgreSQL —Ä–µ—à–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ MVCC –∏ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏ —Ñ–∞–Ω—Ç–æ–º–æ–≤ –Ω–µ—Ç).

4. **SERIALIZABLE**
  - –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –∏–∑–æ–ª—è—Ü–∏—è.
  - –≠–º—É–ª–∏—Ä—É–µ—Ç –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π.
  - –ò—Å–∫–ª—é—á–∞–µ—Ç –≤—Å–µ –∞–Ω–æ–º–∞–ª–∏–∏ (–≥—Ä—è–∑–Ω—ã–µ, –Ω–µ–ø–æ–≤—Ç–æ—Ä—è–µ–º—ã–µ, —Ñ–∞–Ω—Ç–æ–º—ã).
  - –ù–æ –æ—á–µ–Ω—å –¥–æ—Ä–æ–≥–æ–π –ø–æ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ (–º–Ω–æ–≥–æ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫ –∏–ª–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤).

### –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —É—Ä–æ–≤–Ω–µ–π –∏–∑–æ–ª—è—Ü–∏–∏

| –£—Ä–æ–≤–µ–Ω—å           | Dirty Read | Non-Repeatable Read | Phantom Read | –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å |
|-------------------|------------|---------------------|--------------|--------------------|
| READ UNCOMMITTED  | ‚úî          | ‚úî                   | ‚úî            | –û—á–µ–Ω—å –≤—ã—Å–æ–∫–∞—è      |
| READ COMMITTED    | ‚úò          | ‚úî                   | ‚úî            | –í—ã—Å–æ–∫–∞—è            |
| REPEATABLE READ   | ‚úò          | ‚úò                   | ‚úî*           | –°—Ä–µ–¥–Ω—è—è            |
| SERIALIZABLE      | ‚úò          | ‚úò                   | ‚úò            | –ù–∏–∑–∫–∞—è             |

\* –í PostgreSQL –ø—Ä–∏ `REPEATABLE READ` —Ñ–∞–Ω—Ç–æ–º–æ–≤ –Ω–µ—Ç –∏–∑-–∑–∞ –º–µ—Ö–∞–Ω–∏–∑–º–∞ MVCC.

### –ü–ª—é—Å—ã –∏ –º–∏–Ω—É—Å—ã

- **READ UNCOMMITTED**
  - ‚úÖ –ë—ã—Å—Ç—Ä–µ–µ –≤—Å–µ–≥–æ
  - ‚ùå –ì—Ä—è–∑–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ, —Ä–∏—Å–∫ –æ—à–∏–±–æ–∫

- **READ COMMITTED**
  - ‚úÖ –•–æ—Ä–æ—à–∏–π –±–∞–ª–∞–Ω—Å –¥–ª—è OLTP
  - ‚ùå –í–æ–∑–º–æ–∂–Ω—ã –Ω–µ–ø–æ–≤—Ç–æ—Ä—è–µ–º—ã–µ —á—Ç–µ–Ω–∏—è, —Ñ–∞–Ω—Ç–æ–º—ã

- **REPEATABLE READ**
  - ‚úÖ –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –æ—Ç—á—ë—Ç–Ω–æ—Å—Ç–∏ –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏
  - ‚ùå –ú–æ–∂–µ—Ç –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –±–æ–ª—å—à–µ —Å—Ç—Ä–æ–∫, —á–µ–º –Ω—É–∂–Ω–æ

- **SERIALIZABLE**
  - ‚úÖ –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å
  - ‚ùå –°–∏–ª—å–Ω–æ–µ –ø–∞–¥–µ–Ω–∏–µ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ—Å—Ç–∏, –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏/–∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã

### 6. –ò—Ç–æ–≥
- –£—Ä–æ–≤–Ω–∏ –∏–∑–æ–ª—è—Ü–∏–∏ –Ω—É–∂–Ω—ã –¥–ª—è –≤—ã–±–æ—Ä–∞ –∫–æ–º–ø—Ä–æ–º–∏—Å—Å–∞ –º–µ–∂–¥—É **—Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å—é –¥–∞–Ω–Ω—ã—Ö** –∏ **–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é**.
- –ß–µ–º –≤—ã—à–µ —É—Ä–æ–≤–µ–Ω—å ‚Äî —Ç–µ–º –±–æ–ª—å—à–µ –∑–∞—â–∏—Ç–∞ –æ—Ç –∞–Ω–æ–º–∞–ª–∏–π, –Ω–æ —Ç–µ–º –Ω–∏–∂–µ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ—Å—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π.
- –ù–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ:
  - `READ COMMITTED` ‚Äî —Å—Ç–∞–Ω–¥–∞—Ä—Ç –¥–ª—è OLTP-—Å–∏—Å—Ç–µ–º.
  - `REPEATABLE READ` ‚Äî —Ö–æ—Ä–æ—à –¥–ª—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏.
  - `SERIALIZABLE` ‚Äî —Ä–µ–¥–∫–æ, –∫–æ–≥–¥–∞ –Ω—É–∂–Ω–∞ –∞–±—Å–æ–ª—é—Ç–Ω–∞—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å.

## 18. –û–±—ä—è—Å–Ω–∏—Ç–µ –ª–æ–≥–∏—á–µ—Å–∫—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É PostgreSQL

–õ–æ–≥–∏—á–µ—Å–∫–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ PostgreSQL –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç, –∫–∞–∫ –¥–∞–Ω–Ω—ã–µ –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω—ã –∏ –∫–∞–∫ –∫ –Ω–∏–º –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è –¥–æ—Å—Ç—É–ø –Ω–∞ –∫–æ–Ω—Ü–µ–ø—Ç—É–∞–ª—å–Ω–æ–º —É—Ä–æ–≤–Ω–µ.

**–û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
1. **Cluster** ‚Äî –∫–æ–ª–ª–µ–∫—Ü–∏—è –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö, —É–ø—Ä–∞–≤–ª—è–µ–º—ã—Ö –æ–¥–Ω–∏–º —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–º PostgreSQL.
2. **Database** ‚Äî –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è —Å—Ö–µ–º, —Ç–∞–±–ª–∏—Ü –∏ —Ä–æ–ª–µ–π.
3. **Schema** ‚Äî –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ –∏–º—ë–Ω, –∫–æ—Ç–æ—Ä–æ–µ –≥—Ä—É–ø–ø–∏—Ä—É–µ—Ç –æ–±—ä–µ–∫—Ç—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –∏ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã –∏–º—ë–Ω.
4. **Table** ‚Äî –æ—Å–Ω–æ–≤–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –≤ —Å—Ç—Ä–æ–∫–∞—Ö –∏ —Å—Ç–æ–ª–±—Ü–∞—Ö.
5. **Index** ‚Äî —É—Å–∫–æ—Ä—è–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤ –∑–∞ —Å—á—ë—Ç –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞.
6. **View** ‚Äî –ª–æ–≥–∏—á–µ—Å–∫–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –∑–∞–ø—Ä–æ—Å–∞ (–º–æ–∂–µ—Ç –±—ã—Ç—å –æ–±—ã—á–Ω—ã–º –∏–ª–∏ –º–∞—Ç–µ—Ä–∏–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–º).
7. **Role/User** ‚Äî —É–ø—Ä–∞–≤–ª—è—é—Ç –¥–æ—Å—Ç—É–ø–æ–º –∏ –ø—Ä–∞–≤–∞–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–∞:**
- PostgreSQL –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞.
- –†–∞–∑–±–∏—Ä–∞–µ—Ç (–ø–∞—Ä—Å–∏—Ç) –∑–∞–ø—Ä–æ—Å.
- –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –ø–ª–∞–Ω –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è.
- –ò–∑–≤–ª–µ–∫–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö –ª–æ–≥–∏—á–µ—Å–∫–∏—Ö –æ–±—ä–µ–∫—Ç–æ–≤ (—Ç–∞–±–ª–∏—Ü, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–π –∏ –∏–Ω–¥–µ–∫—Å–æ–≤) –±–µ–∑ –ø—Ä—è–º–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∫ —Ñ–∏–∑–∏—á–µ—Å–∫–∏–º —Ñ–∞–π–ª–∞–º.  

![DB LOGICAL SCHEMA](../images/db-logical-schema.png)

## 19. –û–ø–∏—à–∏ —Ñ–∏–∑–∏—á–µ—Å–∫—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É PostgreSQL

–§–∏–∑–∏—á–µ—Å–∫–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ PostgreSQL –æ–ø–∏—Å—ã–≤–∞–µ—Ç, –∫–∞–∫ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω–∞ –Ω–∞ —É—Ä–æ–≤–Ω–µ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã –∏ –∫–∞–∫ —Ñ–æ–Ω–æ–≤—ã–µ –ø—Ä–æ—Ü–µ—Å—Å—ã —É–ø—Ä–∞–≤–ª—è—é—Ç —Ö—Ä–∞–Ω–µ–Ω–∏–µ–º, –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ–º –∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ–º –¥–∞–Ω–Ω—ã—Ö. –û–Ω–∞ —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ **—Ñ–∞–π–ª–æ–≤ –¥–∞–Ω–Ω—ã—Ö, –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤, —Ñ–æ–Ω–æ–≤—ã—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤, —Å—Ç—Ä—É–∫—Ç—É—Ä –ø–∞–º—è—Ç–∏ –∏ –º–µ—Ö–∞–Ω–∏–∑–º–æ–≤ –∂—É—Ä–Ω–∞–ª–∏—Ä–æ–≤–∞–Ω–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π**.

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã
1. **Data Directory (PGDATA)** ‚Äî –∫–æ—Ä–Ω–µ–≤–∞—è –ø–∞–ø–∫–∞, —Å–æ–¥–µ—Ä–∂–∞—â–∞—è –≤—Å–µ —Ñ–∞–π–ª—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö.
2. **base/** ‚Äî —Ö—Ä–∞–Ω–∏—Ç –ø–æ–¥–∫–∞—Ç–∞–ª–æ–≥–∏ –¥–ª—è –∫–∞–∂–¥–æ–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –≤ –∫–ª–∞—Å—Ç–µ—Ä–µ —Å –æ—Ç–¥–µ–ª—å–Ω—ã–º–∏ —Ñ–∞–π–ª–∞–º–∏ –¥–ª—è —Ç–∞–±–ª–∏—Ü –∏ –∏–Ω–¥–µ–∫—Å–æ–≤.
3. **global/** ‚Äî —Ö—Ä–∞–Ω–∏—Ç –¥–∞–Ω–Ω—ã–µ —É—Ä–æ–≤–Ω—è –∫–ª–∞—Å—Ç–µ—Ä–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Ä–æ–ª–∏ –∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ç–∞–±–ª–∏—á–Ω—ã—Ö –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤).
4. **pg_wal/** ‚Äî —Å–æ–¥–µ—Ä–∂–∏—Ç WAL-—Å–µ–≥–º–µ–Ω—Ç—ã (Write-Ahead Log), —Ñ–∏–∫—Å–∏—Ä—É—é—â–∏–µ –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –¥–æ –∏—Ö –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∫ —Ñ–∞–π–ª–∞–º –¥–∞–Ω–Ω—ã—Ö.
5. **pg_tblspc/** ‚Äî —Å–∏–º–≤–æ–ª—å–Ω—ã–µ —Å—Å—ã–ª–∫–∏ –Ω–∞ —Ç–∞–±–ª–∏—á–Ω—ã–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞, —Å–æ–∑–¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º –≤–Ω–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.
6. **pg_stat/** –∏ **pg_stat_tmp/** ‚Äî —Ö—Ä–∞–Ω—è—Ç —Å–æ–±—Ä–∞–Ω–Ω—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É, –∏—Å–ø–æ–ª—å–∑—É–µ–º—É—é –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–æ–º –∑–∞–ø—Ä–æ—Å–æ–≤.

### –§–æ–Ω–æ–≤—ã–µ –ø—Ä–æ—Ü–µ—Å—Å—ã
PostgreSQL –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –º–æ–¥–µ–ª—å *process-per-connection* (–ø—Ä–æ—Ü–µ—Å—Å –Ω–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ). –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ–æ–Ω–æ–≤—ã–µ –ø—Ä–æ—Ü–µ—Å—Å—ã:

- **Postmaster** ‚Äî –≥–ª–∞–≤–Ω—ã–π —É–ø—Ä–∞–≤–ª—è—é—â–∏–π –ø—Ä–æ—Ü–µ—Å—Å, –∑–∞–ø—É—Å–∫–∞–µ—Ç –∏ —É–ø—Ä–∞–≤–ª—è–µ—Ç –æ—Å—Ç–∞–ª—å–Ω—ã–º–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞–º–∏ —Å–µ—Ä–≤–µ—Ä–∞.
- **Backend Process** ‚Äî –≤—ã–ø–æ–ª–Ω—è–µ—Ç SQL-–∑–∞–ø—Ä–æ—Å—ã –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞.
- **WAL Writer** ‚Äî –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –≤ WAL –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –Ω–∞–¥—ë–∂–Ω–æ—Å—Ç–∏.
- **Background Writer** ‚Äî —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç –∏–∑–º–µ–Ω—ë–Ω–Ω—ã–µ ("–≥—Ä—è–∑–Ω—ã–µ") —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∏–∑ –±—É—Ñ–µ—Ä–∞ –≤ –¥–∏—Å–∫.
- **Checkpointer** ‚Äî –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç –≤—Å–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –Ω–∞ –¥–∏—Å–∫, —Å–æ–∑–¥–∞–≤–∞—è —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω—É—é —Ç–æ—á–∫—É –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è (checkpoint).
- **Autovacuum Launcher & Workers** ‚Äî —É–¥–∞–ª—è—é—Ç "–º–µ—Ä—Ç–≤—ã–µ" –∑–∞–ø–∏—Å–∏ –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å.
- **Archiver** ‚Äî –ø–µ—Ä–µ–Ω–æ—Å–∏—Ç –∑–∞–≤–µ—Ä—à—ë–Ω–Ω—ã–µ WAL-—Å–µ–≥–º–µ–Ω—Ç—ã –≤ –∞—Ä—Ö–∏–≤ (–¥–ª—è high-availability –∏ —Ä–µ–∑–µ—Ä–≤–Ω–æ–≥–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è).

### Write-Ahead Logging (WAL)
1. –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–Ω–∞—á–∞–ª–∞ –∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –≤ WAL, –∞ –∑–∞—Ç–µ–º –≤ —Ñ–∞–π–ª—ã –¥–∞–Ω–Ω—ã—Ö.
2. –û–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç **–Ω–∞–¥—ë–∂–Ω–æ—Å—Ç—å (durability)** –∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –ø–æ—Å–ª–µ —Å–±–æ–µ–≤, –∞ —Ç–∞–∫–∂–µ —Ä–µ–ø–ª–∏–∫–∞—Ü–∏—é.
3. WAL –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è **point-in-time recovery** –∏ **streaming replication**.

### –°—Ç—Ä—É–∫—Ç—É—Ä—ã –ø–∞–º—è—Ç–∏
1. **Shared Buffers** ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π –∫—ç—à —Ç–∞–±–ª–∏—Ü –∏ –∏–Ω–¥–µ–∫—Å–æ–≤, –æ–±—â–∏–π –¥–ª—è –≤—Å–µ—Ö –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π.
2. **WAL Buffers** ‚Äî –≤—Ä–µ–º–µ–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –¥–ª—è –∑–∞–ø–∏—Å–µ–π WAL –ø–µ—Ä–µ–¥ –∏—Ö —Å–±—Ä–æ—Å–æ–º –Ω–∞ –¥–∏—Å–∫.
3. **Work Memory** ‚Äî –≤—ã–¥–µ–ª—è–µ—Ç—Å—è –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π –∑–∞–ø—Ä–æ—Å–∞ (—Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏, —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –∏ —Ç.–¥.).
4. **Maintenance Work Memory** ‚Äî –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Å–ª—É–∂–µ–±–Ω—ã—Ö –∑–∞–¥–∞—á (vacuum, —Å–æ–∑–¥–∞–Ω–∏–µ –∏–Ω–¥–µ–∫—Å–æ–≤).

### –ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö (Data Flow)
1. –ö–ª–∏–µ–Ω—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç SQL-–∑–∞–ø—Ä–æ—Å.
2. Backend-–ø—Ä–æ—Ü–µ—Å—Å –ø–∞—Ä—Å–∏—Ç –∏ –ø–ª–∞–Ω–∏—Ä—É–µ—Ç –∑–∞–ø—Ä–æ—Å.
3. –ó–∞–ø—Ä–æ—Å –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –∏ –¥–∞–Ω–Ω—ã–µ —á–∏—Ç–∞—é—Ç—Å—è –∏–∑ Shared Buffers (–∏–ª–∏ —Å –¥–∏—Å–∫–∞, –µ—Å–ª–∏ –Ω–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω—ã).
4. –û–±–Ω–æ–≤–ª–µ–Ω–∏—è –∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –≤ WAL.
5. Background Writer –∏ Checkpointer —Å–±—Ä–∞—Å—ã–≤–∞—é—Ç –¥–∞–Ω–Ω—ã–µ –Ω–∞ –¥–∏—Å–∫.

## 20. –û–±—ä—è—Å–Ω–∏—Ç–µ MVCC –≤ PostgreSQL

MVCC (Multi-Version Concurrency Control) ‚Äî –º–µ—Ö–∞–Ω–∏–∑–º, –ø–æ–∑–≤–æ–ª—è—é—â–∏–π –Ω–µ—Å–∫–æ–ª—å–∫–∏–º —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ —á–∏—Ç–∞—Ç—å –∏ –∏–∑–º–µ–Ω—è—Ç—å –¥–∞–Ω–Ω—ã–µ –±–µ–∑ –≤–∑–∞–∏–º–Ω–æ–π –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏, –ø—Ä–∏ —ç—Ç–æ–º —Å–æ—Ö—Ä–∞–Ω—è—è –∏–∑–æ–ª—è—Ü–∏—é —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π.  
–í–º–µ—Å—Ç–æ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ —Å—Ç—Ä–æ–∫ –¥–ª—è —á–∏—Ç–∞—Ç–µ–ª–µ–π PostgreSQL —Ö—Ä–∞–Ω–∏—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤–µ—Ä—Å–∏–π —Å—Ç—Ä–æ–∫–∏ –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç "—Å–Ω–∏–º–∫–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π" (snapshots) –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –≤–∏–¥–∏–º–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö.

### –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:
1. –ö–∞–∂–¥–∞—è —Å—Ç—Ä–æ–∫–∞ –∏–º–µ–µ—Ç –¥–≤–∞ —Å–∫—Ä—ã—Ç—ã—Ö —Å–∏—Å—Ç–µ–º–Ω—ã—Ö —Å—Ç–æ–ª–±—Ü–∞:
  - **xmin** ‚Äî ID —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏, —Å–æ–∑–¥–∞–≤—à–µ–π —Å—Ç—Ä–æ–∫—É.
  - **xmax** ‚Äî ID —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏, —É–¥–∞–ª–∏–≤—à–µ–π –∏–ª–∏ –∏–∑–º–µ–Ω–∏–≤—à–µ–π —Å—Ç—Ä–æ–∫—É.
2. –ü—Ä–∏ `UPDATE` PostgreSQL –ø–æ–º–µ—á–∞–µ—Ç —Å—Ç–∞—Ä—É—é –≤–µ—Ä—Å–∏—é —Å—Ç—Ä–æ–∫–∏ –∑–Ω–∞—á–µ–Ω–∏–µ–º `xmax` –∏ –≤—Å—Ç–∞–≤–ª—è–µ—Ç –Ω–æ–≤—É—é —Å—Ç—Ä–æ–∫—É —Å –Ω–æ–≤—ã–º `xmin`.
3. –ü—Ä–∏ `SELECT` –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Ç–µ –≤–µ—Ä—Å–∏–∏ —Å—Ç—Ä–æ–∫, –∫–æ—Ç–æ—Ä—ã–µ –≤–∏–¥–∏–º—ã –≤ —Å–Ω–∏–º–∫–µ —Ç–µ–∫—É—â–µ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏.
4. –°—Ç–∞—Ä—ã–µ –≤–µ—Ä—Å–∏–∏ —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è ¬´–º–µ—Ä—Ç–≤—ã–º–∏ –∫–æ—Ä—Ç–µ–∂–∞–º–∏¬ª (dead tuples) –∏ —É–¥–∞–ª—è—é—Ç—Å—è —Å –ø–æ–º–æ—â—å—é `VACUUM` –∏–ª–∏ `Autovacuum`.

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:
1. –ß–∏—Ç–∞—Ç–µ–ª–∏ –Ω–µ –±–ª–æ–∫–∏—Ä—É—é—Ç –ø–∏—Å–∞—Ç–µ–ª–µ–π –∏ –Ω–∞–æ–±–æ—Ä–æ—Ç.
2. –£–ª—É—á—à–∞–µ—Ç—Å—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ—Å—Ç—å –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≤ —Å–∏—Å—Ç–µ–º–∞—Ö —Å –≤—ã—Å–æ–∫–æ–π –Ω–∞–≥—Ä—É–∑–∫–æ–π.
3. –ë–µ—Å—à–æ–≤–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å WAL –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –ø–æ—Å–ª–µ —Å–±–æ–µ–≤.

### –ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:
1. –¢—Ä–µ–±—É–µ—Ç—Å—è —Ä–µ–≥—É–ª—è—Ä–Ω—ã–π `VACUUM` –¥–ª—è –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏—è –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞.
2. –ú–æ–∂–µ—Ç –≤–æ–∑–Ω–∏–∫–∞—Ç—å ¬´—Ä–∞–∑–±—É—Ö–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü¬ª (table bloat), –µ—Å–ª–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π –º–Ω–æ–≥–æ, –∞ –æ—á–∏—Å—Ç–∫–∞ –∑–∞–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è.

## 21. –ß—Ç–æ —Ç–∞–∫–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ –ø—Ä–∏–º–µ—Ä–µ PostgreSQL?

–ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ ‚Äî –ø—Ä–æ—Ü–µ—Å—Å —É–≤–µ–ª–∏—á–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∏ –ø—Ä–æ–ø—É—Å–∫–Ω–æ–π —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ PostgreSQL, —á—Ç–æ–±—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –±–æ–ª—å—à–µ –¥–∞–Ω–Ω—ã—Ö –∏–ª–∏ –±–æ–ª—å—à–µ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤.

### –û—Å–Ω–æ–≤–Ω—ã–µ –ø–æ–¥—Ö–æ–¥—ã:
1. **Vertical Scaling (–º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ ¬´–≤–≤–µ—Ä—Ö¬ª)**
  - –£–≤–µ–ª–∏—á–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤ –æ–¥–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞: CPU, RAM, –¥–∏—Å–∫–∏.
  - –ü—Ä–æ—Å—Ç–æ–π –ø—É—Ç—å: –æ–±–Ω–æ–≤–∏—Ç—å ¬´–∂–µ–ª–µ–∑–æ¬ª –∏–ª–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ PostgreSQL.
  - –ü—Ä–∏–º–µ—Ä: —É–≤–µ–ª–∏—á–∏—Ç—å `shared_buffers`, –ø–µ—Ä–µ–π—Ç–∏ –Ω–∞ –±–æ–ª–µ–µ –º–æ—â–Ω—ã–π —Å–µ—Ä–≤–µ—Ä.

   **–ü–ª—é—Å—ã:**
  - –õ–µ–≥–∫–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å.
  - –ù–µ —Ç—Ä–µ–±—É–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

   **–ú–∏–Ω—É—Å—ã:**
  - –ï—Å—Ç—å —Ñ–∏–∑–∏—á–µ—Å–∫–∏–π –ø—Ä–µ–¥–µ–ª (–¥–æ—Ä–æ–≥–æ –∏ –Ω–µ –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ).
  - –û–¥–∏–Ω —Å–µ—Ä–≤–µ—Ä –æ—Å—Ç–∞—ë—Ç—Å—è ¬´—É–∑–∫–∏–º –≥–æ—Ä–ª—ã—à–∫–æ–º¬ª.

2. **Horizontal Scaling (–º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ ¬´–≤—à–∏—Ä—å¬ª)**
  - –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Å–µ—Ä–≤–µ—Ä–æ–≤ –¥–ª—è —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –Ω–∞–≥—Ä—É–∑–∫–∏.
  - –í PostgreSQL —Ä–µ–∞–ª–∏–∑—É–µ—Ç—Å—è —á–µ—Ä–µ–∑:
    1. **Read Replicas (Streaming Replication)** ‚Äî —Ä–µ–ø–ª–∏–∫–∏ –¥–ª—è —á—Ç–µ–Ω–∏—è.
    2. **Logical Replication** ‚Äî —Ä–µ–ø–ª–∏–∫–∞—Ü–∏—è –Ω–∞ —É—Ä–æ–≤–Ω–µ —Ç–∞–±–ª–∏—Ü/–∑–∞–ø–∏—Å–µ–π, –º–æ–∂–Ω–æ —á–∞—Å—Ç–∏—á–Ω–æ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ.
    3. **Sharding** ‚Äî —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø–æ —Å–µ—Ä–≤–µ—Ä–∞–º (–Ω–µ—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–∏; –∏—Å–ø–æ–ª—å–∑—É—é—Ç Citus, Yugabyte –∏ –¥—Ä.).
    4. **Pgpool-II / PgBouncer** ‚Äî –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∞ –Ω–∞–≥—Ä—É–∑–∫–∏ –º–µ–∂–¥—É —Å–µ—Ä–≤–µ—Ä–∞–º–∏.

   **–ü–ª—é—Å—ã:**
  - –ù–µ—Ç –∂—ë—Å—Ç–∫–æ–≥–æ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ø–æ –º–æ—â–Ω–æ—Å—Ç–∏.
  - –ú–æ–∂–Ω–æ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞—Ç—å —á—Ç–µ–Ω–∏–µ –∏ —á–∞—Å—Ç–∏—á–Ω–æ –∑–∞–ø–∏—Å—å.

   **–ú–∏–Ω—É—Å—ã:**
  - –ë–æ–ª–µ–µ —Å–ª–æ–∂–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∞.
  - –ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö —Å–ª–æ–∂–Ω–µ–µ –æ–±–µ—Å–ø–µ—á–∏—Ç—å.

### –ß–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –ø–æ–¥—Ö–æ–¥—ã –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ:
1. –î–ª—è **OLTP-—Å–∏—Å—Ç–µ–º**: –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ read replicas.
2. –î–ª—è **OLAP-—Å–∏—Å—Ç–µ–º**: —à–∞—Ä–¥–∏—Ä–æ–≤–∞–Ω–∏–µ, —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–µ –±–∞–∑—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, Citus, Greenplum).  

## 22. –ß—Ç–æ —Ç–∞–∫–æ–µ —à–∞—Ä–¥–∏—Ä–æ–≤–∞–Ω–∏–µ?

–®–∞—Ä–¥–∏—Ä–æ–≤–∞–Ω–∏–µ ‚Äî –º–µ—Ç–æ–¥ **–≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–≥–æ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è**, –ø—Ä–∏ –∫–æ—Ç–æ—Ä–æ–º –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –¥–µ–ª–∏—Ç—Å—è –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ —á–∞—Å—Ç–µ–π (**—à–∞—Ä–¥–æ–≤**). –ö–∞–∂–¥—ã–π —à–∞—Ä–¥ —Ö—Ä–∞–Ω–∏—Ç—Å—è –Ω–∞ –æ—Ç–¥–µ–ª—å–Ω–æ–º —Å–µ—Ä–≤–µ—Ä–µ –∏–ª–∏ —ç–∫–∑–µ–º–ø–ª—è—Ä–µ PostgreSQL.

### –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:
1. –î–∞–Ω–Ω—ã–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è –ø–æ —à–∞—Ä–¥–∞–º –ø–æ –∫–ª—é—á—É —à–∞—Ä–¥–∏—Ä–æ–≤–∞–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, `customer_id`, `region`, –¥–∏–∞–ø–∞–∑–æ–Ω –¥–∞—Ç).
2. –ö–∞–∂–¥—ã–π —à–∞—Ä–¥ ‚Äî —ç—Ç–æ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–∞—è –±–∞–∑–∞ PostgreSQL, —Å–æ–¥–µ—Ä–∂–∞—â–∞—è —Ç–æ–ª—å–∫–æ —á–∞—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö.
3. –õ–æ–≥–∏–∫–∞ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏ –∑–∞–ø—Ä–æ—Å–æ–≤ (–∫–∞–∫–æ–π —à–∞—Ä–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å) –Ω–∞—Ö–æ–¥–∏—Ç—Å—è:
  - –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏,
  - –≤ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω–æ–º –ü–û (middleware),
  - –∏–ª–∏ –≤ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–∏ PostgreSQL (–Ω–∞–ø—Ä–∏–º–µ—Ä, **Citus**).

### –¢–∏–ø—ã —à–∞—Ä–¥–∏—Ä–æ–≤–∞–Ω–∏—è:
1. **Range sharding** ‚Äî —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –ø–æ –¥–∏–∞–ø–∞–∑–æ–Ω–∞–º –∑–Ω–∞—á–µ–Ω–∏–π.
2. **Hash sharding** ‚Äî —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ —Ö—ç—à-—Ñ—É–Ω–∫—Ü–∏–∏:
  - –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —Ä–∞–≤–Ω–æ–º–µ—Ä–Ω–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø–æ —à–∞—Ä–¥–∞–º;
  - –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç ¬´–≥–æ—Ä—è—á–∏–µ —É–∑–ª—ã¬ª (–Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è –∫–ª—é—á–µ–π `user_id`).
  - –û–±—â–∞—è —Å—Ö–µ–º–∞:
    1. –í—ã–±–∏—Ä–∞–µ–º –∫–ª—é—á —à–∞—Ä–¥–∏—Ä–æ–≤–∞–Ω–∏—è (`user_id`, `order_id`, `region_id`).
    2. –°—á–∏—Ç–∞–µ–º —Ö—ç—à (–Ω–∞–ø—Ä–∏–º–µ—Ä, MD5, SHA-1).
    3. –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ–º hex-—Å—Ç—Ä–æ–∫—É —Ö—ç—à–∞ –≤ —á–∏—Å–ª–æ.
    4. –ë–µ—Ä—ë–º –æ—Å—Ç–∞—Ç–æ–∫ –æ—Ç –¥–µ–ª–µ–Ω–∏—è –Ω–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —à–∞—Ä–¥–æ–≤ (`% N`).
    5. –ü–æ–ª—É—á–∞–µ–º –Ω–æ–º–µ—Ä —à–∞—Ä–¥–∞.
3. **Directory-based sharding** ‚Äî –æ—Ç–¥–µ–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞-—Å–ª–æ–≤–∞—Ä—å —Ö—Ä–∞–Ω–∏—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –∫–ª—é—á–∞ –∏ —à–∞—Ä–¥–∞.

### –ü–ª—é—Å—ã:
1. –ü–æ—á—Ç–∏ –Ω–µ–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π —Ä–æ—Å—Ç –¥–∞–Ω–Ω—ã—Ö.
2. –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤ –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —à–∞—Ä–¥–∞—Ö.
3. –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –Ω–∞–≥—Ä—É–∑–∫–∏.

### –ú–∏–Ω—É—Å—ã:
1. –°–ª–æ–∂–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã, –æ—Ö–≤–∞—Ç—ã–≤–∞—é—â–∏–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ —à–∞—Ä–¥–æ–≤.
2. –°–ª–æ–∂–Ω–æ—Å—Ç–∏ –≤ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è—Ö –º–µ–∂–¥—É —à–∞—Ä–¥–∞–º–∏.
3. –ë–æ–ª–µ–µ —Å–ª–æ–∂–Ω–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∞.  

## 23. –ß—Ç–æ —Ç–∞–∫–æ–µ —Ä–µ–ø–ª–∏–∫–∞—Ü–∏—è?

–†–µ–ø–ª–∏–∫–∞—Ü–∏—è ‚Äî —ç—Ç–æ –ø—Ä–æ—Ü–µ—Å—Å **–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö** —Å –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞ (**primary**) –Ω–∞ –æ–¥–∏–Ω –∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–µ–∑–µ—Ä–≤–Ω—ã—Ö —Å–µ—Ä–≤–µ—Ä–æ–≤ (**standby**) –¥–ª—è –ø–æ–≤—ã—à–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏, –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∏ –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç–∏.

### –ü–æ—Ç–æ–∫–æ–≤–∞—è —Ä–µ–ø–ª–∏–∫–∞—Ü–∏—è (Streaming Replication)
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç **WAL (Write-Ahead Log)** –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏.
- –ë—ã–≤–∞–µ—Ç:
  1. **–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è** ‚Äî primary –Ω–µ –∂–¥—ë—Ç –æ—Ç–≤–µ—Ç–∞ standby.
    - –ü–ª—é—Å: –±—ã—Å—Ç—Ä–µ–µ.
    - –ú–∏–Ω—É—Å: –≤–æ–∑–º–æ–∂–Ω–∞ –Ω–µ–±–æ–ª—å—à–∞—è –ø–æ—Ç–µ—Ä—è –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ —Å–±–æ–µ.
  2. **–°–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è** ‚Äî primary –∂–¥—ë—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è standby.
    - –ü–ª—é—Å: –Ω–µ—Ç –ø–æ—Ç–µ—Ä–∏ –¥–∞–Ω–Ω—ã—Ö.
    - –ú–∏–Ω—É—Å: –≤—ã—à–µ –∑–∞–¥–µ—Ä–∂–∫–∞.

### –õ–æ–≥–∏—á–µ—Å–∫–∞—è —Ä–µ–ø–ª–∏–∫–∞—Ü–∏—è (Logical Replication)
1. –ü–µ—Ä–µ–¥–∞—ë—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è –Ω–∞ —É—Ä–æ–≤–Ω–µ —Å—Ç—Ä–æ–∫ –∏ —Ç–∞–±–ª–∏—Ü.
2. –ú–æ–∂–Ω–æ —Ä–µ–ø–ª–∏—Ü–∏—Ä–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ **–æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã**.
3. –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –¥—Ä—É–≥–∏–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏ –∏–ª–∏ —á–∞—Å—Ç–∏—á–Ω–æ–≥–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö.

### –ö–∞—Å–∫–∞–¥–Ω–∞—è —Ä–µ–ø–ª–∏–∫–∞—Ü–∏—è (Cascading Replication)
- –†–µ–ø–ª–∏–∫–∞ –º–æ–∂–µ—Ç —Å–∞–º–∞ –±—ã—Ç—å –∏—Å—Ç–æ—á–Ω–∏–∫–æ–º –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –¥—Ä—É–≥–∏—Ö —Ä–µ–ø–ª–∏–∫.

### –ü–ª—é—Å—ã:
1. –í—ã—Å–æ–∫–∞—è –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å.
2. –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ —á—Ç–µ–Ω–∏—è (–∑–∞–ø—Ä–æ—Å—ã –º–æ–∂–Ω–æ –ø–µ—Ä–µ–Ω–æ—Å–∏—Ç—å –Ω–∞ —Ä–µ–ø–ª–∏–∫–∏).
3. –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏.

### –ú–∏–Ω—É—Å—ã:
1. –ù–µ—Ç –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è –∑–∞–ø–∏—Å–∏ (—Ä–µ–ø–ª–∏–∫–∏ ‚Äî —Ç–æ–ª—å–∫–æ –¥–ª—è —á—Ç–µ–Ω–∏—è).
2. –í —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π —Ä–µ–ø–ª–∏–∫–∞—Ü–∏–∏ ‚Äî –≤—ã—à–µ –∑–∞–¥–µ—Ä–∂–∫–∏.
3. –í –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π —Ä–µ–ø–ª–∏–∫–∞—Ü–∏–∏ ‚Äî —Ä–∏—Å–∫ –ø–æ—Ç–µ—Ä–∏ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π.

## 24. –ß—Ç–æ —Ç–∞–∫–æ–µ –ø–∞—Ä—Ç–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ SQL?

–ü–∞—Ä—Ç–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ ‚Äî —ç—Ç–æ —Ä–∞–∑–±–∏–µ–Ω–∏–µ –æ–¥–Ω–æ–π –±–æ–ª—å—à–æ–π —Ç–∞–±–ª–∏—Ü—ã –Ω–∞ –±–æ–ª–µ–µ –º–µ–ª–∫–∏–µ **–ø–∞—Ä—Ç–∏—Ü–∏–∏** –≤ —Ä–∞–º–∫–∞—Ö **–æ–¥–Ω–æ–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –∏ –æ–¥–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞**.  
–î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —ç—Ç–æ –≤—ã–≥–ª—è–¥–∏—Ç –∫–∞–∫ –æ–¥–Ω–∞ –ª–æ–≥–∏—á–µ—Å–∫–∞—è —Ç–∞–±–ª–∏—Ü–∞, –Ω–æ —Ñ–∏–∑–∏—á–µ—Å–∫–∏ ‚Äî —ç—Ç–æ –Ω–∞–±–æ—Ä –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Ç–∞–±–ª–∏—Ü.

### –¢–∏–ø—ã –ø–∞—Ä—Ç–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –≤ PostgreSQL:
1. **Range** ‚Äî —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –ø–æ –¥–∏–∞–ø–∞–∑–æ–Ω–∞–º –∑–Ω–∞—á–µ–Ω–∏–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø–æ –¥–∞—Ç–∞–º).
2. **List** ‚Äî —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –ø–æ —Å–ø–∏—Å–∫–∞–º –∑–Ω–∞—á–µ–Ω–∏–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø–æ —Ä–µ–≥–∏–æ–Ω–∞–º).
3. **Hash** ‚Äî —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ —Ö—ç—à-—Ñ—É–Ω–∫—Ü–∏–∏.

### –ü–ª—é—Å—ã:
1. –ü–æ–≤—ã—à–µ–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∑–∞ —Å—á—ë—Ç **partition pruning** (—á–∏—Ç–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω–∞—è –ø–∞—Ä—Ç–∏—Ü–∏—è).
2. –£–¥–æ–±—Å—Ç–≤–æ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è (–º–æ–∂–Ω–æ —É–¥–∞–ª—è—Ç—å –∏–ª–∏ –∞—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞—Ç—å —Å—Ç–∞—Ä—ã–µ –ø–∞—Ä—Ç–∏—Ü–∏–∏).
3. –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –±–æ–ª—å—à–∏–º–∏ —Ç–∞–±–ª–∏—Ü–∞–º–∏ –∏ –≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ —Ä—è–¥–∞–º–∏.

### –ú–∏–Ω—É—Å—ã:
1. –í—Å–µ –ø–∞—Ä—Ç–∏—Ü–∏–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –Ω–∞ **–æ–¥–Ω–æ–º —Å–µ—Ä–≤–µ—Ä–µ** ‚Üí –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–æ –µ–≥–æ —Ä–µ—Å—É—Ä—Å–∞–º–∏.
2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –º–æ–≥—É—Ç –±—ã—Ç—å —Å–ª–æ–∂–Ω–µ–µ, —á–µ–º —É –æ–±—ã—á–Ω—ã—Ö —Ç–∞–±–ª–∏—Ü.

### –ö–ª—é—á–µ–≤–æ–µ –æ—Ç–ª–∏—á–∏–µ –æ—Ç –¥—Ä—É–≥–∏—Ö –ø–æ–¥—Ö–æ–¥–æ–≤:
1. **–®–∞—Ä–¥–∏—Ä–æ–≤–∞–Ω–∏–µ** ‚Äî –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ ¬´–≤—à–∏—Ä—å¬ª (–¥–∞–Ω–Ω—ã–µ –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —Å–µ—Ä–≤–µ—Ä–∞—Ö).
2. **–ü–∞—Ä—Ç–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ** ‚Äî –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –≤–Ω—É—Ç—Ä–∏ –æ–¥–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞.
3. **–†–µ–ø–ª–∏–∫–∞—Ü–∏—è** ‚Äî –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç–∏ –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è —á—Ç–µ–Ω–∏—è.  

## 25. –ß—Ç–æ —Ç–∞–∫–æ–µ —Ç—Ä–∏–≥–≥–µ—Ä?

–¢—Ä–∏–≥–≥–µ—Ä ‚Äî —ç—Ç–æ –æ–±—ä–µ–∫—Ç –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö, –∫–æ—Ç–æ—Ä—ã–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–ø–æ–ª–Ω—è–µ—Ç –∑–∞–¥–∞–Ω–Ω—ã–π –±–ª–æ–∫ –∫–æ–¥–∞ (–æ–±—ã—á–Ω–æ –Ω–∞ —è–∑—ã–∫–µ PL/pgSQL) **–ø—Ä–∏ –Ω–∞—Å—Ç—É–ø–ª–µ–Ω–∏–∏ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–≥–æ —Å–æ–±—ã—Ç–∏—è** –≤ —Ç–∞–±–ª–∏—Ü–µ –∏–ª–∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–∏.  
–û–Ω ¬´—Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç¬ª –±–µ–∑ —è–≤–Ω–æ–≥–æ –≤—ã–∑–æ–≤–∞ –∏–∑ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è ‚Äî –ø—Ä–∏ –≤—Å—Ç–∞–≤–∫–µ, –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏, —É–¥–∞–ª–µ–Ω–∏–∏ –∏–ª–∏ –¥—Ä—É–≥–∏—Ö —Å–æ–±—ã—Ç–∏—è—Ö.

### –í–∏–¥—ã —Ç—Ä–∏–≥–≥–µ—Ä–æ–≤ –ø–æ –º–æ–º–µ–Ω—Ç—É –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:
1. **BEFORE** ‚Äî –¥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –æ–ø–µ—Ä–∞—Ü–∏–∏ (–º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –∏–ª–∏ –æ—Ç–º–µ–Ω–∏—Ç—å –¥–µ–π—Å—Ç–≤–∏–µ).
2. **AFTER** ‚Äî –ø–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –æ–ø–µ—Ä–∞—Ü–∏–∏ (–º–æ–∂–Ω–æ –∑–∞–ø–∏—Å–∞—Ç—å –≤ –∂—É—Ä–Ω–∞–ª, –æ–±–Ω–æ–≤–∏—Ç—å –¥—Ä—É–≥–∏–µ —Ç–∞–±–ª–∏—Ü—ã).
3. **INSTEAD OF** ‚Äî –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–π, –∑–∞–º–µ–Ω—è—è –æ–ø–µ—Ä–∞—Ü–∏—é –Ω–∞ —Å–≤–æ—é.

### –¢–∏–ø—ã —Å–æ–±—ã—Ç–∏–π –¥–ª—è —Ç—Ä–∏–≥–≥–µ—Ä–æ–≤:
- **INSERT** ‚Äî –≤—Å—Ç–∞–≤–∫–∞ —Å—Ç—Ä–æ–∫–∏.
- **UPDATE** ‚Äî –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç—Ä–æ–∫–∏.
- **DELETE** ‚Äî —É–¥–∞–ª–µ–Ω–∏–µ —Å—Ç—Ä–æ–∫–∏.
- **TRUNCATE** ‚Äî –æ—á–∏—Å—Ç–∫–∞ —Ç–∞–±–ª–∏—Ü—ã.

### –ü—Ä–∏–º–µ—Ä –≤ PostgreSQL
```sql
‚Äì –§—É–Ω–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä—É—é –±—É–¥–µ—Ç –≤—ã–∑—ã–≤–∞—Ç—å —Ç—Ä–∏–≥–≥–µ—Ä
CREATE OR REPLACE FUNCTION log_update()
RETURNS trigger AS $$
BEGIN
  INSERT INTO audit_log(table_name, operation, changed_at)
  VALUES (TG_TABLE_NAME, TG_OP, NOW());
  RETURN NEW;
END;
$$ LANGUAGE plpgsql;

‚Äì –°–æ–∑–¥–∞—ë–º —Ç—Ä–∏–≥–≥–µ—Ä
CREATE TRIGGER trg_log_update
AFTER UPDATE ON employees
FOR EACH ROW
EXECUTE FUNCTION log_update();
```

–í —ç—Ç–æ–º –ø—Ä–∏–º–µ—Ä–µ:
- **TG_TABLE_NAME** ‚Äî —Å–∏—Å—Ç–µ–º–Ω–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è —Å –∏–º–µ–Ω–µ–º —Ç–∞–±–ª–∏—Ü—ã.
- **TG_OP** ‚Äî —Ç–∏–ø –æ–ø–µ—Ä–∞—Ü–∏–∏ (INSERT, UPDATE, DELETE).

### –ü–ª—é—Å—ã —Ç—Ä–∏–≥–≥–µ—Ä–æ–≤:
1. –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –∑–∞–¥–∞—á (–ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ, –≤–∞–ª–∏–¥–∞—Ü–∏—è, –∫–∞—Å–∫–∞–¥–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è).
2. –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–∞—Ü–∏—è –ª–æ–≥–∏–∫–∏ –Ω–∞ —É—Ä–æ–≤–Ω–µ –ë–î.
3. –ì–∞—Ä–∞–Ω—Ç–∏—è, —á—Ç–æ –ø—Ä–∞–≤–∏–ª–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

### –ú–∏–Ω—É—Å—ã —Ç—Ä–∏–≥–≥–µ—Ä–æ–≤:
1. –°–∫—Ä—ã—Ç–∞—è –ª–æ–≥–∏–∫–∞ (—Ç—Ä—É–¥–Ω–µ–µ –æ—Ç–ª–∞–∂–∏–≤–∞—Ç—å).
2. –ú–æ–∂–µ—Ç –∑–∞–º–µ–¥–ª—è—Ç—å –æ–ø–µ—Ä–∞—Ü–∏–∏ –ø—Ä–∏ —Å–ª–æ–∂–Ω–æ–π –ª–æ–≥–∏–∫–µ.
3. –†–∏—Å–∫ —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ–≥–æ –≤—ã–∑–æ–≤–∞ —Ç—Ä–∏–≥–≥–µ—Ä–æ–≤.  

## 26. –í —á–µ–º —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É —Ç—Ä–∏–≥–≥–µ—Ä–æ–º –∏ –ø—Ä–æ—Ü–µ–¥—É—Ä–æ–π/—Ñ—É–Ω–∫—Ü–∏–µ–π?

### –§—É–Ω–∫—Ü–∏—è –∏–ª–∏ –ø—Ä–æ—Ü–µ–¥—É—Ä–∞
- **–§—É–Ω–∫—Ü–∏—è (FUNCTION)** ‚Äî –æ–±—ä–µ–∫—Ç, –∫–æ—Ç–æ—Ä—ã–π –≤—ã–ø–æ–ª–Ω—è–µ—Ç –∫–æ–¥ –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ.
  - –ú–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –≤ –∑–∞–ø—Ä–æ—Å–∞—Ö, –≤—ã—Ä–∞–∂–µ–Ω–∏—è—Ö, –¥—Ä—É–≥–∏—Ö —Ñ—É–Ω–∫—Ü–∏—è—Ö.
  - –í PostgreSQL –º–æ–∂–µ—Ç –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –ø—Ä–æ—Å—Ç–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∏–ª–∏ —Ç–∞–±–ª–∏—Ü—É (`RETURNS TABLE`).
  - –í—ã–∑—ã–≤–∞–µ—Ç—Å—è —è–≤–Ω–æ:
    ```
    SELECT my_function(123);
    ```
- **–ü—Ä–æ—Ü–µ–¥—É—Ä–∞ (PROCEDURE)** ‚Äî –ø–æ—è–≤–∏–ª–∞—Å—å –≤ PostgreSQL 11.
  - –ù–µ –æ–±—è–∑–∞–Ω–∞ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ.
  - –ú–æ–∂–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–æ–Ω–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã (`COMMIT`, `ROLLBACK`).
  - –í—ã–∑—ã–≤–∞–µ—Ç—Å—è –∫–æ–º–∞–Ω–¥–æ–π:
    ```
    CALL my_procedure(123);
    ```

### –¢—Ä–∏–≥–≥–µ—Ä
  **–¢—Ä–∏–≥–≥–µ—Ä (TRIGGER)** ‚Äî –æ–±—ä–µ–∫—Ç, –∫–æ—Ç–æ—Ä—ã–π **–Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è —è–≤–Ω–æ**, –∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏** –ø—Ä–∏ –Ω–∞—Å—Ç—É–ø–ª–µ–Ω–∏–∏ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–≥–æ —Å–æ–±—ã—Ç–∏—è (`INSERT`, `UPDATE`, `DELETE`, `TRUNCATE`).
  –°–∞–º —Ç—Ä–∏–≥–≥–µ—Ä –∫–æ–¥–∞ –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç, –∞ **—Å—Å—ã–ª–∞–µ—Ç—Å—è –Ω–∞ —Ñ—É–Ω–∫—Ü–∏—é**, –∫–æ—Ç–æ—Ä–∞—è –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø—Ä–∏ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏–∏.
  –í PostgreSQL —Ç—Ä–∏–≥–≥–µ—Ä–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–æ–ª–∂–Ω–∞ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å `NEW` –∏–ª–∏ `OLD` (–¥–ª—è BEFORE-—Ç—Ä–∏–≥–≥–µ—Ä–æ–≤), –ª–∏–±–æ `NULL` (–µ—Å–ª–∏ –æ–ø–µ—Ä–∞—Ü–∏—è –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –æ—Ç–º–µ–Ω–µ–Ω–∞).


### –ö–ª—é—á–µ–≤—ã–µ –æ—Ç–ª–∏—á–∏—è

| –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞     | –§—É–Ω–∫—Ü–∏—è / –ü—Ä–æ—Ü–µ–¥—É—Ä–∞                           | –¢—Ä–∏–≥–≥–µ—Ä                                       |
|--------------------|-----------------------------------------------|-----------------------------------------------|
| **–ö–∞–∫ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è** | –Ø–≤–Ω–æ (`SELECT` –∏–ª–∏ `CALL`)                   | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ —Å–æ–±—ã—Ç–∏–∏                     |
| **–í–æ–∑–≤—Ä–∞—Ç –∑–Ω–∞—á–µ–Ω–∏—è** | –§—É–Ω–∫—Ü–∏—è ‚Äî –¥–∞, –ø—Ä–æ—Ü–µ–¥—É—Ä–∞ ‚Äî –Ω–µ—Ç               | –ó–∞–≤–∏—Å–∏—Ç –æ—Ç —Ç–∏–ø–∞ (`NEW` / `OLD`)               |
| **–ü—Ä–∏–≤—è–∑–∫–∞**       | –ù–µ –ø—Ä–∏–≤—è–∑–∞–Ω—ã –∫ —Ç–∞–±–ª–∏—Ü–µ                       | –ü—Ä–∏–≤—è–∑–∞–Ω—ã –∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Ç–∞–±–ª–∏—Ü–µ –∏–ª–∏ `VIEW`     |
| **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**  | –í—ã—á–∏—Å–ª–µ–Ω–∏—è, –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞, –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –¥–∞–Ω–Ω—ã–º–∏ | –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ, –≤–∞–ª–∏–¥–∞—Ü–∏—è, –∫–∞—Å–∫–∞–¥–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è   |
| **–í–∏–¥–∏–º–æ—Å—Ç—å –ª–æ–≥–∏–∫–∏** | –û—á–µ–≤–∏–¥–Ω–∞ –≤ –∫–æ–¥–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è                  | –ú–æ–∂–µ—Ç –±—ã—Ç—å —Å–∫—Ä—ã—Ç–∞ –≤–Ω—É—Ç—Ä–∏ –ë–î                   |

## 27. –ß—Ç–æ —Ç–∞–∫–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è (views) –∏ –∫–∞–∫–æ–≤—ã –∏—Ö –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞? –ö–∞–∫ –æ–Ω–∏ –º–æ–≥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ OLAP-—Å–∏—Å—Ç–µ–º?

**View** –≤ SQL ‚Äî —ç—Ç–æ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞, –æ—Å–Ω–æ–≤–∞–Ω–Ω–∞—è –Ω–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –∑–∞—Ä–∞–Ω–µ–µ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞.
  –î–∞–Ω–Ω—ã–µ –≤ view –Ω–µ —Ö—Ä–∞–Ω—è—Ç—Å—è (–∫—Ä–æ–º–µ **–º–∞—Ç–µ—Ä–∏–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–π**, –≥–¥–µ –¥–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è).
  –ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –º–æ–≥—É—Ç –æ–±—ä–µ–¥–∏–Ω—è—Ç—å —Ç–∞–±–ª–∏—Ü—ã, —Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å —Å—Ç—Ä–æ–∫–∏ –∏ –≤—ã–¥–∞–≤–∞—Ç—å –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã.

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–π
1. **Simplification** ‚Äî —É–ø—Ä–æ—â–∞—é—Ç —Ä–∞–±–æ—Ç—É, —Å–∫—Ä—ã–≤–∞—è —Å–ª–æ–∂–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –∑–∞ –æ–¥–Ω–∏–º –æ–±—ä–µ–∫—Ç–æ–º.
2. **Security** ‚Äî –º–æ–∂–Ω–æ –≤—ã–¥–∞–≤–∞—Ç—å –¥–æ—Å—Ç—É–ø —Ç–æ–ª—å–∫–æ –∫ –Ω—É–∂–Ω—ã–º –∫–æ–ª–æ–Ω–∫–∞–º/—Å—Ç—Ä–æ–∫–∞–º –±–µ–∑ —Ä–∞—Å–∫—Ä—ã—Ç–∏—è –≤—Å–µ–π —Ç–∞–±–ª–∏—Ü—ã.
3. **Reusability** ‚Äî –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É –º–æ–∂–Ω–æ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ —Ä–∞–∑–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö.
4. **Abstraction** ‚Äî —Å–∫—Ä—ã–≤–∞—é—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –æ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ —Å—Ö–µ–º–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö.
5. **Aggregation** ‚Äî –ø–æ–∑–≤–æ–ª—è—é—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –∑–∞—Ä–∞–Ω–µ–µ –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –¥–ª—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏.

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ OLAP-—Å–∏—Å—Ç–µ–º–∞—Ö
1. –ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–æ–¥–∞–∂–∏ –ø–æ —Ä–µ–≥–∏–æ–Ω–∞–º –∏ –º–µ—Å—è—Ü–∞–º).
2. –†–∞–±–æ—Ç–∞ –≤ –∫–∞—á–µ—Å—Ç–≤–µ **—Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–≥–æ —Å–ª–æ—è** –º–µ–∂–¥—É —Ö—Ä–∞–Ω–∏–ª–∏—â–µ–º –¥–∞–Ω–Ω—ã—Ö –∏ BI-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏.
3. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ **–º–∞—Ç–µ—Ä–∏–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–π** –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –ø—Ä–µ–¥–∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –∏ —É—Å–∫–æ—Ä–µ–Ω–∏—è –æ—Ç—á—ë—Ç–æ–≤.
4. –£–ø—Ä–æ—â–µ–Ω–∏–µ –º–Ω–æ–≥–æ–º–µ—Ä–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ (–∏–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏—è —Å–ª–æ–∂–Ω—ã—Ö `JOIN` –∏ —Ñ–∏–ª—å—Ç—Ä–æ–≤).

### –ü—Ä–∏–º–µ—Ä
```sql
  CREATE VIEW sales_summary AS
  SELECT region, date_trunc(‚Äòmonth‚Äô, sale_date) AS month, SUM(amount) AS total_sales
  FROM sales
  GROUP BY region, date_trunc(‚Äòmonth‚Äô, sale_date);
```
> –¢–∞–∫–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –º–æ–∂–Ω–æ –Ω–∞–ø—Ä—è–º—É—é –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ BI-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–µ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –µ–∂–µ–º–µ—Å—è—á–Ω—ã—Ö —Å–≤–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –±–µ–∑ –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –ø–µ—Ä–µ—Å—á—ë—Ç–∞ –∞–≥—Ä–µ–≥–∞—Ç–æ–≤.  

## 28. –ß—Ç–æ —Ç–∞–∫–æ–µ —ç—Å–∫–∞–ª–∞—Ü–∏—è –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫ (lock escalation)?

–≠—Å–∫–∞–ª–∞—Ü–∏—è –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫ ‚Äî —ç—Ç–æ –ø—Ä–æ—Ü–µ—Å—Å, –ø—Ä–∏ –∫–æ—Ç–æ—Ä–æ–º –°–£–ë–î –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–º–µ–Ω—è–µ—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–æ –º–µ–ª–∫–∏—Ö –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫ –Ω–∞ –æ–¥–Ω—É –±–æ–ª–µ–µ –∫—Ä—É–ø–Ω—É—é.

### –ó–∞—á–µ–º —ç—Ç–æ –¥–µ–ª–∞–µ—Ç—Å—è:
1. –ß—Ç–æ–±—ã —Å–æ–∫—Ä–∞—Ç–∏—Ç—å —Ä–µ—Å—É—Ä—Å—ã, –∑–∞—Ç—Ä–∞—á–∏–≤–∞–µ–º—ã–µ –Ω–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞–º–∏.
2. –ß—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –ø—Ä–µ–≤—ã—à–µ–Ω–∏—è –ª–∏–º–∏—Ç–∞ –Ω–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫.

### –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:
- –ï—Å–ª–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –±–ª–æ–∫–∏—Ä—É–µ—Ç —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ —Å—Ç—Ä–æ–∫ –∏–ª–∏ —Å—Ç—Ä–∞–Ω–∏—Ü, –°–£–ë–î –º–æ–∂–µ—Ç ¬´–ø–æ–≤—ã—Å–∏—Ç—å¬ª —É—Ä–æ–≤–µ–Ω—å –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏:
  - –≤–º–µ—Å—Ç–æ –º–Ω–æ–∂–µ—Å—Ç–≤–∞ **row-level locks** (—É—Ä–æ–≤–µ–Ω—å —Å—Ç—Ä–æ–∫) ‚Üí –æ–¥–Ω–∞ **table-level lock** (—É—Ä–æ–≤–µ–Ω—å —Ç–∞–±–ª–∏—Ü—ã).

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
1. –°–£–ë–î —É–ø—Ä–∞–≤–ª—è–µ—Ç –º–µ–Ω—å—à–∏–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫ ‚Üí –º–µ–Ω—å—à–µ –∑–∞—Ç—Ä–∞—Ç –ø–∞–º—è—Ç–∏ –∏ CPU.
2. –ù–æ —Å–Ω–∏–∂–∞–µ—Ç—Å—è –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º ‚Äî –¥—Ä—É–≥–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –Ω–µ —Å–º–æ–≥—É—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å —Ç–∞–±–ª–∏—Ü–µ–π.

### –≠—Å–∫–∞–ª–∞—Ü–∏—è –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫ –≤ PostgreSQL
- –í PostgreSQL **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π** —ç—Å–∫–∞–ª–∞—Ü–∏–∏ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫ **–Ω–µ—Ç** (–≤ –æ—Ç–ª–∏—á–∏–µ –æ—Ç, –Ω–∞–ø—Ä–∏–º–µ—Ä, MS SQL Server).
- –û–¥–Ω–∞–∫–æ –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã–π —ç—Ñ—Ñ–µ–∫—Ç –º–æ–∂–µ—Ç –≤–æ–∑–Ω–∏–∫–Ω—É—Ç—å, –µ—Å–ª–∏ –≤—Ä—É—á–Ω—É—é –≤–∑—è—Ç—å –±–ª–æ–∫–∏—Ä–æ–≤–∫—É –±–æ–ª–µ–µ –≤—ã—Å–æ–∫–æ–≥–æ —É—Ä–æ–≤–Ω—è:
```sql
    LOCK TABLE employees IN EXCLUSIVE MODE;
```
- –¢–∞–∫–∂–µ –ø—Ä–∏ –¥–æ–ª–≥–∏—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è—Ö —Å –º–Ω–æ–∂–µ—Å—Ç–≤–æ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π –º–æ–∂–µ—Ç –≤–æ–∑–Ω–∏–∫–Ω—É—Ç—å –∫–æ–Ω–∫—É—Ä–µ–Ω—Ü–∏—è –∑–∞ –¥–æ—Å—Ç—É–ø ‚Üí –¥—Ä—É–≥–∏–µ —Å–µ—Å—Å–∏–∏ –±—É–¥—É—Ç –∂–¥–∞—Ç—å.

### –í –¥—Ä—É–≥–∏—Ö –°–£–ë–î
1. **SQL Server** ‚Äî lock escalation –º–æ–∂–µ—Ç –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç—å —Å —É—Ä–æ–≤–Ω—è row/page –¥–æ table.
2. **Oracle** ‚Äî –±–æ–ª–µ–µ –≥–∏–±–∫–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è, —ç—Å–∫–∞–ª–∞—Ü–∏—è –Ω–µ –≤—Å–µ–≥–¥–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è.
3. –û—Å–Ω–æ–≤–Ω–∞—è –ø—Ä–∏—á–∏–Ω–∞ ‚Äî –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø–∞–º—è—Ç–∏ –≤ lock manager.

### –ü–ª—é—Å—ã:
1. –ú–µ–Ω—å—à–µ –Ω–∞–∫–ª–∞–¥–Ω—ã—Ö —Ä–∞—Å—Ö–æ–¥–æ–≤ –Ω–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞–º–∏.
2. –°–Ω–∏–∂–µ–Ω–∏–µ –Ω–∞–≥—Ä—É–∑–∫–∏ –Ω–∞ lock manager.

### –ú–∏–Ω—É—Å—ã:
1. –†–µ–∑–∫–æ–µ –ø–∞–¥–µ–Ω–∏–µ –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º–∞.
2. –†–∏—Å–∫ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –≤—Å–µ–π —Ç–∞–±–ª–∏—Ü—ã –∏–∑-–∑–∞ –æ–¥–Ω–æ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏.

## 29. –ß—Ç–æ —Ç–∞–∫–æ–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è (constraints) –≤ SQL?

Constraint ‚Äî —ç—Ç–æ –ø—Ä–∞–≤–∏–ª–æ –Ω–∞ —É—Ä–æ–≤–Ω–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö, –∫–æ—Ç–æ—Ä–æ–µ **–æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç –¥–æ–ø—É—Å—Ç–∏–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –≤ –∫–æ–ª–æ–Ω–∫–∞—Ö –∏–ª–∏ —Ç–∞–±–ª–∏—Ü–∞—Ö**, —á—Ç–æ–±—ã –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å –∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö.

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ç–∏–ø—ã –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π –≤ SQL:
1. **PRIMARY KEY**
  - –£–Ω–∏–∫–∞–ª—å–Ω–æ –∏–¥–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä—É–µ—Ç –∫–∞–∂–¥—É—é —Å—Ç—Ä–æ–∫—É.
  - –ù–µ –¥–æ–ø—É—Å–∫–∞–µ—Ç `NULL`.
  - –ú–æ–∂–µ—Ç –±—ã—Ç—å —Å–æ—Å—Ç–∞–≤–Ω—ã–º (–Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–æ–ª–æ–Ω–æ–∫).

2. **FOREIGN KEY**
  - –°—Å—ã–ª–∞–µ—Ç—Å—è –Ω–∞ –∫–ª—é—á –≤ –¥—Ä—É–≥–æ–π —Ç–∞–±–ª–∏—Ü–µ.
  - –û–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —Å—Å—ã–ª–æ—á–Ω—É—é —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å (referential integrity).
  - –ú–æ–∂–Ω–æ –∑–∞–¥–∞—Ç—å –¥–µ–π—Å—Ç–≤–∏—è –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏/–æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏:
    - `ON DELETE CASCADE`
    - `SET NULL`
    - `RESTRICT`

3. **UNIQUE**
  - –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å –∑–Ω–∞—á–µ–Ω–∏–π –≤ –∫–æ–ª–æ–Ω–∫–µ (–∏–ª–∏ –Ω–∞–±–æ—Ä–µ –∫–æ–ª–æ–Ω–æ–∫).
  - –ú–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å `NULL` (–≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –°–£–ë–î).

4. **NOT NULL**
  - –ó–∞–ø—Ä–µ—â–∞–µ—Ç —Ö—Ä–∞–Ω–∏—Ç—å `NULL` –≤ –∫–æ–ª–æ–Ω–∫–µ.

5. **CHECK**
  - –ü–æ–∑–≤–æ–ª—è–µ—Ç –∑–∞–¥–∞—Ç—å –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω–æ–µ —É—Å–ª–æ–≤–∏–µ.  
```sql
    CHECK (salary > 0)
```
6. **EXCLUDE** (—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω–æ –¥–ª—è PostgreSQL)
- –ó–∞–ø—Ä–µ—â–∞–µ—Ç –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–≥–æ —É—Å–ª–æ–≤–∏—è –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Å—Ç—Ä–æ–∫.
- –ü–æ–ª–µ–∑–Ω–æ –¥–ª—è –≥–µ–æ–¥–∞–Ω–Ω—ã—Ö –∏ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–≤.

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è constraints:
1. –ì–∞—Ä–∞–Ω—Ç–∏—è –∫–∞—á–µ—Å—Ç–≤–∞ –¥–∞–Ω–Ω—ã—Ö ‚Äî –¥–∞–∂–µ –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏.
2. –¶–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö –Ω–∞ —É—Ä–æ–≤–Ω–µ –ë–î.
3. –£–ø—Ä–æ—â–µ–Ω–∏–µ –ª–æ–≥–∏–∫–∏ ‚Äî —á–∞—Å—Ç—å –ø—Ä–æ–≤–µ—Ä–æ–∫ –ø–µ—Ä–µ–Ω–æ—Å–∏—Ç—Å—è —Å –∫–æ–¥–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤ –±–∞–∑—É.

### –ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:
1. –ß—Ä–µ–∑–º–µ—Ä–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–ª–æ–∂–Ω—ã—Ö –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π –º–æ–∂–µ—Ç –∑–∞–º–µ–¥–ª—è—Ç—å –≤—Å—Ç–∞–≤–∫—É –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö.
2. –ù–µ –≤—Å–µ–≥–¥–∞ –≥–∏–±–∫–æ –¥–ª—è —Å–ª–æ–∂–Ω–æ–π –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏ (—á–∞—Å—Ç—å –ø—Ä–∞–≤–∏–ª –ø—Ä–æ—â–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏).  

## 30. –ö–∞–∫–∏–µ –≤–∏–¥—ã –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫ –±—ã–≤–∞—é—Ç?

### –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –Ω–∞ —É—Ä–æ–≤–Ω–µ —Å—Ç—Ä–æ–∫ (Row-level locks)
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞—é—Ç –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –æ–¥–Ω–æ–π –∏ —Ç–æ–π –∂–µ —Å—Ç—Ä–æ–∫–∏ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏.
- **–ü—Ä–∏–º–µ—Ä—ã –∫–æ–º–∞–Ω–¥:**
  1. `SELECT ... FOR UPDATE` ‚Äî –±–ª–æ–∫–∏—Ä—É–µ—Ç –≤—ã–±—Ä–∞–Ω–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏ –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è.
  2. `SELECT ... FOR SHARE` ‚Äî –±–ª–æ–∫–∏—Ä—É–µ—Ç —Å—Ç—Ä–æ–∫–∏ –¥–ª—è —á—Ç–µ–Ω–∏—è —Å –∑–∞–ø—Ä–µ—Ç–æ–º –∏–∑–º–µ–Ω–µ–Ω–∏—è.
- **–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:**
  - –ü–æ–∑–≤–æ–ª—è—é—Ç –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—É—é —Ä–∞–±–æ—Ç—É —Å –¥—Ä—É–≥–∏–º–∏ —Å—Ç—Ä–æ–∫–∞–º–∏ –≤ —Ç–∞–±–ª–∏—Ü–µ.
  - –ó–∞–ø–∏—Å–∏ –±–ª–æ–∫–∏—Ä—É—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ –º–æ–º–µ–Ω—Ç –∏—Ö –≤—ã–±–æ—Ä–∞.
- **–ü–ª—é—Å—ã:** –º–∏–Ω–∏–º–∏–∑–∞—Ü–∏—è –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞ –º–µ–∂–¥—É —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏.
- **–ú–∏–Ω—É—Å—ã:** –ø—Ä–∏ –º–∞—Å—Å–æ–≤—ã—Ö –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞—Ö –≤–æ–∑–º–æ–∂–Ω–∞ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ü–∏—è –∑–∞ –¥–æ—Å—Ç—É–ø  
  (–≤ PostgreSQL –Ω–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —ç—Å–∫–∞–ª–∞—Ü–∏–∏ –¥–æ table-level lock).

### –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –Ω–∞ —É—Ä–æ–≤–Ω–µ —Ç–∞–±–ª–∏—Ü—ã (Table-level locks)
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –±–ª–æ–∫–∏—Ä—É—é—Ç –≤—Å—é —Ç–∞–±–ª–∏—Ü—É –∏–ª–∏ –Ω–∞–∫–ª–∞–¥—ã–≤–∞—é—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –Ω–∞ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è.
- **–ü—Ä–∏–º–µ—Ä—ã –∫–æ–º–∞–Ω–¥:**
  1. `LOCK TABLE table_name IN ACCESS EXCLUSIVE MODE;` ‚Äî –ø–æ–ª–Ω–∞—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –¥–ª—è –ª—é–±—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π.
  2. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –ø—Ä–∏ DDL-–æ–ø–µ—Ä–∞—Ü–∏—è—Ö (`ALTER TABLE`, `DROP TABLE`).
- **–†–µ–∂–∏–º—ã –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫:**
  - –û—Ç `ACCESS SHARE` (–º–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ, —Ä–∞–∑—Ä–µ—à–µ–Ω–æ —Ç–æ–ª—å–∫–æ —á–∏—Ç–∞—Ç—å).
  - –î–æ `ACCESS EXCLUSIVE` (–ø–æ–ª–Ω—ã–π –∑–∞–ø—Ä–µ—Ç –Ω–∞ —á—Ç–µ–Ω–∏–µ/–∑–∞–ø–∏—Å—å –¥—Ä—É–≥–∏–º–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏).
- **–ü–ª—é—Å—ã:** —É–ø—Ä–æ—â–∞–µ—Ç –∫–æ–Ω—Ç—Ä–æ–ª—å —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏ –ø—Ä–∏ –º–∞—Å—Å–æ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏—è—Ö.
- **–ú–∏–Ω—É—Å—ã:** –º–æ–∂–µ—Ç —Å–µ—Ä—å—ë–∑–Ω–æ —Å–Ω–∏–∑–∏—Ç—å –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º.

### Advisory Locks (—Å–æ–≤–µ—Ç—É—é—â–∏–µ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏)
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏, —É–ø—Ä–∞–≤–ª—è–µ–º—ã–µ –≤—Ä—É—á–Ω—É—é –∏–∑ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –Ω–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –≤ PostgreSQL.
- **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
  1. –ù–µ —Å–≤—è–∑–∞–Ω—ã —Å –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Å—Ç—Ä–æ–∫–æ–π –∏–ª–∏ —Ç–∞–±–ª–∏—Ü–µ–π.
  2. –ú–æ–≥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –º–µ–∂–¥—É –ø—Ä–æ—Ü–µ—Å—Å–∞–º–∏/–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º–∏.
- **–ü—Ä–∏–º–µ—Ä—ã –∫–æ–º–∞–Ω–¥:**
  1. `pg_advisory_lock(key)` ‚Äî –∑–∞—Ö–≤–∞—Ç –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ —Å –∑–∞–¥–∞–Ω–Ω—ã–º —á–∏—Å–ª–æ–≤—ã–º –∫–ª—é—á–æ–º.
  2. `pg_try_advisory_lock(key)` ‚Äî –ø–æ–ø—ã—Ç–∫–∞ –∑–∞—Ö–≤–∞—Ç–∏—Ç—å –±–ª–æ–∫–∏—Ä–æ–≤–∫—É –±–µ–∑ –æ–∂–∏–¥–∞–Ω–∏—è.
  3. `pg_advisory_unlock(key)` ‚Äî –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏.
- **–ü–ª—é—Å—ã:** –≥–∏–±–∫–∏–π –∫–æ–Ω—Ç—Ä–æ–ª—å –∑–∞ –ª–æ–≥–∏–∫–æ–π –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫, –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å—Ç—Ä–æ–∏—Ç—å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ –º–µ—Ö–∞–Ω–∏–∑–º—ã —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏.
- **–ú–∏–Ω—É—Å—ã:** —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ —Å–∞–º –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –∑–∞—Ö–≤–∞—Ç –∏ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ. 

## 31. –ß—Ç–æ —Ç–∞–∫–æ–µ –≤–∑–∞–∏–º–Ω–∞—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ (deadlock)?

Deadlock –≤–æ–∑–Ω–∏–∫–∞–µ—Ç, –∫–æ–≥–¥–∞ –¥–≤–∞ –ø—Ä–æ—Ü–µ—Å—Å–∞ –æ–∂–∏–¥–∞—é—Ç –¥—Ä—É–≥ –¥—Ä—É–≥–∞, —É–¥–µ—Ä–∂–∏–≤–∞—è –ø—Ä–∏ —ç—Ç–æ–º –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏, –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–ª—è –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏—è —Ä–∞–±–æ—Ç—ã.  
–ù–∞–ø—Ä–∏–º–µ—Ä:
- –ü—Ä–æ—Ü–µ—Å—Å 1 –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–ª —Å—Ç—Ä–æ–∫—É A –∏ –∂–¥—ë—Ç —Å—Ç—Ä–æ–∫—É B.
- –ü—Ä–æ—Ü–µ—Å—Å 2 –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–ª —Å—Ç—Ä–æ–∫—É B –∏ –∂–¥—ë—Ç —Å—Ç—Ä–æ–∫—É A ‚Üí –û–±–∞ –ø—Ä–æ—Ü–µ—Å—Å–∞ –Ω–µ –º–æ–≥—É—Ç –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ.

–í –ë–î —ç—Ç–æ —á–∞—Å—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∏–∑-–∑–∞ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –ø–æ—Ä—è–¥–∫–∞ –∑–∞—Ö–≤–∞—Ç–∞ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫ –∏–ª–∏ –¥–æ–ª–≥–∏—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π.  
–ë–ª–æ–∫–∏—Ä–æ–≤–∫–∏ —Å–Ω–∏–º–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ `COMMIT`/`ROLLBACK` –∏–ª–∏ –µ—Å–ª–∏ –æ–¥–∏–Ω –∏–∑ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –∑–∞–≤–µ—Ä—à—ë–Ω –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ.

### Deadlock –≤ PostgreSQL
- PostgreSQL **—Å–∞–º –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞–µ—Ç** –≤–∑–∞–∏–º–Ω—ã–µ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏.
- –ß—Ç–æ–±—ã –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏—Ç—å –∑–∞–≤–∏—Å–∞–Ω–∏–µ:
  1. –û–¥–Ω–∞ –∏–∑ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π **–ø—Ä–µ—Ä—ã–≤–∞–µ—Ç—Å—è**.
  2. –î—Ä—É–≥–∞—è –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ.
  3. –°–æ–æ–±—â–µ–Ω–∏–µ *`deadlock detected`* –ø–æ—è–≤–ª—è–µ—Ç—Å—è, –µ—Å–ª–∏ PostgreSQL –Ω–∞—Ö–æ–¥–∏—Ç —Ü–∏–∫–ª–∏—á–µ—Å–∫—É—é –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å.

### –û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã deadlock:
1. –†–∞–∑–Ω—ã–π –ø–æ—Ä—è–¥–æ–∫ –¥–æ—Å—Ç—É–ø–∞ –∫ —Ä–µ—Å—É—Ä—Å–∞–º –≤ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è—Ö.
2. –î–æ–ª–≥–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏, —É–¥–µ—Ä–∂–∏–≤–∞—é—â–∏–µ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ —Å–ª–∏—à–∫–æ–º –¥–æ–ª–≥–æ.
3. –ú–∞—Å—Å–æ–≤—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è/—É–¥–∞–ª–µ–Ω–∏—è –≤ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ç–∞–±–ª–∏—Ü–∞—Ö –±–µ–∑ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ–≥–æ –ø–æ—Ä—è–¥–∫–∞.

### –ò—Ç–æ–≥:
Deadlock ‚Äî —ç—Ç–æ –æ—à–∏–±–∫–∞ –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏–ª–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏, –∏ –µ–≥–æ –Ω—É–∂–Ω–æ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞—Ç—å —Å –ø–æ–º–æ—â—å—é:
- —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ–≥–æ –ø–æ—Ä—è–¥–∫–∞ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫;
- –º–∏–Ω–∏–º–∏–∑–∞—Ü–∏–∏ –≤—Ä–µ–º–µ–Ω–∏ —É–¥–µ—Ä–∂–∞–Ω–∏—è –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫;
- —Ä–∞–∑–±–∏–µ–Ω–∏—è –¥–æ–ª–≥–∏—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –Ω–∞ –±–æ–ª–µ–µ –∫–æ—Ä–æ—Ç–∫–∏–µ.  

## 32. –ß—Ç–æ —Ç–∞–∫–æ–µ —Ä–æ–ª–∏ (roles)?

–†–æ–ª–∏ ‚Äî —ç—Ç–æ –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–µ –≥—Ä—É–ø–ø—ã –ø—Ä–∏–≤–∏–ª–µ–≥–∏–π, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –Ω–∞–∑–Ω–∞—á–∞—Ç—å—Å—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –∏–ª–∏ –¥—Ä—É–≥–∏–º —Ä–æ–ª—è–º.

### –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —Ä–æ–ª–µ–π:
1. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–æ–º –∫ –æ–±—ä–µ–∫—Ç–∞–º –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (—Ç–∞–±–ª–∏—Ü–∞–º, —Å—Ö–µ–º–∞–º, —Ñ—É–Ω–∫—Ü–∏—è–º).
2. –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞: –≤–º–µ—Å—Ç–æ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è –ø—Ä–∞–≤ –∫–∞–∂–¥–æ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –æ—Ç–¥–µ–ª—å–Ω–æ, –º–æ–∂–Ω–æ –æ–±—ä–µ–¥–∏–Ω—è—Ç—å –∏—Ö –≤ —Ä–æ–ª–∏.
3. –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å–æ–∑–¥–∞–Ω–∏—è –∏–µ—Ä–∞—Ä—Ö–∏–π: —Ä–æ–ª—å –º–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –¥—Ä—É–≥–∏–µ —Ä–æ–ª–∏.

### –¢–∏–ø–∏—á–Ω—ã–µ —Ä–æ–ª–∏ –≤ PostgreSQL:
- **LOGIN ROLE (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å)** ‚Äî —Ä–æ–ª—å, –∫–æ—Ç–æ—Ä–æ–π –º–æ–∂–Ω–æ –≤–æ–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É.
- **GROUP ROLE (–≥—Ä—É–ø–ø–∞)** ‚Äî —Ä–æ–ª—å, –∫–æ—Ç–æ—Ä–∞—è –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç –ø—Ä–∞–≤–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.

### –ü—Ä–∏–º–µ—Ä—ã:
```sql
    --–°–æ–∑–¥–∞–Ω–∏–µ —Ä–æ–ª–∏:
    CREATE ROLE analyst;
    --–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ —Ä–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é: 
    GRANT analyst TO user1; 
    --–°–æ–∑–¥–∞–Ω–∏–µ —Ä–æ–ª–∏ —Å –ø—Ä–∞–≤–∞–º–∏ –≤—Ö–æ–¥–∞:
    CREATE ROLE app_user LOGIN PASSWORD ‚Äòsecret‚Äô;
```

## 33. –ß—Ç–æ —Ç–∞–∫–æ–µ –æ–∫–æ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –≤ SQL –∏ –∑–∞—á–µ–º –æ–Ω–∏ –Ω—É–∂–Ω—ã?

**–û–∫–æ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ (window functions)** ‚Äî —ç—Ç–æ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ SQL, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã–ø–æ–ª–Ω—è—é—Ç –≤—ã—á–∏—Å–ª–µ–Ω–∏—è **–Ω–∞–¥ –Ω–∞–±–æ—Ä–æ–º —Å—Ç—Ä–æ–∫ (–æ–∫–Ω–æ–º)**, —Å–æ—Ö—Ä–∞–Ω—è—è –ø—Ä–∏ —ç—Ç–æ–º –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—é –∫–∞–∂–¥–æ–π —Å—Ç—Ä–æ–∫–∏.

–û—Ç–ª–∏—á–∏–µ –æ—Ç –∞–≥—Ä–µ–≥–∞—Ç–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π:
- –∞–≥—Ä–µ–≥–∞—Ç—ã (`SUM`, `AVG` –∏ –¥—Ä.) **—Å–≤–æ—Ä–∞—á–∏–≤–∞—é—Ç —Å—Ç—Ä–æ–∫–∏** –≤ –æ–¥–∏–Ω —Ä–µ–∑—É–ª—å—Ç–∞—Ç,
- –æ–∫–æ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ **—Å–æ—Ö—Ä–∞–Ω—è—é—Ç –∫–∞–∂–¥—É—é —Å—Ç—Ä–æ–∫—É** –∏ –¥–æ–±–∞–≤–ª—è—é—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ –≤—ã—á–∏—Å–ª–µ–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ.

### –ó–∞—á–µ–º –Ω—É–∂–Ω—ã –æ–∫–æ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏?
–û–Ω–∏ –ø–æ–∑–≤–æ–ª—è—é—Ç —Ä–µ—à–∞—Ç—å –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞—á–∏, –∫–æ—Ç–æ—Ä—ã–µ —Å–ª–æ–∂–Ω–æ –≤—ã—Ä–∞–∑–∏—Ç—å —Å –ø–æ–º–æ—â—å—é –æ–±—ã—á–Ω—ã—Ö –∞–≥—Ä–µ–≥–∞—Ç–æ–≤ –∏–ª–∏ –ø–æ–¥–∑–∞–ø—Ä–æ—Å–æ–≤:
- —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–π —Å—Ç—Ä–æ–∫–∏ —Å –¥—Ä—É–≥–∏–º–∏ (–ø—Ä–µ–¥—ã–¥—É—â–∞—è/—Å–ª–µ–¥—É—é—â–∞—è –∑–∞–ø–∏—Å—å);
- –Ω—É–º–µ—Ä–∞—Ü–∏—è —Å—Ç—Ä–æ–∫ –∏ —Ä–∞–Ω–∂–∏—Ä–æ–≤–∞–Ω–∏–µ;
- –∫—É–º—É–ª—è—Ç–∏–≤–Ω—ã–µ —Å—É–º–º—ã –∏ —Å–∫–æ–ª—å–∑—è—â–∏–µ —Å—Ä–µ–¥–Ω–∏–µ;
- –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ –ø—Ä–æ—Ü–µ–Ω—Ç–æ–≤ –∏ –¥–æ–ª–µ–π;
- —É–ø—Ä–æ—â–µ–Ω–∏–µ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –æ—Ç—á—ë—Ç–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, ¬´—Ç–æ–ø N –ø–æ –∫–∞–∂–¥–æ–π –≥—Ä—É–ø–ø–µ¬ª).

### –°–∏–Ω—Ç–∞–∫—Å–∏—Å
```sql
  <function>() OVER (
      PARTITION BY <—Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ>
      ORDER BY <—Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞>
      ROWS|RANGE <–æ–∫–Ω–æ>
  )
```
- PARTITION BY ‚Äî –¥–µ–ª–∏—Ç —Å—Ç—Ä–æ–∫–∏ –Ω–∞ –≥—Ä—É–ø–ø—ã (–∫–∞–∫ GROUP BY, –Ω–æ –±–µ–∑ –∞–≥—Ä–µ–≥–∞—Ü–∏–∏).
- ORDER BY ‚Äî –ø–æ—Ä—è–¥–æ–∫ —Å—Ç—Ä–æ–∫ –≤ –æ–∫–Ω–µ.
- ROWS / RANGE ‚Äî —Ä–∞–º–∫–∏ –æ–∫–Ω–∞ (—Ç–µ–∫—É—â–∞—è, –ø—Ä–µ–¥—ã–¥—É—â–∏–µ, –≤—Å–µ –¥–æ —Ç–µ–∫—É—â–µ–π –∏ —Ç.–ø.).

### –ü—Ä–∏–º–µ—Ä—ã
1. –ù—É–º–µ—Ä–∞—Ü–∏—è —Å—Ç—Ä–æ–∫
```sql
  SELECT
    employee_id,
    department,
    ROW_NUMBER() OVER (PARTITION BY department ORDER BY salary DESC) AS rank_in_dept
  FROM employees;
```

2. –ö—É–º—É–ª—è—Ç–∏–≤–Ω–∞—è —Å—É–º–º–∞
```sql
  SELECT
    order_id,
    order_date,
    SUM(amount) OVER (ORDER BY order_date) AS running_total
  FROM orders;
```

3. –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –ø—Ä–µ–¥—ã–¥—É—â–∏–º –∑–Ω–∞—á–µ–Ω–∏–µ–º
```sql
  SELECT
    order_id,
    amount,
    LAG(amount, 1) OVER (ORDER BY order_date) AS prev_amount
  FROM orders;
```

4. –î–æ–ª—è –≤ –≥—Ä—É–ø–ø–µ
```sql
  SELECT
   department,
   salary,
   salary * 100.0 / SUM(salary) OVER (PARTITION BY department) AS pct_in_dept
  FROM employees;
```

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ç–∏–ø—ã –æ–∫–æ–Ω–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π

1. **–ê–≥—Ä–µ–≥–∞—Ç–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∫–∞–∫ –æ–∫–æ–Ω–Ω—ã–µ**
  - `SUM`
  - `AVG`
  - `COUNT`
  - `MAX`
  - `MIN`

2. **–†–∞–Ω–∂–∏—Ä–æ–≤–∞–Ω–∏–µ**
  - `ROW_NUMBER()` ‚Äî —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –Ω–æ–º–µ—Ä —Å—Ç—Ä–æ–∫–∏
  - `RANK()` / `DENSE_RANK()` ‚Äî —Ä–∞–Ω–∂–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –ø—Ä–æ–ø—É—Å–∫–∞–º–∏ –∏–ª–∏ –±–µ–∑
  - `NTILE(N)` ‚Äî –¥–µ–ª–µ–Ω–∏–µ –Ω–∞ –≥—Ä—É–ø–ø—ã

3. **–§—É–Ω–∫—Ü–∏–∏ —Å–º–µ—â–µ–Ω–∏—è**
  - `LAG()` / `LEAD()` ‚Äî –¥–æ—Å—Ç—É–ø –∫ –ø—Ä–µ–¥—ã–¥—É—â–µ–π –∏–ª–∏ —Å–ª–µ–¥—É—é—â–µ–π —Å—Ç—Ä–æ–∫–µ
  - `FIRST_VALUE()` / `LAST_VALUE()` ‚Äî –ø–µ—Ä–≤–æ–µ/–ø–æ—Å–ª–µ–¥–Ω–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –≤ –æ–∫–Ω–µ  

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

- –ß–∏—Ç–∞–µ–º–æ—Å—Ç—å SQL-–∑–∞–ø—Ä–æ—Å–æ–≤ (–±–µ–∑ —Å–ª–æ–∂–Ω—ã—Ö –ø–æ–¥–∑–∞–ø—Ä–æ—Å–æ–≤).
- –ë–æ–ª–µ–µ –≤—ã—Å–æ–∫–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å, —á–µ–º –≤–ª–æ–∂–µ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –∏ –¥–∂–æ–π–Ω—ã.
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏—Ö –∑–∞–¥–∞—á (BI, OLAP).
- –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ—Å—Ç—å (PostgreSQL, Oracle, SQL Server, MySQL ‚â• 8). 

## 34. –ß–µ–º –æ—Ç–ª–∏—á–∞—é—Ç—Å—è –∞–≥—Ä–µ–≥–∞—Ç–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –æ—Ç –æ–∫–æ–Ω–Ω—ã—Ö?

### –ê–≥—Ä–µ–≥–∞—Ç–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
–ê–≥—Ä–µ–≥–∞—Ç–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ (`SUM`, `AVG`, `COUNT`, `MAX`, `MIN` –∏ –¥—Ä.)
- –ü—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –∫ **–º–Ω–æ–∂–µ—Å—Ç–≤—É —Å—Ç—Ä–æ–∫** –∏ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç **–æ–¥–Ω–æ –∑–Ω–∞—á–µ–Ω–∏–µ** –¥–ª—è –≤—Å–µ–π –≥—Ä—É–ø–ø—ã.
- –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤–º–µ—Å—Ç–µ —Å `GROUP BY`.

**–ü—Ä–∏–º–µ—Ä:**
```sql
  SELECT department, AVG(salary) AS avg_salary
  FROM employees
  GROUP BY department;
```
‚Üí –î–ª—è –∫–∞–∂–¥–æ–≥–æ –¥–µ–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è **–æ–¥–Ω–∞ —Å—Ç—Ä–æ–∫–∞** —Å —É—Å—Ä–µ–¥–Ω—ë–Ω–Ω–æ–π –∑–∞—Ä–ø–ª–∞—Ç–æ–π.

### –û–∫–æ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
–û–∫–æ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Ç–µ –∂–µ –∞–≥—Ä–µ–≥–∞—Ç—ã, –Ω–æ —Å –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ–º `OVER()`.
- –°–æ—Ö—Ä–∞–Ω—è—é—Ç **–≤—Å–µ —Å—Ç—Ä–æ–∫–∏** –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ.
- –î–æ–±–∞–≤–ª—è—é—Ç –Ω–æ–≤–æ–µ –≤—ã—á–∏—Å–ª—è–µ–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –¥–ª—è –∫–∞–∂–¥–æ–π —Å—Ç—Ä–æ–∫–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ "–æ–∫–Ω–∞".

**–ü—Ä–∏–º–µ—Ä:**
```sql
  SELECT
    employee_id,
    department,
    salary,
    AVG(salary) OVER (PARTITION BY department) AS avg_salary_in_dept
  FROM employees;
```
‚Üí –ö–∞–∂–¥–æ–º—É —Å–æ—Ç—Ä—É–¥–Ω–∏–∫—É –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –∫–æ–ª–æ–Ω–∫–∞ —Å–æ —Å—Ä–µ–¥–Ω–µ–π –∑–∞—Ä–ø–ª–∞—Ç–æ–π –ø–æ –µ–≥–æ –¥–µ–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç—É, –Ω–æ —Å—Ç—Ä–æ–∫–∏ **–Ω–µ —Å–≤–æ—Ä–∞—á–∏–≤–∞—é—Ç—Å—è**.

### –ò—Ç–æ–≥
- **–ê–≥—Ä–µ–≥–∞—Ç–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏** –æ—Ç–≤–µ—á–∞—é—Ç: *¬´–ö–∞–∫–æ–≤ –æ–±—â–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –¥–ª—è –≥—Ä—É–ø–ø—ã?¬ª*
- **–û–∫–æ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏** –æ—Ç–≤–µ—á–∞—é—Ç: *¬´–ö–∞–∫–æ–≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –¥–ª—è —ç—Ç–æ–π —Å—Ç—Ä–æ–∫–∏ –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ –µ—ë –≥—Ä—É–ø–ø—ã?¬ª*  

## 35. –ß—Ç–æ —Ç–∞–∫–æ–µ PARTITION BY –∏ ORDER BY –≤ –æ–∫–æ–Ω–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏—è—Ö?

#### PARTITION BY
- –†–∞–∑–±–∏–≤–∞–µ—Ç –Ω–∞–±–æ—Ä —Å—Ç—Ä–æ–∫ –Ω–∞ **–≥—Ä—É–ø–ø—ã (partitions)**, –≤–Ω—É—Ç—Ä–∏ –∫–æ—Ç–æ—Ä—ã—Ö –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –æ–∫–æ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è.
- –ü–æ—Ö–æ–∂–µ –Ω–∞ `GROUP BY`, –Ω–æ –≥–ª–∞–≤–Ω–æ–µ –æ—Ç–ª–∏—á–∏–µ ‚Äî —Å—Ç—Ä–æ–∫–∏ –Ω–µ —Å–≤–æ—Ä–∞—á–∏–≤–∞—é—Ç—Å—è, –∞ –æ—Å—Ç–∞—é—Ç—Å—è –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ.

**–ü—Ä–∏–º–µ—Ä:**
```sql
  SELECT
    employee_id,
    department,
    salary,
    AVG(salary) OVER (PARTITION BY department) AS avg_salary_in_dept
  FROM employees;
```
‚Üí –°—Ä–µ–¥–Ω—è—è –∑–∞—Ä–ø–ª–∞—Ç–∞ —Å—á–∏—Ç–∞–µ—Ç—Å—è **–æ—Ç–¥–µ–ª—å–Ω–æ –ø–æ –∫–∞–∂–¥–æ–º—É –¥–µ–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç—É**, –Ω–æ –≤—Å–µ —Å—Ç—Ä–æ–∫–∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è.

### ORDER BY
- –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç **–ø–æ—Ä—è–¥–æ–∫ —Å—Ç—Ä–æ–∫ –≤–Ω—É—Ç—Ä–∏ –∫–∞–∂–¥–æ–π –≥—Ä—É–ø–ø—ã (partition)**.
- –í–ª–∏—è–µ—Ç –Ω–∞ —Ç–æ, –∫–∞–∫ —Ñ—É–Ω–∫—Ü–∏—è —Å—á–∏—Ç–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏—è (–æ—Å–æ–±–µ–Ω–Ω–æ –¥–ª—è `ROW_NUMBER`, `RANK`, `LAG`, `LEAD`, –∫—É–º—É–ª—è—Ç–∏–≤–Ω—ã—Ö —Å—É–º–º).

**–ü—Ä–∏–º–µ—Ä:**
```sql
  SELECT
    employee_id,
    department,
    salary,
    ROW_NUMBER() OVER (PARTITION BY department ORDER BY salary DESC) AS rank_in_dept
  FROM employees;
```
‚Üí –í –∫–∞–∂–¥–æ–º –¥–µ–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∏ –±—É–¥—É—Ç –ø—Ä–æ–Ω—É–º–µ—Ä–æ–≤–∞–Ω—ã –ø–æ –∑–∞—Ä–ø–ª–∞—Ç–µ –æ—Ç —Å–∞–º–æ–π –±–æ–ª—å—à–æ–π –∫ —Å–∞–º–æ–π –º–∞–ª–µ–Ω—å–∫–æ–π.

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤–º–µ—Å—Ç–µ
–û–±—ã—á–Ω–æ `PARTITION BY` –∏ `ORDER BY` —Ä–∞–±–æ—Ç–∞—é—Ç **–≤ –ø–∞—Ä–µ**:
- `PARTITION BY` –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ –≥—Ä—É–ø–ø—ã.
- `ORDER BY` –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –ø–æ—Ä—è–¥–æ–∫ –≤–Ω—É—Ç—Ä–∏ –≥—Ä—É–ø–ø—ã.

**–ü—Ä–∏–º–µ—Ä:**
```sql
  SELECT
    order_id,
    customer_id,
    order_date,
    SUM(amount) OVER (
      PARTITION BY customer_id
      ORDER BY order_date
    ) AS running_total
  FROM orders;
```
‚Üí –î–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞ (`customer_id`) –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è **–Ω–∞–∫–æ–ø–∏—Ç–µ–ª—å–Ω–∞—è —Å—É–º–º–∞ –∑–∞–∫–∞–∑–æ–≤** –ø–æ –¥–∞—Ç–µ.

### –ò—Ç–æ–≥
- **PARTITION BY** ‚Äî –∑–∞–¥–∞—ë—Ç ¬´–æ–∫–Ω–æ¬ª –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–∏, –æ–ø—Ä–µ–¥–µ–ª—è—è –≥—Ä—É–ø–ø—ã.
- **ORDER BY** ‚Äî –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Å—Ç—Ä–æ–∫ –≤–Ω—É—Ç—Ä–∏ –∫–∞–∂–¥–æ–π –≥—Ä—É–ø–ø—ã.  
  –í–º–µ—Å—Ç–µ –æ–Ω–∏ –ø–æ–∑–≤–æ–ª—è—é—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –º–æ—â–Ω—ã–µ –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –ø—Ä—è–º–æ –≤ SQL.  

## 36. –ß–µ–º –æ—Ç–ª–∏—á–∞—é—Ç—Å—è ROW_NUMBER(), RANK() –∏ DENSE_RANK()?

#### ROW_NUMBER()
- –ü—Ä–∏—Å–≤–∞–∏–≤–∞–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –ø–æ—Ä—è–¥–∫–æ–≤—ã–π –Ω–æ–º–µ—Ä —Å—Ç—Ä–æ–∫–µ –≤ —Ä–∞–º–∫–∞—Ö –æ–∫–Ω–∞.
- **–ù–æ–º–µ—Ä–∞ –≤—Å–µ–≥–¥–∞ –∏–¥—É—Ç –ø–æ–¥—Ä—è–¥** (1, 2, 3 ‚Ä¶), –¥–∞–∂–µ –µ—Å–ª–∏ –∑–Ω–∞—á–µ–Ω–∏—è –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ.

**–ü—Ä–∏–º–µ—Ä:**
```sql
  SELECT
    employee_id,
    department,
    salary,
    ROW_NUMBER() OVER (PARTITION BY department ORDER BY salary DESC) AS row_num
  FROM employees;
```
‚Üí –í –∫–∞–∂–¥–æ–º –¥–µ–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞–º –ø—Ä–∏—Å–≤–æ—è—Ç—Å—è —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –Ω–æ–º–µ—Ä–∞ –ø–æ –∑–∞—Ä–ø–ª–∞—Ç–µ. –î–∞–∂–µ –ø—Ä–∏ –æ–¥–∏–Ω–∞–∫–æ–≤—ã—Ö –∑–∞—Ä–ø–ª–∞—Ç–∞—Ö –Ω–æ–º–µ—Ä–∞ –±—É–¥—É—Ç —Ä–∞–∑–Ω—ã–µ.

### RANK()
- –ü—Ä–∏—Å–≤–∞–∏–≤–∞–µ—Ç —Ä–∞–Ω–≥ —Å—Ç—Ä–æ–∫–∞–º –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∑–Ω–∞—á–µ–Ω–∏—è.
- –ü—Ä–∏ –æ–¥–∏–Ω–∞–∫–æ–≤—ã—Ö –∑–Ω–∞—á–µ–Ω–∏—è—Ö –Ω–∞–∑–Ω–∞—á–∞–µ—Ç—Å—è **–æ–¥–∏–Ω–∞–∫–æ–≤—ã–π —Ä–∞–Ω–≥**, –Ω–æ –¥–∞–ª—å—à–µ –±—É–¥—É—Ç ¬´–ø—Ä–æ–ø—É—Å–∫–∏¬ª.

**–ü—Ä–∏–º–µ—Ä:**
```sql
  SELECT
    employee_id,
    department,
    salary,
    RANK() OVER (PARTITION BY department ORDER BY salary DESC) AS rank_in_dept
  FROM employees;
```
‚Üí –ï—Å–ª–∏ –¥–≤–∞ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ –¥–µ–ª—è—Ç 1-–µ –º–µ—Å—Ç–æ, –æ–±–∞ –ø–æ–ª—É—á–∞—Ç `1`, –∞ —Å–ª–µ–¥—É—é—â–∏–π ‚Äî `3` (–±—É–¥–µ—Ç –ø—Ä–æ–ø—É—Å–∫).

### DENSE_RANK()
- –†–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ `RANK()`, –Ω–æ **–±–µ–∑ –ø—Ä–æ–ø—É—Å–∫–æ–≤**.
- –ü—Ä–∏ –æ–¥–∏–Ω–∞–∫–æ–≤—ã—Ö –∑–Ω–∞—á–µ–Ω–∏—è—Ö —Å—Ç—Ä–æ–∫–∏ –ø–æ–ª—É—á–∞—é—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—ã–π —Ä–∞–Ω–≥, –Ω–æ —Å–ª–µ–¥—É—é—â–∏–π –∏–¥—ë—Ç —Å—Ä–∞–∑—É –ø–æ –ø–æ—Ä—è–¥–∫—É.

**–ü—Ä–∏–º–µ—Ä:**
```sql
  SELECT
    employee_id,
    department,
    salary,
    DENSE_RANK() OVER (PARTITION BY department ORDER BY salary DESC) AS dense_rank_in_dept
  FROM employees;
```
‚Üí –ï—Å–ª–∏ –¥–≤–∞ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ –¥–µ–ª—è—Ç 1-–µ –º–µ—Å—Ç–æ, –æ–±–∞ –ø–æ–ª—É—á–∞—Ç `1`, –∞ —Å–ª–µ–¥—É—é—â–∏–π ‚Äî `2` (–±–µ–∑ –ø—Ä–æ–ø—É—Å–∫–∞).

### –ò—Ç–æ–≥
- **ROW_NUMBER()** ‚Äî —É–Ω–∏–∫–∞–ª—å–Ω–∞—è –Ω—É–º–µ—Ä–∞—Ü–∏—è —Å—Ç—Ä–æ–∫.
- **RANK()** ‚Äî —É—á–∏—Ç—ã–≤–∞–µ—Ç —Ä–∞–≤–µ–Ω—Å—Ç–≤–æ –∑–Ω–∞—á–µ–Ω–∏–π, –Ω–æ –æ—Å—Ç–∞–≤–ª—è–µ—Ç ¬´–¥—ã—Ä—ã¬ª –≤ –Ω—É–º–µ—Ä–∞—Ü–∏–∏.
- **DENSE_RANK()** ‚Äî –∫–∞–∫ `RANK()`, –Ω–æ –±–µ–∑ –ø—Ä–æ–ø—É—Å–∫–æ–≤.  

## 37. –î–ª—è —á–µ–≥–æ –Ω—É–∂–Ω—ã LAG() –∏ LEAD()?

- **LAG()** –∏ **LEAD()** ‚Äî –æ–∫–æ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Å–º–µ—â–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–∑–≤–æ–ª—è—é—Ç –ø–æ–ª—É—á–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ **–ø—Ä–µ–¥—ã–¥—É—â–µ–π** –∏–ª–∏ **—Å–ª–µ–¥—É—é—â–µ–π** —Å—Ç—Ä–æ–∫–∏ –±–µ–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø–æ–¥–∑–∞–ø—Ä–æ—Å–æ–≤ –∏–ª–∏ JOIN.
- –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ –∞–Ω–∞–ª–∏—Ç–∏–∫–µ –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è —Ç–µ–∫—É—â–µ–π —Å—Ç—Ä–æ–∫–∏ —Å —Å–æ—Å–µ–¥–Ω–∏–º–∏.

### LAG()
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –∏–∑ **–ø—Ä–µ–¥—ã–¥—É—â–µ–π —Å—Ç—Ä–æ–∫–∏** –≤ —Ä–∞–º–∫–∞—Ö –æ–∫–Ω–∞.
- –ï—Å–ª–∏ –ø—Ä–µ–¥—ã–¥—É—â–µ–π —Å—Ç—Ä–æ–∫–∏ –Ω–µ—Ç, –º–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.

**–ü—Ä–∏–º–µ—Ä:**
```sql
  SELECT
    order_id,
    order_date,
    amount,
    LAG(amount, 1, 0) OVER (ORDER BY order_date) AS prev_amount
  FROM orders;
```
‚Üí –î–ª—è –∫–∞–∂–¥–æ–≥–æ –∑–∞–∫–∞–∑–∞ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è —Å—É–º–º–∞ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –∑–∞–∫–∞–∑–∞ (`0`, –µ—Å–ª–∏ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –Ω–µ—Ç).

### LEAD()
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –∏–∑ **—Å–ª–µ–¥—É—é—â–µ–π —Å—Ç—Ä–æ–∫–∏** –≤ —Ä–∞–º–∫–∞—Ö –æ–∫–Ω–∞.
- –¢–æ–∂–µ –º–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.

**–ü—Ä–∏–º–µ—Ä:**
```sql
  SELECT
    order_id,
    order_date,
    amount,
    LEAD(amount, 1, 0) OVER (ORDER BY order_date) AS next_amount
  FROM orders;
```
‚Üí –î–ª—è –∫–∞–∂–¥–æ–≥–æ –∑–∞–∫–∞–∑–∞ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è —Å—É–º–º–∞ —Å–ª–µ–¥—É—é—â–µ–≥–æ –∑–∞–∫–∞–∑–∞ (`0`, –µ—Å–ª–∏ —Å–ª–µ–¥—É—é—â–µ–≥–æ –Ω–µ—Ç).

### –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ
1. –ê–Ω–∞–ª–∏–∑ –¥–∏–Ω–∞–º–∏–∫–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É —Ç–µ–∫—É—â–∏–º –∏ –ø—Ä–µ–¥—ã–¥—É—â–∏–º –∑–Ω–∞—á–µ–Ω–∏–µ–º).  
```sql
  SELECT
    order_date,
    amount,
    amount - LAG(amount) OVER (ORDER BY order_date) AS diff_from_prev
  FROM orders;
```
2. –ù–∞—Ö–æ–∂–¥–µ–Ω–∏–µ ¬´–ø—Ä–æ–≤–∞–ª–æ–≤¬ª –∏–ª–∏ ¬´—Å–∫–∞—á–∫–æ–≤¬ª –≤ –¥–∞–Ω–Ω—ã—Ö.
3. –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ –∏ —Å–ª–µ–¥—É—é—â–µ–≥–æ —Å–æ–±—ã—Ç–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –≤—Ä–µ–º—è –¥–æ —Å–ª–µ–¥—É—é—â–µ–≥–æ –∑–∞–∫–∞–∑–∞ –∫–ª–∏–µ–Ω—Ç–∞).
4. –í —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö –∏ BI-–æ—Ç—á—ë—Ç–∞—Ö ‚Äî –ø–æ–¥—Å—á—ë—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–π –ø–æ –ø–µ—Ä–∏–æ–¥–∞–º.

---

### –ò—Ç–æ–≥
- **LAG()** ‚Äî –¥–æ—Å—Ç–∞—ë—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ –ø—Ä–æ—à–ª–æ–π —Å—Ç—Ä–æ–∫–∏.
- **LEAD()** ‚Äî –¥–æ—Å—Ç–∞—ë—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ —Å–ª–µ–¥—É—é—â–µ–π —Å—Ç—Ä–æ–∫–∏.  
  –û–±–µ —Ñ—É–Ω–∫—Ü–∏–∏ —É–ø—Ä–æ—â–∞—é—Ç –∞–Ω–∞–ª–∏—Ç–∏–∫—É, –∑–∞–º–µ–Ω—è—è —Å–ª–æ–∂–Ω—ã–µ –ø–æ–¥–∑–∞–ø—Ä–æ—Å—ã –∏ –¥–µ–ª–∞—è SQL –±–æ–ª–µ–µ —á–∏—Ç–∞–µ–º—ã–º. 

### 38. –ß—Ç–æ —Ç–∞–∫–æ–µ ROWS BETWEEN –∏ –∫–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç?

`ROWS BETWEEN` ‚Äî —ç—Ç–æ —á–∞—Å—Ç—å –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ `OVER()` –≤ –æ–∫–æ–Ω–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏—è—Ö, –∫–æ—Ç–æ—Ä–∞—è –∑–∞–¥–∞—ë—Ç **—Ä–∞–º–∫–∏ (frame)** –æ–∫–Ω–∞ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ —Ç–µ–∫—É—â–µ–π —Å—Ç—Ä–æ–∫–∏.  
–û–Ω–∞ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç, –∫–∞–∫–∏–µ —Å—Ç—Ä–æ–∫–∏ –ø–æ–ø–∞–¥—É—Ç –≤ –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ –¥–ª—è –∫–∞–∂–¥–æ–π —Å—Ç—Ä–æ–∫–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞.

#### –°–∏–Ω—Ç–∞–∫—Å–∏—Å
```sql
  () OVER (
    PARTITION BY ‚Ä¶
    ORDER BY ‚Ä¶
    ROWS BETWEEN <frame_start> AND <frame_end>
  )
```

### –í–∞—Ä–∏–∞–Ω—Ç—ã —Ä–∞–º–æ–∫ –æ–∫–Ω–∞
- `UNBOUNDED PRECEDING` ‚Äî –æ—Ç –ø–µ—Ä–≤–æ–π —Å—Ç—Ä–æ–∫–∏ –¥–æ —Ç–µ–∫—É—â–µ–π.
- `n PRECEDING` ‚Äî n —Å—Ç—Ä–æ–∫ –¥–æ —Ç–µ–∫—É—â–µ–π.
- `CURRENT ROW` ‚Äî —Ç–æ–ª—å–∫–æ —Ç–µ–∫—É—â–∞—è —Å—Ç—Ä–æ–∫–∞.
- `n FOLLOWING` ‚Äî n —Å—Ç—Ä–æ–∫ –ø–æ—Å–ª–µ —Ç–µ–∫—É—â–µ–π.
- `UNBOUNDED FOLLOWING` ‚Äî –¥–æ –ø–æ—Å–ª–µ–¥–Ω–µ–π —Å—Ç—Ä–æ–∫–∏.

### –ü—Ä–∏–º–µ—Ä—ã

**a) –ö—É–º—É–ª—è—Ç–∏–≤–Ω–∞—è —Å—É–º–º–∞ (–æ—Ç –Ω–∞—á–∞–ª–∞ –¥–æ —Ç–µ–∫—É—â–µ–π —Å—Ç—Ä–æ–∫–∏):**
```sql
  SELECT
    order_id,
    order_date,
    amount,
    SUM(amount) OVER (
      ORDER BY order_date
      ROWS BETWEEN UNBOUNDED PRECEDING AND CURRENT ROW
    ) AS running_total
  FROM orders;
```
‚Üí –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞–∫–æ–ø–∏—Ç–µ–ª—å–Ω—ã–π –∏—Ç–æ–≥ –¥–ª—è –∫–∞–∂–¥–æ–π —Å—Ç—Ä–æ–∫–∏.

**b) –°–∫–æ–ª—å–∑—è—â–µ–µ —Å—Ä–µ–¥–Ω–µ–µ (—Ç–µ–∫—É—â–∞—è —Å—Ç—Ä–æ–∫–∞ + 2 –ø—Ä–µ–¥—ã–¥—É—â–∏–µ):**
```sql
  SELECT
    order_id,
    amount,
    AVG(amount) OVER (
      ORDER BY order_date
      ROWS BETWEEN 2 PRECEDING AND CURRENT ROW
    ) AS moving_avg
  FROM orders;
```
‚Üí –î–ª—è –∫–∞–∂–¥–æ–π —Å—Ç—Ä–æ–∫–∏ –±–µ—Ä—É—Ç—Å—è –µ—ë –∑–Ω–∞—á–µ–Ω–∏–µ –∏ –¥–≤–∞ –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö, –∑–∞—Ç–µ–º —Å—á–∏—Ç–∞–µ—Ç—Å—è —Å—Ä–µ–¥–Ω–µ–µ.

**c) –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å —Å–æ—Å–µ–¥—è–º–∏ (–ø—Ä–µ–¥—ã–¥—É—â–∞—è, —Ç–µ–∫—É—â–∞—è, —Å–ª–µ–¥—É—é—â–∞—è):**
```sql
  SELECT
    order_id,
    amount,
    SUM(amount) OVER (
      ORDER BY order_date
      ROWS BETWEEN 1 PRECEDING AND 1 FOLLOWING
    ) AS local_sum
  FROM orders;
```
‚Üí –î–ª—è –∫–∞–∂–¥–æ–π —Å—Ç—Ä–æ–∫–∏ —Å—É–º–º–∞ —Å—á–∏—Ç–∞–µ—Ç—Å—è –∏–∑ —Ç—Ä—ë—Ö –∑–Ω–∞—á–µ–Ω–∏–π: –ø—Ä–µ–¥—ã–¥—É—â–∞—è + —Ç–µ–∫—É—â–∞—è + —Å–ª–µ–¥—É—é—â–∞—è.

### –ò—Ç–æ–≥
- `ROWS BETWEEN` —É–ø—Ä–∞–≤–ª—è–µ—Ç —Ç–µ–º, –∫–∞–∫–∏–µ —Å—Ç—Ä–æ–∫–∏ –ø–æ–ø–∞–¥–∞—é—Ç –≤ —Ä–∞—Å—á—ë—Ç –æ–∫–æ–Ω–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏.
- –ü–æ–∑–≤–æ–ª—è–µ—Ç –¥–µ–ª–∞—Ç—å **–∫—É–º—É–ª—è—Ç–∏–≤–Ω—ã–µ –∏—Ç–æ–≥–∏**, **—Å–∫–æ–ª—å–∑—è—â–∏–µ —Å—Ä–µ–¥–Ω–∏–µ**, **–ª–æ–∫–∞–ª—å–Ω—ã–µ –∞–≥—Ä–µ–≥–∞—Ç—ã**.
- –û—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç –ø—Ä–æ—Å—Ç–æ–≥–æ `PARTITION BY` + `ORDER BY` —Ç–µ–º, —á—Ç–æ –¥–∞—ë—Ç —Ç–æ–Ω–∫–∏–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ —Ä–∞–º–∫–∞–º–∏ –æ–∫–Ω–∞. 

## 39. –ú–æ–∂–Ω–æ –ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–∫–æ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –≤ WHERE?

–ù–µ—Ç, **–æ–∫–æ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –Ω–µ–ª—å–∑—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–∞–ø—Ä—è–º—É—é –≤ `WHERE`**.  
–ü—Ä–∏—á–∏–Ω–∞:
- `WHERE` –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è **–¥–æ** –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –æ–∫–æ–Ω–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π.
- –û–∫–æ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Å—á–∏—Ç–∞—é—Ç—Å—è —É–∂–µ –Ω–∞ —ç—Ç–∞–ø–µ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∏—Ä—É—é—â–µ–≥–æ –Ω–∞–±–æ—Ä–∞ (–ø–æ—Å–ª–µ `FROM` ‚Üí `WHERE` ‚Üí `GROUP BY` ‚Üí `HAVING` ‚Üí `WINDOW/SELECT` ‚Üí `ORDER BY`).

### –ß—Ç–æ –±—É–¥–µ—Ç, –µ—Å–ª–∏ –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å?
```sql
  SELECT
    employee_id,
    department,
    salary,
    ROW_NUMBER() OVER (PARTITION BY department ORDER BY salary DESC) AS row_num
  FROM employees
  WHERE row_num = 1;  ‚Äì –û—à–∏–±–∫–∞!
```
‚Üí –û—à–∏–±–∫–∞: –∫–æ–ª–æ–Ω–∫–∞ `row_num` –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –Ω–∞ –º–æ–º–µ–Ω—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è `WHERE`.

### –ö–∞–∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å?
–ï—Å—Ç—å —Ç—Ä–∏ –æ—Å–Ω–æ–≤–Ω—ã—Ö –ø–æ–¥—Ö–æ–¥–∞:

**a) –ü–æ–¥–∑–∞–ø—Ä–æ—Å (derived table / CTE)**
```sql
  WITH ranked AS (
    SELECT
      employee_id,
      department,
      salary,
      ROW_NUMBER() OVER (PARTITION BY department ORDER BY salary DESC) AS row_num
    FROM employees
  )
  SELECT *
  FROM ranked
  WHERE row_num = 1;
```
‚Üí –ü–æ–ª—É—á–∏–º –ø–æ –æ–¥–Ω–æ–º—É —Å–æ—Ç—Ä—É–¥–Ω–∏–∫—É —Å –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π –∑–∞—Ä–ø–ª–∞—Ç–æ–π –≤ –∫–∞–∂–¥–æ–º –¥–µ–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç–µ.

**b) –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ `QUALIFY` (–µ—Å–ª–∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è)**
–ù–µ–∫–æ—Ç–æ—Ä—ã–µ –°–£–ë–î (Snowflake, BigQuery, Oracle 23c, DuckDB) –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç `QUALIFY`:  
```sql
  SELECT
    employee_id,
    department,
    salary,
    ROW_NUMBER() OVER (PARTITION BY department ORDER BY salary DESC) AS row_num
  FROM employees
  QUALIFY row_num = 1;
```
‚Üí –£–ø—Ä–æ—â—ë–Ω–Ω—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å, –∫–æ—Ç–æ—Ä—ã–π —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç –ø–æ –æ–∫–æ–Ω–Ω—ã–º —Ñ—É–Ω–∫—Ü–∏—è–º.

**c) –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –æ–∫–æ–Ω–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ –≤ `HAVING` (—Ä–µ–¥–∫–æ)**
–û–±—ã—á–Ω–æ –Ω–µ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –Ω–∞–ø—Ä—è–º—É—é, —Ç–∞–∫ –∫–∞–∫ `HAVING` –∏–¥—ë—Ç –ø–æ—Å–ª–µ –∞–≥—Ä–µ–≥–∞—Ç–æ–≤, –Ω–æ —Ç–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∏ –º–æ–∂–Ω–æ –æ–±–µ—Ä–Ω—É—Ç—å –≤ –ø–æ–¥–∑–∞–ø—Ä–æ—Å.

### –ò—Ç–æ–≥
- **–ù–µ–ª—å–∑—è** –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–∫–æ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –≤ `WHERE` –Ω–∞–ø—Ä—è–º—É—é.
- **–ú–æ–∂–Ω–æ** —Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å –ø–æ –∏—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É —á–µ—Ä–µ–∑ **CTE**, **–ø–æ–¥–∑–∞–ø—Ä–æ—Å** –∏–ª–∏ **QUALIFY** (–µ—Å–ª–∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è).  

## 40. –ß—Ç–æ —Ç–∞–∫–æ–µ QUALIFY?

### –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ
`QUALIFY` ‚Äî —ç—Ç–æ –æ–ø–µ—Ä–∞—Ç–æ—Ä SQL, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å —Å—Ç—Ä–æ–∫–∏ **–ø–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º –æ–∫–æ–Ω–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π**, –ø–æ–¥–æ–±–Ω–æ —Ç–æ–º—É –∫–∞–∫:
- `WHERE` —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç –ø–æ –æ–±—ã—á–Ω—ã–º –∫–æ–ª–æ–Ω–∫–∞–º,
- `HAVING` —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç –ø–æ –∞–≥—Ä–µ–≥–∞—Ç–∞–º.

–ò–Ω—ã–º–∏ —Å–ª–æ–≤–∞–º–∏:  
`QUALIFY` = "WHERE –¥–ª—è –æ–∫–æ–Ω–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π".

### –ó–∞—á–µ–º –Ω—É–∂–µ–Ω?
–û–∫–æ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Å—á–∏—Ç–∞—é—Ç—Å—è **–ø–æ—Å–ª–µ** –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è `WHERE` –∏ `GROUP BY`.  
–û–±—ã—á–Ω–æ, —á—Ç–æ–±—ã –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å –ø–æ –æ–∫–æ–Ω–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ (`ROW_NUMBER`, `RANK`, `LAG` –∏ –¥—Ä.), –ø—Ä–∏—Ö–æ–¥–∏—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å CTE –∏–ª–∏ –ø–æ–¥–∑–∞–ø—Ä–æ—Å.

`QUALIFY` —É–ø—Ä–æ—â–∞–µ—Ç —ç—Ç–æ: –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–∏—Å–∞—Ç—å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é –ø–æ –æ–∫–æ–Ω–Ω—ã–º —Ñ—É–Ω–∫—Ü–∏—è–º –ø—Ä—è–º–æ –≤ –æ—Å–Ω–æ–≤–Ω–æ–º –∑–∞–ø—Ä–æ—Å–µ.

### –ü—Ä–∏–º–µ—Ä –±–µ–∑ QUALIFY (—á–µ—Ä–µ–∑ CTE)
```sql
  WITH ranked AS (
    SELECT
      employee_id,
      department,
      salary,
      ROW_NUMBER() OVER (PARTITION BY department ORDER BY salary DESC) AS row_num
    FROM employees
  )
  SELECT *
  FROM ranked
  WHERE row_num = 1;
```

### –¢–æ—Ç –∂–µ –∑–∞–ø—Ä–æ—Å —Å QUALIFY
```sql
  SELECT
    employee_id,
    department,
    salary,
    ROW_NUMBER() OVER (PARTITION BY department ORDER BY salary DESC) AS row_num
  FROM employees
  QUALIFY row_num = 1;
```
‚Üí –ü–æ–ª—É—á–∏–º —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ —Å **–º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π –∑–∞—Ä–ø–ª–∞—Ç–æ–π** –≤ –∫–∞–∂–¥–æ–º –¥–µ–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç–µ, –Ω–æ –∑–∞–ø–∏—Å—å –≤—ã–≥–ª—è–¥–∏—Ç –Ω–∞–º–Ω–æ–≥–æ –∫–æ—Ä–æ—á–µ.

### –ì–¥–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è QUALIFY
- **BigQuery** (Google)
- **Snowflake**
- **Teradata**
- **DuckDB**
- **Oracle 23c** (–Ω–æ–≤—ã–µ –≤–µ—Ä—Å–∏–∏)

‚ö†Ô∏è –í PostgreSQL, MySQL, MS SQL Server **–æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ QUALIFY –Ω–µ—Ç**, —Ç–∞–º –∏—Å–ø–æ–ª—å–∑—É—é—Ç CTE –∏–ª–∏ –ø–æ–¥–∑–∞–ø—Ä–æ—Å.

## 41. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è SQL-–∑–∞–ø—Ä–æ—Å–æ–≤: EXPLAIN –∏ EXPLAIN ANALYZE

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è SQL-–∑–∞–ø—Ä–æ—Å–æ–≤
–°–£–ë–î (PostgreSQL, MySQL, Oracle, SQL Server –∏ –¥—Ä.) –∏–º–µ—é—Ç **–æ–ø—Ç–∏–º–∏–∑–∞—Ç–æ—Ä –∑–∞–ø—Ä–æ—Å–æ–≤**, –∫–æ—Ç–æ—Ä—ã–π:
- –≤—ã–±–∏—Ä–∞–µ—Ç –ª—É—á—à–∏–π –ø–ª–∞–Ω –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è (`execution plan`);
- —Ä–µ—à–∞–µ—Ç, –∫–∞–∫–∏–µ –∏–Ω–¥–µ–∫—Å—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å;
- –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –ø–æ—Ä—è–¥–æ–∫ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π (`join order`);
- –≤—ã–±–∏—Ä–∞–µ—Ç –∞–ª–≥–æ—Ä–∏—Ç–º —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π (Nested Loop, Merge Join, Hash Join);
- –æ—Ü–µ–Ω–∏–≤–∞–µ—Ç —Å—Ç–æ–∏–º–æ—Å—Ç—å (`cost`) –∫–∞–∂–¥–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏.

–ß—Ç–æ–±—ã –ø–æ–Ω—è—Ç—å, **–∫–∞–∫ –∏–º–µ–Ω–Ω–æ –±—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω –∑–∞–ø—Ä–æ—Å**, –∏—Å–ø–æ–ª—å–∑—É—é—Ç –∫–æ–º–∞–Ω–¥—É `EXPLAIN`.

### –ß—Ç–æ —Ç–∞–∫–æ–µ EXPLAIN?
`EXPLAIN <query>` –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç **–ø–ª–∞–Ω –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è** –∑–∞–ø—Ä–æ—Å–∞:
- –∫–∞–∫–∏–µ —à–∞–≥–∏ –°–£–ë–î –ø—Ä–µ–¥–ø—Ä–∏–º–µ—Ç –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞;
- –±—É–¥—É—Ç –ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –∏–Ω–¥–µ–∫—Å—ã –∏–ª–∏ –ø–æ–ª–Ω—ã–π —Å–∫–∞–Ω —Ç–∞–±–ª–∏—Ü—ã (Seq Scan);
- –ø–æ—Ä—è–¥–æ–∫ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π —Ç–∞–±–ª–∏—Ü;
- –æ—Ü–µ–Ω–æ—á–Ω—É—é —Å—Ç–æ–∏–º–æ—Å—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è (`cost`).

**–ü—Ä–∏–º–µ—Ä:**
```sql
  EXPLAIN SELECT * FROM orders WHERE customer_id = 123;
    --–í—ã–≤–æ–¥ (PostgreSQL):
    -- Seq Scan on orders  (cost=0.00..431.00 rows=10 width=64)
    -- Filter: (customer_id = 123)
```
‚Üí –ó–∞–ø—Ä–æ—Å –±—É–¥–µ—Ç –¥–µ–ª–∞—Ç—å –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–µ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ–π —Ç–∞–±–ª–∏—Ü—ã (`Seq Scan`).

### –ß—Ç–æ —Ç–∞–∫–æ–µ EXPLAIN ANALYZE?
- `EXPLAIN ANALYZE <query>` –≤—ã–ø–æ–ª–Ω—è–µ—Ç –∑–∞–ø—Ä–æ—Å —Ä–µ–∞–ª—å–Ω–æ –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç:
  - —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–∞–∂–¥–æ–≥–æ —à–∞–≥–∞;
  - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ–∞–ª—å–Ω–æ –ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã—Ö —Å—Ç—Ä–æ–∫;
  - —Å–∫–æ–ª—å–∫–æ —Å—Ç—Ä–æ–∫ –≤–µ—Ä–Ω—É–ª–æ –∫–∞–∂–¥–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ;
  - —Ä–∞–∑–Ω–∏—Ü—É –º–µ–∂–¥—É **–æ—Ü–µ–Ω–∫–∞–º–∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ç–æ—Ä–∞** –∏ **—Ä–µ–∞–ª—å–Ω–æ—Å—Ç—å—é**.

**–ü—Ä–∏–º–µ—Ä:**
```sql
    EXPLAIN ANALYZE
    SELECT * FROM orders WHERE customer_id = 123;
    –í—ã–≤–æ–¥:
    Seq Scan on orders  (cost=0.00..431.00 rows=10 width=64) (actual time=0.012..15.234 rows=8 loops=1)
    Filter: (customer_id = 123)
    Rows Removed by Filter: 5000
    Execution Time: 15.300 ms
```

### –ö–∞–∫ –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç
1. **–¢–∏–ø —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è**
  - `Seq Scan` ‚Äî –ø–æ–ª–Ω—ã–π –ø—Ä–æ—Ö–æ–¥ —Ç–∞–±–ª–∏—Ü—ã (–º–µ–¥–ª–µ–Ω–Ω–æ –¥–ª—è –±–æ–ª—å—à–∏—Ö –¥–∞–Ω–Ω—ã—Ö).
  - `Index Scan` / `Index Only Scan` ‚Äî –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∏–Ω–¥–µ–∫—Å–∞ (–±—ã—Å—Ç—Ä–µ–µ).
  - `Bitmap Heap Scan` ‚Äî –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —á—Ç–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –∏–Ω–¥–µ–∫—Å.

2. **Join –º–µ—Ç–æ–¥—ã**
  - `Nested Loop` ‚Äî —Ö–æ—Ä–æ—à–æ –¥–ª—è –º–∞–ª–µ–Ω—å–∫–∏—Ö –≤—ã–±–æ—Ä–æ–∫.
  - `Merge Join` ‚Äî —Ö–æ—Ä–æ—à–æ –¥–ª—è –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö.
  - `Hash Join` ‚Äî —Ö–æ—Ä–æ—à–æ –¥–ª—è –±–æ–ª—å—à–∏—Ö –Ω–µ–æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Ç–∞–±–ª–∏—Ü.

3. **Cost**
  - –ó–∞–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –∫–∞–∫ `cost=–Ω–∞—á–∞–ª–æ..–∫–æ–Ω–µ—Ü`.
  - –≠—Ç–æ ¬´–æ—Ü–µ–Ω–∫–∞ —Å—Ç–æ–∏–º–æ—Å—Ç–∏¬ª (—á–µ–º –º–µ–Ω—å—à–µ, —Ç–µ–º –ª—É—á—à–µ).
  - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –æ–ø—Ç–∏–º–∏–∑–∞—Ç–æ—Ä–æ–º –¥–ª—è –≤—ã–±–æ—Ä–∞ –ø–ª–∞–Ω–∞.
  - - –ò–∑ —á–µ–≥–æ —Å–∫–ª–∞–¥—ã–≤–∞–µ—Ç—Å—è cost
      –û–ø—Ç–∏–º–∏–∑–∞—Ç–æ—Ä —É—á–∏—Ç—ã–≤–∞–µ—Ç:
    - **–°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç—Ä–æ–∫**
      - –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ (`Seq Scan`) –¥–æ—Ä–æ–∂–µ –¥–ª—è –±–æ–ª—å—à–∏—Ö —Ç–∞–±–ª–∏—Ü;
      - —á–µ—Ä–µ–∑ –∏–Ω–¥–µ–∫—Å (`Index Scan`) –¥–µ—à–µ–≤–ª–µ, –µ—Å–ª–∏ –≤—ã–±–æ—Ä–∫–∞ –Ω–µ–±–æ–ª—å—à–∞—è.
    - **–°–µ–ª–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å** —É—Å–ª–æ–≤–∏—è (—Å–∫–æ–ª—å–∫–æ —Å—Ç—Ä–æ–∫ –ø–æ–ø–∞–¥—ë—Ç –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç).
    - **–°—Ç–æ–∏–º–æ—Å—Ç—å —á—Ç–µ–Ω–∏—è —Å –¥–∏—Å–∫–∞ vs –∏–∑ –ø–∞–º—è—Ç–∏** (–≤ PostgreSQL –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ `seq_page_cost`, `random_page_cost`, `cpu_tuple_cost`).
    - **–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞** –∏ **—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è** —Ç–∞–±–ª–∏—Ü.

4. **Rows**
  - `rows=10` ‚Äî –ø—Ä–æ–≥–Ω–æ–∑ –æ–ø—Ç–∏–º–∏–∑–∞—Ç–æ—Ä–∞.
  - `actual rows=...` ‚Äî —Ä–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø—Ä–∏ `EXPLAIN ANALYZE`.
  - –ë–æ–ª—å—à–∞—è —Ä–∞–∑–Ω–∏—Ü–∞ ‚Üí –æ–ø—Ç–∏–º–∏–∑–∞—Ç–æ—Ä –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ—Ü–µ–Ω–∏–ª —Å–µ–ª–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —É—Å–ª–æ–≤–∏—è.

5. **Time**
  - `actual time=0.012..15.234` ‚Äî —Ä–µ–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —à–∞–≥–∞.
  - `Execution Time` ‚Äî –æ–±—â–µ–µ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–∞.

### –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
- –ï—Å–ª–∏ –≤–∏–¥–∏—à—å `Seq Scan` –Ω–∞ –±–æ–ª—å—à–æ–π —Ç–∞–±–ª–∏—Ü–µ ‚Üí –Ω—É–∂–µ–Ω **–∏–Ω–¥–µ–∫—Å**.
- –ï—Å–ª–∏ —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ —Å—Ç—Ä–æ–∫ ¬´Rows Removed by Filter¬ª ‚Üí –≤–æ–∑–º–æ–∂–Ω–æ, —Å—Ç–æ–∏—Ç **–ø–µ—Ä–µ–ø–∏—Å–∞—Ç—å —É—Å–ª–æ–≤–∏–µ**.
- –ï—Å–ª–∏ `Nested Loop` –Ω–∞ –±–æ–ª—å—à–∏—Ö —Ç–∞–±–ª–∏—Ü–∞—Ö ‚Üí —Å—Ç–æ–∏—Ç –ø–æ–¥—É–º–∞—Ç—å –æ **Hash Join** –∏–ª–∏ **Merge Join**.
- –ï—Å–ª–∏ `actual rows` —Å–∏–ª—å–Ω–æ –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç `rows` ‚Üí —Å—Ç–æ–∏—Ç –æ–±–Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É (`ANALYZE`) –∏–ª–∏ –ø–µ—Ä–µ–ø–∏—Å–∞—Ç—å –∑–∞–ø—Ä–æ—Å.

### –ò—Ç–æ–≥
- `EXPLAIN` ‚Äî –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø–ª–∞–Ω –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è (–æ—Ü–µ–Ω–∫–∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ç–æ—Ä–∞).
- `EXPLAIN ANALYZE` ‚Äî —Ä–µ–∞–ª—å–Ω–æ –≤—ã–ø–æ–ª–Ω—è–µ—Ç –∑–∞–ø—Ä–æ—Å –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç **—Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Ü–∏—Ñ—Ä—ã**.
- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Å–≤–æ–¥–∏—Ç—Å—è –∫:
  - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –∏–Ω–¥–µ–∫—Å–æ–≤,
  - –≤—ã–±–æ—Ä—É –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ —Ç–∏–ø–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π,
  - –º–∏–Ω–∏–º–∏–∑–∞—Ü–∏–∏ –ª–∏—à–Ω–µ–≥–æ —á—Ç–µ–Ω–∏—è —Å—Ç—Ä–æ–∫,
  - –æ–±–Ω–æ–≤–ª–µ–Ω–∏—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ —Ç–∞–±–ª–∏—Ü.  

## 42. –ß—Ç–æ —Ç–∞–∫–æ–µ BASE-–ø–æ–¥—Ö–æ–¥ –≤ –±–∞–∑–∞—Ö –¥–∞–Ω–Ω—ã—Ö?

**BASE** ‚Äî —ç—Ç–æ –∞–∫—Ä–æ–Ω–∏–º, –ø—Ä–æ—Ç–∏–≤–æ–ø–æ—Å—Ç–∞–≤–ª—è–µ–º—ã–π –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–æ–π –º–æ–¥–µ–ª–∏ **ACID**.  
–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –æ—Å–Ω–æ–≤–Ω–æ–º –≤ **NoSQL** –∏ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã—Ö –±–∞–∑–∞—Ö –¥–∞–Ω–Ω—ã—Ö, –≥–¥–µ –≤–∞–∂–Ω–∞ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å –∏ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å.

BASE —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤—ã–≤–∞–µ—Ç—Å—è –∫–∞–∫:
- **Basically Available** ‚Äî ¬´–≤ –æ—Å–Ω–æ–≤–Ω–æ–º –¥–æ—Å—Ç—É–ø–Ω–∞—è¬ª (—Å–∏—Å—Ç–µ–º–∞ –≤—Å–µ–≥–¥–∞ –æ—Ç–≤–µ—á–∞–µ—Ç, –ø—É—Å—Ç—å –¥–∞–∂–µ –Ω–µ –≤—Å–µ–≥–¥–∞ —Å –∞–∫—Ç—É–∞–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏).
- **Soft state** ‚Äî ¬´–º—è–≥–∫–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ¬ª (—Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã –º–æ–∂–µ—Ç —Å–æ –≤—Ä–µ–º–µ–Ω–µ–º –º–µ–Ω—è—Ç—å—Å—è, –¥–∞–∂–µ –±–µ–∑ –Ω–æ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π, –Ω–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–∏ —Ä–µ–ø–ª–∏–∫–∞—Ü–∏–∏).
- **Eventually consistent** ‚Äî ¬´—Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å –≤ –∫–æ–Ω–µ—á–Ω–æ–º –∏—Ç–æ–≥–µ¬ª (–¥–∞–Ω–Ω—ã–µ –≤ —Ä–∞–∑–Ω—ã—Ö —É–∑–ª–∞—Ö —Å–æ –≤—Ä–µ–º–µ–Ω–µ–º —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É—é—Ç—Å—è, –Ω–æ –Ω–µ –º–≥–Ω–æ–≤–µ–Ω–Ω–æ).

### –û—Ç–ª–∏—á–∏–µ –æ—Ç ACID
- **ACID**: —Å—Ç—Ä–æ–≥–æ–µ —Å–æ–±–ª—é–¥–µ–Ω–∏–µ –∞—Ç–æ–º–∞—Ä–Ω–æ—Å—Ç–∏, —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç–∏, –∏–∑–æ–ª—è—Ü–∏–∏ –∏ –¥–æ–ª–≥–æ–≤–µ—á–Ω–æ—Å—Ç–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π.
- **BASE**: –∂–µ—Ä—Ç–≤—É–µ—Ç —Å—Ç—Ä–æ–≥–æ–π —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å—é —Ä–∞–¥–∏ **–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç–∏**.

### –ì–¥–µ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è
- –†–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã (Cassandra, DynamoDB, CouchDB, Riak).
- –í—ã—Å–æ–∫–æ–Ω–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –≥–¥–µ –≤–∞–∂–Ω–µ–µ, —á—Ç–æ–±—ã —Å–∏—Å—Ç–µ–º–∞ **–Ω–µ –ø–∞–¥–∞–ª–∞** –∏ –æ—Ç–≤–µ—á–∞–ª–∞ –±—ã—Å—Ç—Ä–æ.
- –ö–æ–≥–¥–∞ –¥–æ–ø—É—Å—Ç–∏–º–∞ –Ω–µ–∫–æ—Ç–æ—Ä–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö.

### –ü—Ä–∏–º–µ—Ä
–°–∏—Å—Ç–µ–º–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –∞–≤–∏–∞–±–∏–ª–µ—Ç–æ–≤ –≤ —Å—Ç–∏–ª–µ BASE:
- –ù–µ—Å–∫–æ–ª—å–∫–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –º–æ–≥—É—Ç –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –≤–∏–¥–µ—Ç—å –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ ¬´–ø–æ—Å–ª–µ–¥–Ω–∏–π –±–∏–ª–µ—Ç¬ª.
- –í–æ–∑–º–æ–∂–Ω–æ, —á—Ç–æ —Å–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–¥–∞—Å—Ç –±–∏–ª–µ—Ç –¥–≤—É–º –∫–ª–∏–µ–Ω—Ç–∞–º.
- –ù–æ —á–µ—Ä–µ–∑ –∫–æ—Ä–æ—Ç–∫–æ–µ –≤—Ä–µ–º—è –¥–∞–Ω–Ω—ã–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É—é—Ç—Å—è, –∏ —Ä–µ–∞–ª—å–Ω–∞—è –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –∏—Å–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è.

### –ü–ª—é—Å—ã
- –í—ã—Å–æ–∫–∞—è –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –¥–∞–∂–µ –ø—Ä–∏ —Å–±–æ—è—Ö.
- –û—Ç–ª–∏—á–Ω–∞—è –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å –≤ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã—Ö —Å–∏—Å—Ç–µ–º–∞—Ö.
- –ë–æ–ª–µ–µ –≤—ã—Å–æ–∫–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å.

### –ú–∏–Ω—É—Å—ã
- –ù–µ—Ç —Å—Ç—Ä–æ–≥–æ–π —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç–∏ (–º–æ–∂–Ω–æ –≤—Ä–µ–º–µ–Ω–Ω–æ —á–∏—Ç–∞—Ç—å ¬´—É—Å—Ç–∞—Ä–µ–≤—à–∏–µ¬ª –¥–∞–Ω–Ω—ã–µ).
- –°–ª–æ–∂–Ω–µ–µ —Ä–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –≥–¥–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è –∂—ë—Å—Ç–∫–∞—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–æ–Ω–Ω–∞—è –ª–æ–≥–∏–∫–∞.
- –°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å –¥–æ—Å—Ç–∏–≥–∞–µ—Ç—Å—è –Ω–µ –º–≥–Ω–æ–≤–µ–Ω–Ω–æ, –∞ ¬´—Å–æ –≤—Ä–µ–º–µ–Ω–µ–º¬ª.

### –ò—Ç–æ–≥
**BASE** ‚Äî —ç—Ç–æ –ø–æ–¥—Ö–æ–¥, –ø—Ä–æ—Ç–∏–≤–æ–ø–æ—Å—Ç–∞–≤–ª—è–µ–º—ã–π ACID, –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –Ω–∞ **–º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å –∏ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å** —Ü–µ–Ω–æ–π —Å—Ç—Ä–æ–≥–æ–π —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç–∏.  
–û–Ω –∏–¥–µ–∞–ª—å–Ω–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è NoSQL –∏ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã—Ö —Å–∏—Å—Ç–µ–º, –≥–¥–µ –≤–∞–∂–Ω–æ ¬´–ª—É—á—à–µ –æ—Ç–≤–µ—Ç–∏—Ç—å –Ω–µ—Ç–æ—á–Ω–æ, —á–µ–º –Ω–µ –æ—Ç–≤–µ—Ç–∏—Ç—å —Å–æ–≤—Å–µ–º¬ª.  

## 43. –í —á–µ–º –æ—Ç–ª–∏—á–∏–µ BASE –∏ ACID –ø–æ–¥—Ö–æ–¥–æ–≤?

### ACID (—Ç—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –¥–ª—è —Ä–µ–ª—è—Ü–∏–æ–Ω–Ω—ã—Ö –ë–î)
- **Atomicity (–ê—Ç–æ–º–∞—Ä–Ω–æ—Å—Ç—å)** ‚Äî —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏–ª–∏ –Ω–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤–æ–≤—Å–µ.
- **Consistency (–°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å)** ‚Äî –¥–∞–Ω–Ω—ã–µ –≤—Å–µ–≥–¥–∞ –æ—Å—Ç–∞—é—Ç—Å—è –≤ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏.
- **Isolation (–ò–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ—Å—Ç—å)** ‚Äî –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –Ω–µ –º–µ—à–∞—é—Ç –¥—Ä—É–≥ –¥—Ä—É–≥—É.
- **Durability (–ù–∞–¥—ë–∂–Ω–æ—Å—Ç—å)** ‚Äî –¥–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –¥–∞–∂–µ –ø—Ä–∏ —Å–±–æ–µ.

‚û° –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –±–∞–Ω–∫–æ–≤—Å–∫–∏—Ö, —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö —Å–∏—Å—Ç–µ–º, –≥–¥–µ –≤–∞–∂–Ω–∞ **—Å—Ç—Ä–æ–≥–∞—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å**.

### BASE (–ø–æ–¥—Ö–æ–¥ –¥–ª—è —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã—Ö NoSQL —Å–∏—Å—Ç–µ–º)
- **Basically Available** ‚Äî —Å–∏—Å—Ç–µ–º–∞ –≤—Å–µ–≥–¥–∞ –æ—Ç–≤–µ—á–∞–µ—Ç, –¥–∞–∂–µ –µ—Å–ª–∏ –Ω–µ –≤—Å–µ –¥–∞–Ω–Ω—ã–µ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω—ã.
- **Soft State** ‚Äî —Å–æ—Å—Ç–æ—è–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –º–æ–∂–µ—Ç –º–µ–Ω—è—Ç—å—Å—è —Å–æ –≤—Ä–µ–º–µ–Ω–µ–º (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–∏ —Ä–µ–ø–ª–∏–∫–∞—Ü–∏–∏).
- **Eventually Consistent** ‚Äî –≤ –∫–æ–Ω–µ—á–Ω–æ–º –∏—Ç–æ–≥–µ –¥–∞–Ω–Ω—ã–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É—é—Ç—Å—è, –Ω–æ –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –º–≥–Ω–æ–≤–µ–Ω–Ω–æ.

‚û° –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º—ã—Ö –∏ –≤—ã—Å–æ–∫–æ–Ω–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π (—Å–æ—Ü—Å–µ—Ç–∏, –æ–Ω–ª–∞–π–Ω-–º–∞–≥–∞–∑–∏–Ω—ã), –≥–¥–µ –≤–∞–∂–Ω–∞ **–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å** –∏ **–±—ã—Å—Ç—Ä–æ–¥–µ–π—Å—Ç–≤–∏–µ**.

### –°—Ä–∞–≤–Ω–µ–Ω–∏–µ ACID vs BASE

| –ö—Ä–∏—Ç–µ—Ä–∏–π           | ACID                                   | BASE                                      |
|--------------------|----------------------------------------|-------------------------------------------|
| **–¶–µ–ª—å**           | –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –∏ –Ω–∞–¥—ë–∂–Ω–æ—Å—Ç—å              | –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å –∏ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å            |
| **–°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å** | –°—Ä–∞–∑—É –∏ –≤—Å–µ–≥–¥–∞                         | –í –∫–æ–Ω–µ—á–Ω–æ–º –∏—Ç–æ–≥–µ (eventual consistency)   |
| **–•–∞—Ä–∞–∫—Ç–µ—Ä –¥–∞–Ω–Ω—ã—Ö**| –°—Ç—Ä–æ–≥–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ                      | –ú—è–≥–∫–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ (soft state)             |
| **–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏**     | –°—Ç—Ä–æ–≥–∏–µ, –∞—Ç–æ–º–∞—Ä–Ω—ã–µ                     | –û—Å–ª–∞–±–ª–µ–Ω–Ω—ã–µ, —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–µ               |
| **–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ**     | –ë–∞–Ω–∫–∏, —Ñ–∏–Ω–∞–Ω—Å—ã, ERP-—Å–∏—Å—Ç–µ–º—ã            | Big Data, —Å–æ—Ü—Å–µ—Ç–∏, e-commerce, IoT        |
| **–ü–ª—é—Å—ã**          | –í—ã—Å–æ–∫–∞—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å                   | –í—ã—Å–æ–∫–∞—è –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å    |
| **–ú–∏–Ω—É—Å—ã**         | –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–∞—è –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å          | –í–æ–∑–º–æ–∂–Ω–∞ –≤—Ä–µ–º–µ–Ω–Ω–∞—è –Ω–µ—Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å      |

### –ò—Ç–æ–≥
- **ACID** = —Å—Ç—Ä–æ–≥–∞—è —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å –∏ –Ω–∞–¥—ë–∂–Ω–æ—Å—Ç—å, –Ω–æ –º–µ–Ω—å—à–µ –≥–∏–±–∫–æ—Å—Ç–∏ –ø—Ä–∏ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–∏.
- **BASE** = –≤—ã—Å–æ–∫–∞—è –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å, –Ω–æ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å –¥–æ—Å—Ç–∏–≥–∞–µ—Ç—Å—è –Ω–µ —Å—Ä–∞–∑—É.  

## 44. –£ –≤–∞—Å –µ—Å—Ç—å —Ç–∞–±–ª–∏—Ü–∞ –ª–æ–≥–æ–≤ —Å –º–∏–ª–ª–∏–∞—Ä–¥–∞–º–∏ —Å—Ç—Ä–æ–∫. –ö–∞–∫ –≤—ã –±—É–¥–µ—Ç–µ —É—Å–∫–æ—Ä—è—Ç—å –ø–æ–∏—Å–∫ –ø–æ –¥–∞—Ç–µ –∏ `user_id`?

–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–æ–ª–∂–Ω–∞ —Å—Ç—Ä–æ–∏—Ç—å—Å—è –ø–æ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è–º:

### 1. –ü–∞—Ä—Ç–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
- –†–∞–∑–±–∏—Ç—å —Ç–∞–±–ª–∏—Ü—É –ø–æ –¥–∞—Ç–µ (`RANGE PARTITION BY ts`), —á—Ç–æ–±—ã –∑–∞–ø—Ä–æ—Å—ã —Å—Ä–∞–∑—É –æ—Ç–±—Ä–∞—Å—ã–≤–∞–ª–∏ –Ω–µ–Ω—É–∂–Ω—ã–µ –ø–∞—Ä—Ç–∏—Ü–∏–∏ (*partition pruning*).
- –î–ª—è –±–æ–ª—å—à–∏—Ö –ø–∞—Ä—Ç–∏—Ü–∏–π –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —Å—É–±–ø–∞—Ä—Ç–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ —Ö—ç—à—É `user_id`.  
  ‚Üí –≠—Ç–æ –ø–æ–∑–≤–æ–ª–∏—Ç —á–∏—Ç–∞—Ç—å —Ç–æ–ª—å–∫–æ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ –∫—É—Å–∫–∏ –¥–∞–Ω–Ω—ã—Ö.

### 2. –ò–Ω–¥–µ–∫—Å—ã
- –°–æ–∑–¥–∞—Ç—å —Å–æ—Å—Ç–∞–≤–Ω–æ–π –∏–Ω–¥–µ–∫—Å `(user_id, ts)` –∏–ª–∏ `(ts, user_id)` ‚Äî –ø–æ—Ä—è–¥–æ–∫ –≤—ã–±–∏—Ä–∞–µ—Ç—Å—è –ø–æ —Ä–µ–∞–ª—å–Ω—ã–º –ø–∞—Ç—Ç–µ—Ä–Ω–∞–º –∑–∞–ø—Ä–æ—Å–æ–≤.
- –î–ª—è —à–∏—Ä–æ–∫–∏—Ö –¥–∏–∞–ø–∞–∑–æ–Ω–æ–≤ –¥–∞—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **BRIN-–∏–Ω–¥–µ–∫—Å** –ø–æ `ts`, –æ–Ω –æ—á–µ–Ω—å –ª—ë–≥–∫–∏–π –∏ —Ö–æ—Ä–æ—à–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –±–æ–ª—å—à–∏—Ö append-only –ª–æ–≥–∞—Ö.
- –î–ª—è —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö ¬´–≥–æ—Ä—è—á–∏—Ö¬ª –¥–∞–Ω–Ω—ã—Ö —Å–¥–µ–ª–∞—Ç—å **—á–∞—Å—Ç–∏—á–Ω—ã–π –∏–Ω–¥–µ–∫—Å**, –Ω–∞–ø—Ä–∏–º–µ—Ä, —Ç–æ–ª—å–∫–æ –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 30 –¥–Ω–µ–π.
- –ï—Å–ª–∏ –∑–∞–ø—Ä–æ—Å—ã –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è ‚Äî –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **covering-–∏–Ω–¥–µ–∫—Å (INCLUDE)**.

### 3. –ü–µ—Ä–µ–ø–∏—Å—ã–≤–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤
- –ù–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏ –Ω–∞–¥ –∫–æ–ª–æ–Ω–∫–æ–π –¥–∞—Ç—ã (`date(ts)`) ‚Äî —ç—Ç–æ –ª–æ–º–∞–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∏–Ω–¥–µ–∫—Å–∞.
- –í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ –∑–∞–¥–∞–≤–∞—Ç—å –¥–∏–∞–ø–∞–∑–æ–Ω:
```sql
  ts >= ‚Äò2025-08-24 00:00:00‚Äô AND ts < ‚Äò2025-08-25 00:00:00‚Äô
```
### 4. –ö–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏—è –∏ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `CLUSTER` –∏–ª–∏ `pg_repack` –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∞–Ω–∏—è –ª–æ–∫–∞–ª—å–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö.
- –°–ª–µ–¥–∏—Ç—å –∑–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ–π (`ANALYZE`) –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ `autovacuum`.

### 5. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ
- –î–ª—è —Å–ª–æ–∂–Ω—ã—Ö –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **TimescaleDB (hypertables)** –∏–ª–∏ –º–∞—Ç–µ—Ä–∏–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è.
- –ü—Ä–æ–≤–µ—Ä—è—Ç—å —Ä–µ–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —á–µ—Ä–µ–∑:
```sql
  EXPLAIN (ANALYZE, BUFFERS)
    SELECT ‚Ä¶
```

### –ò—Ç–æ–≥
- **–ü–∞—Ä—Ç–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ –¥–∞—Ç–µ** + **–∏–Ω–¥–µ–∫—Å—ã –ø–æ `user_id` –∏ `ts`** ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ.
- **BRIN –∏ —á–∞—Å—Ç–∏—á–Ω—ã–µ –∏–Ω–¥–µ–∫—Å—ã** –¥–∞—é—Ç –≤—ã–∏–≥—Ä—ã—à –¥–ª—è –æ–≥—Ä–æ–º–Ω—ã—Ö –æ–±—ä—ë–º–æ–≤.
- –ö–ª—é—á–µ–≤–æ–π –ø—Ä–∏–Ω—Ü–∏–ø ‚Äî ¬´—á—Ç–æ–±—ã –°–£–ë–î —á–∏—Ç–∞–ª–∞ –∫–∞–∫ –º–æ–∂–Ω–æ –º–µ–Ω—å—à–µ —Å—Ç—Ä–æ–∫ –∏ —Å—Ç—Ä–∞–Ω–∏—Ü¬ª.  